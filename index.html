<html>
<head><meta http-equiv=Content-Type content="text/html; charset=UTF-8">
<style type="text/css">
<!--
span.cls_003{font-family:"Tw Cen MT Bold",serif;font-size:14.0px;color:rgb(34,30,32);font-weight:bold;font-style:normal;text-decoration: none}
div.cls_003{font-family:"Tw Cen MT Bold",serif;font-size:14.0px;color:rgb(34,30,32);font-weight:bold;font-style:normal;text-decoration: none}
span.cls_002{font-family:"Tw Cen MT Bold",serif;font-size:36.0px;color:rgb(34,30,32);font-weight:bold;font-style:normal;text-decoration: none}
div.cls_002{font-family:"Tw Cen MT Bold",serif;font-size:36.0px;color:rgb(34,30,32);font-weight:bold;font-style:normal;text-decoration: none}
span.cls_004{font-family:Arial,serif;font-size:14.0px;color:rgb(34,30,32);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_004{font-family:Arial,serif;font-size:14.0px;color:rgb(34,30,32);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_005{font-family:Arial,serif;font-size:12.0px;color:rgb(34,30,32);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_005{font-family:Arial,serif;font-size:12.0px;color:rgb(34,30,32);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_006{font-family:Times,serif;font-size:11.0px;color:rgb(34,30,32);font-weight:normal;font-style:italic;text-decoration: none}
div.cls_006{font-family:Times,serif;font-size:11.0px;color:rgb(34,30,32);font-weight:normal;font-style:italic;text-decoration: none}
span.cls_007{font-family:Times,serif;font-size:6.6px;color:rgb(34,30,32);font-weight:normal;font-style:italic;text-decoration: none}
div.cls_007{font-family:Times,serif;font-size:6.6px;color:rgb(34,30,32);font-weight:normal;font-style:italic;text-decoration: none}
span.cls_009{font-family:"Tw Cen MT Bold",serif;font-size:16.0px;color:rgb(34,30,32);font-weight:bold;font-style:normal;text-decoration: none}
div.cls_009{font-family:"Tw Cen MT Bold",serif;font-size:16.0px;color:rgb(34,30,32);font-weight:bold;font-style:normal;text-decoration: none}
span.cls_008{font-family:"Tw Cen MT Bold",serif;font-size:42.0px;color:rgb(34,30,32);font-weight:bold;font-style:normal;text-decoration: none}
div.cls_008{font-family:"Tw Cen MT Bold",serif;font-size:42.0px;color:rgb(34,30,32);font-weight:bold;font-style:normal;text-decoration: none}
span.cls_010{font-family:Times,serif;font-size:20.0px;color:rgb(34,30,32);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_010{font-family:Times,serif;font-size:20.0px;color:rgb(34,30,32);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_011{font-family:Times,serif;font-size:11.0px;color:rgb(34,30,32);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_011{font-family:Times,serif;font-size:11.0px;color:rgb(34,30,32);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_012{font-family:Times,serif;font-size:8.1px;color:rgb(43,42,41);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_012{font-family:Times,serif;font-size:8.1px;color:rgb(43,42,41);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_013{font-family:Arial,serif;font-size:20.0px;color:rgb(34,30,32);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_013{font-family:Arial,serif;font-size:20.0px;color:rgb(34,30,32);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_015{font-family:Arial,serif;font-size:22.0px;color:rgb(34,30,32);font-weight:bold;font-style:normal;text-decoration: none}
div.cls_015{font-family:Arial,serif;font-size:22.0px;color:rgb(34,30,32);font-weight:bold;font-style:normal;text-decoration: none}
span.cls_014{font-family:Arial,serif;font-size:12.0px;color:rgb(34,30,32);font-weight:bold;font-style:normal;text-decoration: none}
div.cls_014{font-family:Arial,serif;font-size:12.0px;color:rgb(34,30,32);font-weight:bold;font-style:normal;text-decoration: none}
span.cls_016{font-family:Times,serif;font-size:11.0px;color:rgb(34,30,32);font-weight:bold;font-style:normal;text-decoration: none}
div.cls_016{font-family:Times,serif;font-size:11.0px;color:rgb(34,30,32);font-weight:bold;font-style:normal;text-decoration: none}
span.cls_017{font-family:Arial,serif;font-size:10.0px;color:rgb(34,30,32);font-weight:bold;font-style:normal;text-decoration: none}
div.cls_017{font-family:Arial,serif;font-size:10.0px;color:rgb(34,30,32);font-weight:bold;font-style:normal;text-decoration: none}
span.cls_018{font-family:"Book Antiqua",serif;font-size:10.0px;color:rgb(34,30,32);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_018{font-family:"Book Antiqua",serif;font-size:10.0px;color:rgb(34,30,32);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_019{font-family:Times,serif;font-size:7.7px;color:rgb(34,30,32);font-weight:bold;font-style:normal;text-decoration: none}
div.cls_019{font-family:Times,serif;font-size:7.7px;color:rgb(34,30,32);font-weight:bold;font-style:normal;text-decoration: none}
span.cls_020{font-family:Times,serif;font-size:12.1px;color:rgb(0,0,0);font-weight:normal;font-style:italic;text-decoration: none}
div.cls_020{font-family:Times,serif;font-size:12.1px;color:rgb(0,0,0);font-weight:normal;font-style:italic;text-decoration: none}
span.cls_021{font-family:Arial,serif;font-size:15.0px;color:rgb(34,30,32);font-weight:bold;font-style:normal;text-decoration: none}
div.cls_021{font-family:Arial,serif;font-size:15.0px;color:rgb(34,30,32);font-weight:bold;font-style:normal;text-decoration: none}
span.cls_022{font-family:Arial,serif;font-size:7.0px;color:rgb(34,30,32);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_022{font-family:Arial,serif;font-size:7.0px;color:rgb(34,30,32);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_024{font-family:Arial,serif;font-size:18.0px;color:rgb(167,169,172);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_024{font-family:Arial,serif;font-size:18.0px;color:rgb(167,169,172);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_023{font-family:Arial,serif;font-size:28.0px;color:rgb(34,30,32);font-weight:bold;font-style:normal;text-decoration: none}
div.cls_023{font-family:Arial,serif;font-size:28.0px;color:rgb(34,30,32);font-weight:bold;font-style:normal;text-decoration: none}
span.cls_025{font-family:Arial,serif;font-size:9.0px;color:rgb(255,254,255);font-weight:bold;font-style:normal;text-decoration: none}
div.cls_025{font-family:Arial,serif;font-size:9.0px;color:rgb(255,254,255);font-weight:bold;font-style:normal;text-decoration: none}
span.cls_026{font-family:"Book Antiqua",serif;font-size:9.0px;color:rgb(34,30,32);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_026{font-family:"Book Antiqua",serif;font-size:9.0px;color:rgb(34,30,32);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_027{font-family:Arial,serif;font-size:17.0px;color:rgb(34,30,32);font-weight:bold;font-style:normal;text-decoration: none}
div.cls_027{font-family:Arial,serif;font-size:17.0px;color:rgb(34,30,32);font-weight:bold;font-style:normal;text-decoration: none}
span.cls_028{font-family:Arial,serif;font-size:11.0px;color:rgb(34,30,32);font-weight:bold;font-style:normal;text-decoration: none}
div.cls_028{font-family:Arial,serif;font-size:11.0px;color:rgb(34,30,32);font-weight:bold;font-style:normal;text-decoration: none}
span.cls_029{font-family:Arial,serif;font-size:9.0px;color:rgb(34,30,32);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_029{font-family:Arial,serif;font-size:9.0px;color:rgb(34,30,32);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_030{font-family:Times,serif;font-size:10.0px;color:rgb(34,30,32);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_030{font-family:Times,serif;font-size:10.0px;color:rgb(34,30,32);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_031{font-family:Courier New,serif;font-size:9.0px;color:rgb(34,30,32);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_031{font-family:Courier New,serif;font-size:9.0px;color:rgb(34,30,32);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_032{font-family:Arial,serif;font-size:9.0px;color:rgb(34,30,32);font-weight:bold;font-style:normal;text-decoration: none}
div.cls_032{font-family:Arial,serif;font-size:9.0px;color:rgb(34,30,32);font-weight:bold;font-style:normal;text-decoration: none}
span.cls_033{font-family:Arial,serif;font-size:9.0px;color:rgb(34,30,32);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_033{font-family:Arial,serif;font-size:9.0px;color:rgb(34,30,32);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_034{font-family:Times,serif;font-size:7.7px;color:rgb(34,30,32);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_034{font-family:Times,serif;font-size:7.7px;color:rgb(34,30,32);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_035{font-family:Arial,serif;font-size:11.0px;color:rgb(255,254,255);font-weight:bold;font-style:normal;text-decoration: none}
div.cls_035{font-family:Arial,serif;font-size:11.0px;color:rgb(255,254,255);font-weight:bold;font-style:normal;text-decoration: none}
span.cls_036{font-family:Arial,serif;font-size:8.5px;color:rgb(34,30,32);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_036{font-family:Arial,serif;font-size:8.5px;color:rgb(34,30,32);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_037{font-family:Times,serif;font-size:9.0px;color:rgb(34,30,32);font-weight:normal;font-style:italic;text-decoration: none}
div.cls_037{font-family:Times,serif;font-size:9.0px;color:rgb(34,30,32);font-weight:normal;font-style:italic;text-decoration: none}
span.cls_038{font-family:Arial,serif;font-size:8.8px;color:rgb(34,30,32);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_038{font-family:Arial,serif;font-size:8.8px;color:rgb(34,30,32);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_039{font-family:Arial,serif;font-size:17.6px;color:rgb(34,30,32);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_039{font-family:Arial,serif;font-size:17.6px;color:rgb(34,30,32);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_040{font-family:"Book Antiqua",serif;font-size:5.4px;color:rgb(34,30,32);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_040{font-family:"Book Antiqua",serif;font-size:5.4px;color:rgb(34,30,32);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_041{font-family:Arial,serif;font-size:10.0px;color:rgb(34,30,32);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_041{font-family:Arial,serif;font-size:10.0px;color:rgb(34,30,32);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_042{font-family:Times,serif;font-size:10.5px;color:rgb(34,30,32);font-weight:normal;font-style:italic;text-decoration: none}
div.cls_042{font-family:Times,serif;font-size:10.5px;color:rgb(34,30,32);font-weight:normal;font-style:italic;text-decoration: none}
span.cls_043{font-family:Times,serif;font-size:10.5px;color:rgb(34,30,32);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_043{font-family:Times,serif;font-size:10.5px;color:rgb(34,30,32);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_044{font-family:Arial,serif;font-size:11.0px;color:rgb(34,30,32);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_044{font-family:Arial,serif;font-size:11.0px;color:rgb(34,30,32);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_045{font-family:Times,serif;font-size:10.0px;color:rgb(34,30,32);font-weight:normal;font-style:italic;text-decoration: none}
div.cls_045{font-family:Times,serif;font-size:10.0px;color:rgb(34,30,32);font-weight:normal;font-style:italic;text-decoration: none}
-->
</style>
<script type="text/javascript" src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/wz_jsgraphics.js"></script>
</head>
<body>
<div style="position:absolute;left:50%;margin-left:-276px;top:0px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background001.jpg" width=552 height=770></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:780px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background002.jpg" width=552 height=770></div>
<div style="position:absolute;left:409.77px;top:140.46px" class="cls_003"><span class="cls_003">™</span></div>
<div style="position:absolute;left:128.20px;top:134.47px" class="cls_002"><span class="cls_002">30 Arduino</span></div>
<div style="position:absolute;left:126.75px;top:176.43px" class="cls_002"><span class="cls_002">Projects for</span></div>
<div style="position:absolute;left:453.37px;top:224.38px" class="cls_003"><span class="cls_003">™</span></div>
<div style="position:absolute;left:84.60px;top:218.39px" class="cls_002"><span class="cls_002">the Evil Genius</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:1560px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background003.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:141.25px" class="cls_004"><span class="cls_004">Evil Genius</span><span class="cls_005">™</span><span class="cls_004"> Series</span></div>
<div style="position:absolute;left:36.12px;top:173.29px" class="cls_006"><span class="cls_006">Bike, Scooter, and Chopper Projects for the Evil Genius</span></div>
<div style="position:absolute;left:36.12px;top:191.27px" class="cls_006"><span class="cls_006">Bionics for the Evil Genius: 25 Build-it-Yourself Projects</span></div>
<div style="position:absolute;left:36.12px;top:209.25px" class="cls_006"><span class="cls_006">Electronic Circuits for the Evil Genius, Second Edition: 64 Lessons with Projects</span></div>
<div style="position:absolute;left:36.12px;top:227.23px" class="cls_006"><span class="cls_006">Electronic Gadgets for the Evil Genius: 28 Build-it-Yourself Projects</span></div>
<div style="position:absolute;left:36.12px;top:245.21px" class="cls_006"><span class="cls_006">Electronic Sensors for the Evil Genius: 54 Electrifying Projects</span></div>
<div style="position:absolute;left:36.12px;top:263.19px" class="cls_006"><span class="cls_006">50 Awesome Auto Projects for the Evil Genius</span></div>
<div style="position:absolute;left:36.12px;top:281.16px" class="cls_006"><span class="cls_006">50 Green Projects for the Evil Genius</span></div>
<div style="position:absolute;left:36.12px;top:299.14px" class="cls_006"><span class="cls_006">50 Model Rocket Projects for the Evil Genius</span></div>
<div style="position:absolute;left:36.12px;top:317.12px" class="cls_006"><span class="cls_006">51 High-Tech Practical Jokes for the Evil Genius</span></div>
<div style="position:absolute;left:36.12px;top:335.10px" class="cls_006"><span class="cls_006">46 Science Fair Projects for the Evil Genius</span></div>
<div style="position:absolute;left:36.12px;top:353.08px" class="cls_006"><span class="cls_006">Fuel Cell Projects for the Evil Genius</span></div>
<div style="position:absolute;left:36.12px;top:371.06px" class="cls_006"><span class="cls_006">Holography Projects for the Evil Genius</span></div>
<div style="position:absolute;left:36.12px;top:389.04px" class="cls_006"><span class="cls_006">Mechatronics for the Evil Genius: 25 Build-it-Yourself Projects</span></div>
<div style="position:absolute;left:36.12px;top:407.01px" class="cls_006"><span class="cls_006">Mind Performance Projects for the Evil Genius: 19 Brain-Bending Bio Hacks</span></div>
<div style="position:absolute;left:36.12px;top:424.99px" class="cls_006"><span class="cls_006">MORE Electronic Gadgets for the Evil Genius: 40 NEW Build-it-Yourself Projects</span></div>
<div style="position:absolute;left:36.12px;top:442.97px" class="cls_006"><span class="cls_006">101 Spy Gadgets for the Evil Genius</span></div>
<div style="position:absolute;left:36.12px;top:460.95px" class="cls_006"><span class="cls_006">101 Outer Space Projects for the Evil Genius</span></div>
<div style="position:absolute;left:36.12px;top:478.93px" class="cls_006"><span class="cls_006">123 PIC</span><span class="cls_007"><sup>®</sup></span><span class="cls_006"> Microcontroller Experiments for the Evil Genius</span></div>
<div style="position:absolute;left:36.12px;top:496.97px" class="cls_006"><span class="cls_006">123 Robotics Experiments for the Evil Genius</span></div>
<div style="position:absolute;left:36.12px;top:514.95px" class="cls_006"><span class="cls_006">125 Physics Projects for the Evil Genius</span></div>
<div style="position:absolute;left:36.12px;top:532.93px" class="cls_006"><span class="cls_006">PC Mods for the Evil Genius: 25 Custom Builds to Turbocharge Your Computer</span></div>
<div style="position:absolute;left:36.12px;top:550.91px" class="cls_006"><span class="cls_006">PICAXE Microcontroller Projects for the Evil Genius</span></div>
<div style="position:absolute;left:36.12px;top:568.89px" class="cls_006"><span class="cls_006">Programming Video Games for the Evil Genius</span></div>
<div style="position:absolute;left:36.12px;top:586.87px" class="cls_006"><span class="cls_006">Recycling Projects for the Evil Genius</span></div>
<div style="position:absolute;left:36.12px;top:604.84px" class="cls_006"><span class="cls_006">Solar Energy Projects for the Evil Genius</span></div>
<div style="position:absolute;left:36.12px;top:622.82px" class="cls_006"><span class="cls_006">Telephone Projects for the Evil Genius</span></div>
<div style="position:absolute;left:36.12px;top:640.80px" class="cls_006"><span class="cls_006">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:36.12px;top:658.78px" class="cls_006"><span class="cls_006">22 Radio and Receiver Projects for the Evil Genius</span></div>
<div style="position:absolute;left:36.12px;top:676.76px" class="cls_006"><span class="cls_006">25 Home Automation Projects for the Evil Genius</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:2340px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background004.jpg" width=552 height=770></div>
<div style="position:absolute;left:431.20px;top:139.81px" class="cls_009"><span class="cls_009">™</span></div>
<div style="position:absolute;left:104.77px;top:132.81px" class="cls_008"><span class="cls_008">30 Arduino</span></div>
<div style="position:absolute;left:101.88px;top:176.77px" class="cls_008"><span class="cls_008">Projects for</span></div>
<div style="position:absolute;left:481.86px;top:227.72px" class="cls_009"><span class="cls_009">™</span></div>
<div style="position:absolute;left:54.12px;top:220.73px" class="cls_008"><span class="cls_008">the Evil Genius</span></div>
<div style="position:absolute;left:223.28px;top:387.14px" class="cls_010"><span class="cls_010">Simon Monk</span></div>
<div style="position:absolute;left:128.62px;top:683.58px" class="cls_011"><span class="cls_011">New York  Chicago  San Francisco  Lisbon  London  Madrid</span></div>
<div style="position:absolute;left:156.91px;top:696.57px" class="cls_011"><span class="cls_011">Mexico City  Milan  New Delhi  San Juan  Seoul</span></div>
<div style="position:absolute;left:209.08px;top:709.56px" class="cls_011"><span class="cls_011">Singapore  Sydney  Toronto</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:3120px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background005.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.00px;top:67.15px" class="cls_012"><span class="cls_012">Copyright © 2010 by The McGraw-Hill Companies, Inc. All rights reserved. Except as permitted under the United States Copyright Act of 1976, no</span></div>
<div style="position:absolute;left:36.00px;top:77.15px" class="cls_012"><span class="cls_012">part of this publication may be reproduced or distributed in any form or by any means, or stored in a database or retrieval system, without the prior</span></div>
<div style="position:absolute;left:36.00px;top:87.15px" class="cls_012"><span class="cls_012">written permission of the publisher.</span></div>
<div style="position:absolute;left:36.00px;top:107.15px" class="cls_012"><span class="cls_012">ISBN: 978-0-07-174134-7</span></div>
<div style="position:absolute;left:36.00px;top:127.15px" class="cls_012"><span class="cls_012">MHID: 0-07-174134-8</span></div>
<div style="position:absolute;left:36.00px;top:147.15px" class="cls_012"><span class="cls_012">The material in this eBook also appears in the print version of this title: ISBN: 978-0-07-174133-0,</span></div>
<div style="position:absolute;left:36.00px;top:157.15px" class="cls_012"><span class="cls_012">MHID: 0-07-174133-X.</span></div>
<div style="position:absolute;left:36.00px;top:177.15px" class="cls_012"><span class="cls_012">All trademarks are trademarks of their respective owners. Rather than put a trademark symbol after every occurrence of a trademarked name, we use</span></div>
<div style="position:absolute;left:36.00px;top:187.15px" class="cls_012"><span class="cls_012">names in an editorial fashion only, and to the benefit of the trademark owner, with no intention of infringement of the trademark. Where such designa-</span></div>
<div style="position:absolute;left:36.00px;top:197.15px" class="cls_012"><span class="cls_012">tions appear in this book, they have been printed with initial caps.</span></div>
<div style="position:absolute;left:36.00px;top:217.15px" class="cls_012"><span class="cls_012">McGraw-Hill eBooks are available at special quantity discounts to use as premiums and sales promotions, or for use in corporate training programs. To</span></div>
<div style="position:absolute;left:36.00px;top:227.15px" class="cls_012"><span class="cls_012">contact a representative please e-mail us at bulksales@mcgraw-hill.com.</span></div>
<div style="position:absolute;left:36.00px;top:247.15px" class="cls_012"><span class="cls_012">Trademarks: McGraw-Hill, the McGraw-Hill Publishing logo, Evil Genius™, and related trade dress are trademarks or registered trademarks of The</span></div>
<div style="position:absolute;left:36.00px;top:257.15px" class="cls_012"><span class="cls_012">McGraw-Hill companies and/or its affiliates in the United States and other countries and may not be used without written permission. All other trade-</span></div>
<div style="position:absolute;left:36.00px;top:267.15px" class="cls_012"><span class="cls_012">marks are the property of their respective owners. The McGraw-Hill Companies is not associated with any product or vendor mentioned in this book.</span></div>
<div style="position:absolute;left:36.00px;top:287.15px" class="cls_012"><span class="cls_012">Information has been obtained by McGraw-Hill from sources believed to be reliable. However, because of the possibility of human or mechanical</span></div>
<div style="position:absolute;left:36.00px;top:297.15px" class="cls_012"><span class="cls_012">error by our sources, McGraw-Hill, or others, McGraw-Hill does not guarantee the accuracy, adequacy, or completeness of any information and is not</span></div>
<div style="position:absolute;left:36.00px;top:307.15px" class="cls_012"><span class="cls_012">responsible for any errors or omissions or the results obtained from the use of such information.</span></div>
<div style="position:absolute;left:36.00px;top:327.15px" class="cls_012"><span class="cls_012">TERMS OF USE</span></div>
<div style="position:absolute;left:36.00px;top:347.15px" class="cls_012"><span class="cls_012">This is a copyrighted work and The McGraw-Hill Companies, Inc. (“McGrawHill”) and its licensors reserve all rights in and to the work. Use of this</span></div>
<div style="position:absolute;left:36.00px;top:357.15px" class="cls_012"><span class="cls_012">work is subject to these terms. Except as permitted under the Copyright Act of 1976 and the right to store and retrieve one copy of the work, you may</span></div>
<div style="position:absolute;left:36.00px;top:367.15px" class="cls_012"><span class="cls_012">not decompile, disassemble, reverse engineer, reproduce, modify, create derivative works based upon, transmit, distribute, disseminate, sell, publish or</span></div>
<div style="position:absolute;left:36.00px;top:377.15px" class="cls_012"><span class="cls_012">sublicense the work or any part of it without McGraw-Hill’s prior consent. You may use the work for your own noncommercial and personal use; any</span></div>
<div style="position:absolute;left:36.00px;top:387.15px" class="cls_012"><span class="cls_012">other use of the work is strictly prohibited. Your right to use the work may be terminated if you fail to comply with these terms.</span></div>
<div style="position:absolute;left:36.00px;top:407.15px" class="cls_012"><span class="cls_012">THE WORK IS PROVIDED “AS IS.” McGRAW-HILL AND ITS LICENSORS MAKE NO GUARANTEES OR WARRANTIES AS TO THE</span></div>
<div style="position:absolute;left:36.00px;top:417.15px" class="cls_012"><span class="cls_012">ACCURACY, ADEQUACY OR COMPLETENESS OF OR RESULTS TO BE OBTAINED FROM USING THE WORK, INCLUDING ANY IN-</span></div>
<div style="position:absolute;left:36.00px;top:427.15px" class="cls_012"><span class="cls_012">FORMATION THAT CAN BE ACCESSED THROUGH THE WORK VIA HYPERLINK OR OTHERWISE, AND EXPRESSLY DISCLAIM ANY</span></div>
<div style="position:absolute;left:36.00px;top:437.15px" class="cls_012"><span class="cls_012">WARRANTY, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO IMPLIED WARRANTIES OF MERCHANTABILITY OR FIT-</span></div>
<div style="position:absolute;left:36.00px;top:447.15px" class="cls_012"><span class="cls_012">NESS FOR A PARTICULAR PURPOSE. McGraw-Hill and its licensors do not warrant or guarantee that the functions contained in the work will meet</span></div>
<div style="position:absolute;left:36.00px;top:457.15px" class="cls_012"><span class="cls_012">your requirements or that its operation will be uninterrupted or error free. Neither McGraw-Hill nor its licensors shall be liable to you or anyone else</span></div>
<div style="position:absolute;left:36.00px;top:467.15px" class="cls_012"><span class="cls_012">for any inaccuracy, error or omission, regardless of cause, in the work or for any damages resulting therefrom. McGraw-Hill has no responsibility for</span></div>
<div style="position:absolute;left:36.00px;top:477.15px" class="cls_012"><span class="cls_012">the content of any information accessed through the work. Under no circumstances shall McGraw-Hill and/or its licensors be liable for any indirect,</span></div>
<div style="position:absolute;left:36.00px;top:487.15px" class="cls_012"><span class="cls_012">incidental, special, punitive, consequential or similar damages that result from the use of or inability to use the work, even if any of them has been</span></div>
<div style="position:absolute;left:36.00px;top:497.15px" class="cls_012"><span class="cls_012">advised of the possibility of such damages. This limitation of liability shall apply to any claim or cause whatsoever whether such claim or cause arises</span></div>
<div style="position:absolute;left:36.00px;top:507.15px" class="cls_012"><span class="cls_012">in contract, tort or otherwise.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:3900px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background006.jpg" width=552 height=770></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:4680px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background007.jpg" width=552 height=770></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:5460px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background008.jpg" width=552 height=770></div>
<div style="position:absolute;left:106.02px;top:141.09px" class="cls_011"><span class="cls_011">To my late father, Hugh Monk, from whom I inherited a love for electronics.</span></div>
<div style="position:absolute;left:175.19px;top:155.08px" class="cls_011"><span class="cls_011">He would have had so much fun with all this.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:6240px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background009.jpg" width=552 height=770></div>
<div style="position:absolute;left:72.08px;top:140.40px" class="cls_013"><span class="cls_013">About the Author</span></div>
<div style="position:absolute;left:72.08px;top:183.34px" class="cls_011"><span class="cls_011">Simon Monk has a bachelor’s degree in cybernetics and computer science and a doctorate</span></div>
<div style="position:absolute;left:72.08px;top:198.32px" class="cls_011"><span class="cls_011">in software engineering. He has been an active electronics hobbyist since his school days,</span></div>
<div style="position:absolute;left:72.08px;top:213.31px" class="cls_011"><span class="cls_011">and is an occasional author in hobby electronics magazines.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:7020px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background010.jpg" width=552 height=770></div>
<div style="position:absolute;left:225.80px;top:54.07px" class="cls_015"><span class="cls_015">Contents</span></div>
<div style="position:absolute;left:84.17px;top:133.99px" class="cls_011"><span class="cls_011">Acknowledgments</span></div>
<div style="position:absolute;left:459.26px;top:133.99px" class="cls_011"><span class="cls_011">ix</span></div>
<div style="position:absolute;left:84.17px;top:154.97px" class="cls_011"><span class="cls_011">Introduction</span></div>
<div style="position:absolute;left:459.26px;top:154.97px" class="cls_011"><span class="cls_011">xi</span></div>
<div style="position:absolute;left:67.12px;top:174.95px" class="cls_014"><span class="cls_014">1</span></div>
<div style="position:absolute;left:84.17px;top:174.95px" class="cls_014"><span class="cls_014">Quickstart</span></div>
<div style="position:absolute;left:462.90px;top:174.95px" class="cls_014"><span class="cls_014">1</span></div>
<div style="position:absolute;left:84.17px;top:189.94px" class="cls_011"><span class="cls_011">Powering Up</span></div>
<div style="position:absolute;left:462.31px;top:189.94px" class="cls_011"><span class="cls_011">1</span></div>
<div style="position:absolute;left:84.17px;top:203.92px" class="cls_011"><span class="cls_011">Installing the Software</span></div>
<div style="position:absolute;left:462.33px;top:203.92px" class="cls_011"><span class="cls_011">1</span></div>
<div style="position:absolute;left:84.17px;top:217.91px" class="cls_011"><span class="cls_011">Configuring Your Arduino Environment</span></div>
<div style="position:absolute;left:462.32px;top:217.91px" class="cls_011"><span class="cls_011">6</span></div>
<div style="position:absolute;left:84.17px;top:231.89px" class="cls_011"><span class="cls_011">Downloading the Project Software</span></div>
<div style="position:absolute;left:462.33px;top:231.89px" class="cls_011"><span class="cls_011">6</span></div>
<div style="position:absolute;left:84.17px;top:245.88px" class="cls_016"><span class="cls_016">Project 1</span><span class="cls_011"> Flashing LED</span></div>
<div style="position:absolute;left:462.31px;top:245.88px" class="cls_011"><span class="cls_011">8</span></div>
<div style="position:absolute;left:84.17px;top:259.87px" class="cls_011"><span class="cls_011">Breadboard</span></div>
<div style="position:absolute;left:456.81px;top:259.87px" class="cls_011"><span class="cls_011">11</span></div>
<div style="position:absolute;left:84.17px;top:273.85px" class="cls_011"><span class="cls_011">Summary</span></div>
<div style="position:absolute;left:456.81px;top:273.85px" class="cls_011"><span class="cls_011">13</span></div>
<div style="position:absolute;left:64.71px;top:293.84px" class="cls_014"><span class="cls_014">2</span></div>
<div style="position:absolute;left:84.17px;top:293.84px" class="cls_014"><span class="cls_014">A Tour of Arduino</span></div>
<div style="position:absolute;left:455.33px;top:293.84px" class="cls_014"><span class="cls_014">15</span></div>
<div style="position:absolute;left:84.17px;top:308.82px" class="cls_011"><span class="cls_011">Microcontrollers</span></div>
<div style="position:absolute;left:456.82px;top:308.82px" class="cls_011"><span class="cls_011">15</span></div>
<div style="position:absolute;left:84.17px;top:322.81px" class="cls_011"><span class="cls_011">What’s on an Arduino Board?</span></div>
<div style="position:absolute;left:456.82px;top:322.81px" class="cls_011"><span class="cls_011">15</span></div>
<div style="position:absolute;left:84.17px;top:336.79px" class="cls_011"><span class="cls_011">The Arduino Family</span></div>
<div style="position:absolute;left:456.82px;top:336.79px" class="cls_011"><span class="cls_011">20</span></div>
<div style="position:absolute;left:84.17px;top:350.78px" class="cls_011"><span class="cls_011">The C Language</span></div>
<div style="position:absolute;left:456.81px;top:350.78px" class="cls_011"><span class="cls_011">21</span></div>
<div style="position:absolute;left:84.17px;top:364.77px" class="cls_011"><span class="cls_011">Summary</span></div>
<div style="position:absolute;left:456.81px;top:364.77px" class="cls_011"><span class="cls_011">25</span></div>
<div style="position:absolute;left:64.74px;top:384.75px" class="cls_014"><span class="cls_014">3</span></div>
<div style="position:absolute;left:84.17px;top:384.75px" class="cls_014"><span class="cls_014">LED Projects</span></div>
<div style="position:absolute;left:453.01px;top:384.75px" class="cls_014"><span class="cls_014">27</span></div>
<div style="position:absolute;left:84.17px;top:399.73px" class="cls_016"><span class="cls_016">Project 2</span><span class="cls_011"> Morse Code S.O.S. Flasher</span></div>
<div style="position:absolute;left:456.82px;top:399.73px" class="cls_011"><span class="cls_011">27</span></div>
<div style="position:absolute;left:84.17px;top:413.72px" class="cls_011"><span class="cls_011">Loops</span></div>
<div style="position:absolute;left:456.81px;top:413.72px" class="cls_011"><span class="cls_011">29</span></div>
<div style="position:absolute;left:84.17px;top:427.70px" class="cls_011"><span class="cls_011">Arrays</span></div>
<div style="position:absolute;left:456.81px;top:427.70px" class="cls_011"><span class="cls_011">30</span></div>
<div style="position:absolute;left:84.17px;top:441.69px" class="cls_016"><span class="cls_016">Project 3</span><span class="cls_011"> Morse Code Translator</span></div>
<div style="position:absolute;left:456.82px;top:441.69px" class="cls_011"><span class="cls_011">31</span></div>
<div style="position:absolute;left:84.17px;top:455.68px" class="cls_016"><span class="cls_016">Project 4</span><span class="cls_011"> High-Brightness Morse Code Translator</span></div>
<div style="position:absolute;left:456.84px;top:455.68px" class="cls_011"><span class="cls_011">35</span></div>
<div style="position:absolute;left:84.17px;top:469.66px" class="cls_011"><span class="cls_011">Summary</span></div>
<div style="position:absolute;left:456.81px;top:469.66px" class="cls_011"><span class="cls_011">40</span></div>
<div style="position:absolute;left:63.92px;top:489.64px" class="cls_014"><span class="cls_014">4</span></div>
<div style="position:absolute;left:84.17px;top:489.64px" class="cls_014"><span class="cls_014">More LED Projects</span></div>
<div style="position:absolute;left:454.86px;top:489.64px" class="cls_014"><span class="cls_014">41</span></div>
<div style="position:absolute;left:84.17px;top:504.63px" class="cls_011"><span class="cls_011">Digital Inputs and Outputs</span></div>
<div style="position:absolute;left:456.83px;top:504.63px" class="cls_011"><span class="cls_011">41</span></div>
<div style="position:absolute;left:84.17px;top:518.62px" class="cls_016"><span class="cls_016">Project 5</span><span class="cls_011"> Model Traffic Signal</span></div>
<div style="position:absolute;left:456.82px;top:518.62px" class="cls_011"><span class="cls_011">41</span></div>
<div style="position:absolute;left:84.17px;top:532.60px" class="cls_016"><span class="cls_016">Project 6</span><span class="cls_011"> Strobe Light</span></div>
<div style="position:absolute;left:456.81px;top:532.60px" class="cls_011"><span class="cls_011">44</span></div>
<div style="position:absolute;left:84.17px;top:546.59px" class="cls_016"><span class="cls_016">Project 7</span><span class="cls_011"> S.A.D. Light</span></div>
<div style="position:absolute;left:456.81px;top:546.59px" class="cls_011"><span class="cls_011">47</span></div>
<div style="position:absolute;left:84.17px;top:560.57px" class="cls_016"><span class="cls_016">Project 8</span><span class="cls_011"> High-Powered Strobe Light</span></div>
<div style="position:absolute;left:456.83px;top:560.57px" class="cls_011"><span class="cls_011">52</span></div>
<div style="position:absolute;left:84.17px;top:574.56px" class="cls_011"><span class="cls_011">Random Number Generation</span></div>
<div style="position:absolute;left:456.83px;top:574.56px" class="cls_011"><span class="cls_011">55</span></div>
<div style="position:absolute;left:84.17px;top:588.55px" class="cls_016"><span class="cls_016">Project 9</span><span class="cls_011"> LED Dice</span></div>
<div style="position:absolute;left:456.81px;top:588.55px" class="cls_011"><span class="cls_011">55</span></div>
<div style="position:absolute;left:84.17px;top:602.53px" class="cls_011"><span class="cls_011">Summary</span></div>
<div style="position:absolute;left:456.81px;top:602.53px" class="cls_011"><span class="cls_011">59</span></div>
<div style="position:absolute;left:64.63px;top:622.51px" class="cls_014"><span class="cls_014">5</span></div>
<div style="position:absolute;left:84.17px;top:622.51px" class="cls_014"><span class="cls_014">Sensor Projects</span></div>
<div style="position:absolute;left:455.07px;top:622.51px" class="cls_014"><span class="cls_014">61</span></div>
<div style="position:absolute;left:84.17px;top:637.50px" class="cls_016"><span class="cls_016">Project 10</span><span class="cls_011"> Keypad Security Code</span></div>
<div style="position:absolute;left:456.82px;top:637.50px" class="cls_011"><span class="cls_011">61</span></div>
<div style="position:absolute;left:84.17px;top:651.49px" class="cls_011"><span class="cls_011">Rotary Encoders</span></div>
<div style="position:absolute;left:456.82px;top:651.49px" class="cls_011"><span class="cls_011">67</span></div>
<div style="position:absolute;left:84.17px;top:665.47px" class="cls_016"><span class="cls_016">Project 11</span><span class="cls_011"> Model Traffic Signal Using a Rotary Encoder</span></div>
<div style="position:absolute;left:456.84px;top:665.47px" class="cls_011"><span class="cls_011">68</span></div>
<div style="position:absolute;left:84.17px;top:679.46px" class="cls_011"><span class="cls_011">Sensing Light</span></div>
<div style="position:absolute;left:456.81px;top:679.46px" class="cls_011"><span class="cls_011">72</span></div>
<div style="position:absolute;left:84.17px;top:693.44px" class="cls_016"><span class="cls_016">Project 12</span><span class="cls_011"> Pulse Rate Monitor</span></div>
<div style="position:absolute;left:456.82px;top:693.44px" class="cls_011"><span class="cls_011">73</span></div>
<div style="position:absolute;left:501.32px;top:718.42px" class="cls_014"><span class="cls_014">vii</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:7800px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background011.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">viii</span></div>
<div style="position:absolute;left:79.72px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:84.07px;top:69.16px" class="cls_011"><span class="cls_011">Measuring Temperature</span></div>
<div style="position:absolute;left:456.73px;top:69.16px" class="cls_011"><span class="cls_011">77</span></div>
<div style="position:absolute;left:84.07px;top:83.15px" class="cls_016"><span class="cls_016">Project 13</span><span class="cls_011"> USB Temperature Logger</span></div>
<div style="position:absolute;left:456.73px;top:83.15px" class="cls_011"><span class="cls_011">77</span></div>
<div style="position:absolute;left:84.07px;top:97.13px" class="cls_011"><span class="cls_011">Summary</span></div>
<div style="position:absolute;left:456.72px;top:97.13px" class="cls_011"><span class="cls_011">83</span></div>
<div style="position:absolute;left:64.15px;top:117.11px" class="cls_014"><span class="cls_014">6</span></div>
<div style="position:absolute;left:84.07px;top:117.11px" class="cls_014"><span class="cls_014">Light Projects</span></div>
<div style="position:absolute;left:452.76px;top:117.11px" class="cls_014"><span class="cls_014">85</span></div>
<div style="position:absolute;left:84.07px;top:132.10px" class="cls_016"><span class="cls_016">Project 14</span><span class="cls_011"> Multicolor Light Display</span></div>
<div style="position:absolute;left:456.73px;top:132.10px" class="cls_011"><span class="cls_011">85</span></div>
<div style="position:absolute;left:84.07px;top:146.09px" class="cls_011"><span class="cls_011">Seven-Segment LEDs</span></div>
<div style="position:absolute;left:456.72px;top:146.09px" class="cls_011"><span class="cls_011">89</span></div>
<div style="position:absolute;left:84.07px;top:160.07px" class="cls_016"><span class="cls_016">Project 15</span><span class="cls_011"> Seven-Segment LED Double Dice</span></div>
<div style="position:absolute;left:456.73px;top:160.07px" class="cls_011"><span class="cls_011">91</span></div>
<div style="position:absolute;left:84.07px;top:174.06px" class="cls_016"><span class="cls_016">Project 16</span><span class="cls_011"> LED Array</span></div>
<div style="position:absolute;left:456.72px;top:174.06px" class="cls_011"><span class="cls_011">95</span></div>
<div style="position:absolute;left:84.07px;top:188.04px" class="cls_011"><span class="cls_011">LCD Displays</span></div>
<div style="position:absolute;left:451.22px;top:188.04px" class="cls_011"><span class="cls_011">101</span></div>
<div style="position:absolute;left:84.07px;top:202.03px" class="cls_016"><span class="cls_016">Project 17</span><span class="cls_011"> USB Message Board</span></div>
<div style="position:absolute;left:451.23px;top:202.03px" class="cls_011"><span class="cls_011">102</span></div>
<div style="position:absolute;left:84.07px;top:216.02px" class="cls_011"><span class="cls_011">Summary</span></div>
<div style="position:absolute;left:451.22px;top:216.02px" class="cls_011"><span class="cls_011">105</span></div>
<div style="position:absolute;left:64.66px;top:236.00px" class="cls_014"><span class="cls_014">7</span></div>
<div style="position:absolute;left:84.07px;top:236.00px" class="cls_014"><span class="cls_014">Sound Projects</span></div>
<div style="position:absolute;left:446.93px;top:236.00px" class="cls_014"><span class="cls_014">107</span></div>
<div style="position:absolute;left:84.07px;top:250.98px" class="cls_016"><span class="cls_016">Project 18</span><span class="cls_011"> Oscilloscope</span></div>
<div style="position:absolute;left:451.22px;top:250.98px" class="cls_011"><span class="cls_011">107</span></div>
<div style="position:absolute;left:84.07px;top:264.97px" class="cls_011"><span class="cls_011">Sound Generation</span></div>
<div style="position:absolute;left:451.23px;top:264.97px" class="cls_011"><span class="cls_011">111</span></div>
<div style="position:absolute;left:84.07px;top:278.96px" class="cls_016"><span class="cls_016">Project 19</span><span class="cls_011"> Tune Player</span></div>
<div style="position:absolute;left:451.22px;top:278.96px" class="cls_011"><span class="cls_011">112</span></div>
<div style="position:absolute;left:84.07px;top:292.94px" class="cls_016"><span class="cls_016">Project 20</span><span class="cls_011"> Light Harp</span></div>
<div style="position:absolute;left:451.22px;top:292.94px" class="cls_011"><span class="cls_011">117</span></div>
<div style="position:absolute;left:84.07px;top:306.93px" class="cls_016"><span class="cls_016">Project 21</span><span class="cls_011"> VU Meter</span></div>
<div style="position:absolute;left:451.22px;top:306.93px" class="cls_011"><span class="cls_011">120</span></div>
<div style="position:absolute;left:84.07px;top:320.91px" class="cls_011"><span class="cls_011">Summary</span></div>
<div style="position:absolute;left:451.22px;top:320.91px" class="cls_011"><span class="cls_011">124</span></div>
<div style="position:absolute;left:64.53px;top:340.90px" class="cls_014"><span class="cls_014">8</span></div>
<div style="position:absolute;left:84.07px;top:340.90px" class="cls_014"><span class="cls_014">Power Projects</span></div>
<div style="position:absolute;left:447.77px;top:340.90px" class="cls_014"><span class="cls_014">125</span></div>
<div style="position:absolute;left:84.07px;top:355.88px" class="cls_016"><span class="cls_016">Project 22</span><span class="cls_011"> LCD Thermostat</span></div>
<div style="position:absolute;left:451.23px;top:355.88px" class="cls_011"><span class="cls_011">125</span></div>
<div style="position:absolute;left:84.07px;top:369.87px" class="cls_016"><span class="cls_016">Project 23</span><span class="cls_011"> Computer-Controlled Fan</span></div>
<div style="position:absolute;left:451.23px;top:369.87px" class="cls_011"><span class="cls_011">132</span></div>
<div style="position:absolute;left:84.07px;top:383.85px" class="cls_011"><span class="cls_011">H-Bridge Controllers</span></div>
<div style="position:absolute;left:451.24px;top:383.85px" class="cls_011"><span class="cls_011">134</span></div>
<div style="position:absolute;left:84.07px;top:397.84px" class="cls_016"><span class="cls_016">Project 24</span><span class="cls_011"> Hypnotizer</span></div>
<div style="position:absolute;left:451.22px;top:397.84px" class="cls_011"><span class="cls_011">134</span></div>
<div style="position:absolute;left:84.07px;top:411.83px" class="cls_011"><span class="cls_011">Servo Motors</span></div>
<div style="position:absolute;left:451.22px;top:411.83px" class="cls_011"><span class="cls_011">138</span></div>
<div style="position:absolute;left:84.07px;top:425.81px" class="cls_016"><span class="cls_016">Project 25</span><span class="cls_011"> Servo-Controlled Laser</span></div>
<div style="position:absolute;left:451.24px;top:425.81px" class="cls_011"><span class="cls_011">138</span></div>
<div style="position:absolute;left:84.07px;top:439.80px" class="cls_011"><span class="cls_011">Summary</span></div>
<div style="position:absolute;left:451.22px;top:439.80px" class="cls_011"><span class="cls_011">142</span></div>
<div style="position:absolute;left:64.15px;top:459.78px" class="cls_014"><span class="cls_014">9</span></div>
<div style="position:absolute;left:84.07px;top:459.78px" class="cls_014"><span class="cls_014">Miscellaneous Projects</span></div>
<div style="position:absolute;left:446.98px;top:459.78px" class="cls_014"><span class="cls_014">145</span></div>
<div style="position:absolute;left:84.07px;top:474.77px" class="cls_016"><span class="cls_016">Project 26</span><span class="cls_011"> Lie Detector</span></div>
<div style="position:absolute;left:451.23px;top:474.77px" class="cls_011"><span class="cls_011">145</span></div>
<div style="position:absolute;left:84.07px;top:488.75px" class="cls_016"><span class="cls_016">Project 27</span><span class="cls_011"> Magnetic Door Lock</span></div>
<div style="position:absolute;left:451.23px;top:488.75px" class="cls_011"><span class="cls_011">148</span></div>
<div style="position:absolute;left:84.07px;top:502.74px" class="cls_016"><span class="cls_016">Project 28</span><span class="cls_011"> Infrared Remote</span></div>
<div style="position:absolute;left:451.23px;top:502.74px" class="cls_011"><span class="cls_011">153</span></div>
<div style="position:absolute;left:84.07px;top:516.72px" class="cls_016"><span class="cls_016">Project 29</span><span class="cls_011"> Lilypad Clock</span></div>
<div style="position:absolute;left:451.22px;top:516.72px" class="cls_011"><span class="cls_011">159</span></div>
<div style="position:absolute;left:84.07px;top:530.71px" class="cls_016"><span class="cls_016">Project 30</span><span class="cls_011"> Evil Genius Countdown Timer</span></div>
<div style="position:absolute;left:451.23px;top:530.71px" class="cls_011"><span class="cls_011">163</span></div>
<div style="position:absolute;left:84.07px;top:544.70px" class="cls_011"><span class="cls_011">Summary</span></div>
<div style="position:absolute;left:451.22px;top:544.70px" class="cls_011"><span class="cls_011">168</span></div>
<div style="position:absolute;left:58.27px;top:564.68px" class="cls_014"><span class="cls_014">10</span></div>
<div style="position:absolute;left:84.07px;top:564.68px" class="cls_014"><span class="cls_014">Your Projects</span></div>
<div style="position:absolute;left:447.05px;top:564.68px" class="cls_014"><span class="cls_014">169</span></div>
<div style="position:absolute;left:84.07px;top:579.66px" class="cls_011"><span class="cls_011">Circuits</span></div>
<div style="position:absolute;left:451.22px;top:579.66px" class="cls_011"><span class="cls_011">169</span></div>
<div style="position:absolute;left:84.07px;top:593.65px" class="cls_011"><span class="cls_011">Components</span></div>
<div style="position:absolute;left:451.22px;top:593.65px" class="cls_011"><span class="cls_011">171</span></div>
<div style="position:absolute;left:84.07px;top:607.64px" class="cls_011"><span class="cls_011">Tools</span></div>
<div style="position:absolute;left:451.21px;top:607.64px" class="cls_011"><span class="cls_011">175</span></div>
<div style="position:absolute;left:84.07px;top:621.62px" class="cls_011"><span class="cls_011">Project Ideas</span></div>
<div style="position:absolute;left:451.23px;top:621.62px" class="cls_011"><span class="cls_011">179</span></div>
<div style="position:absolute;left:84.07px;top:641.60px" class="cls_014"><span class="cls_014">Appendix  Components and Supplies</span></div>
<div style="position:absolute;left:450.15px;top:641.60px" class="cls_014"><span class="cls_014">181</span></div>
<div style="position:absolute;left:84.07px;top:656.59px" class="cls_011"><span class="cls_011">Suppliers</span></div>
<div style="position:absolute;left:451.22px;top:656.59px" class="cls_011"><span class="cls_011">181</span></div>
<div style="position:absolute;left:84.07px;top:670.57px" class="cls_011"><span class="cls_011">Starter Kit of Components</span></div>
<div style="position:absolute;left:451.24px;top:670.57px" class="cls_011"><span class="cls_011">185</span></div>
<div style="position:absolute;left:84.07px;top:691.55px" class="cls_011"><span class="cls_011">Index</span></div>
<div style="position:absolute;left:451.22px;top:691.55px" class="cls_011"><span class="cls_011">187</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:8580px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background012.jpg" width=552 height=770></div>
<div style="position:absolute;left:172.50px;top:54.07px" class="cls_015"><span class="cls_015">Acknowledgments</span></div>
<div style="position:absolute;left:72.18px;top:127.09px" class="cls_016"><span class="cls_016">I</span><span class="cls_019"> WOULD LIKE</span><span class="cls_011"> to thank my sons, Stephen and Matthew Monk, for their interest and</span></div>
<div style="position:absolute;left:72.18px;top:142.08px" class="cls_011"><span class="cls_011">encouragement in the writing of this book, their helpful suggestions, and their field testing</span></div>
<div style="position:absolute;left:72.18px;top:157.06px" class="cls_011"><span class="cls_011">of projects. Also, I could not have written this book without Linda’s patience and support.</span></div>
<div style="position:absolute;left:84.17px;top:176.04px" class="cls_011"><span class="cls_011">I am grateful to Chris Fitzer for the loan of his oscilloscope, and his good grace after I</span></div>
<div style="position:absolute;left:72.18px;top:191.03px" class="cls_011"><span class="cls_011">broke it! I also thank all the “techies” at Momote for taking an interest in the project and</span></div>
<div style="position:absolute;left:72.18px;top:206.01px" class="cls_011"><span class="cls_011">humoring me.</span></div>
<div style="position:absolute;left:84.17px;top:224.99px" class="cls_011"><span class="cls_011">Finally, I would like to thank Roger Stewart and Joya Anthony at McGraw-Hill, who</span></div>
<div style="position:absolute;left:72.18px;top:239.98px" class="cls_011"><span class="cls_011">have been extremely supportive and enthusiastic, and have been a pleasure to work with.</span></div>
<div style="position:absolute;left:505.13px;top:718.42px" class="cls_014"><span class="cls_014">ix</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:9360px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background013.jpg" width=552 height=770></div>
<div style="position:absolute;left:196.00px;top:374.44px" class="cls_020"><span class="cls_020">This page intentionally left blank</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:10140px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background014.jpg" width=552 height=770></div>
<div style="position:absolute;left:206.62px;top:54.07px" class="cls_015"><span class="cls_015">Introduction</span></div>
<div style="position:absolute;left:36.21px;top:127.09px" class="cls_016"><span class="cls_016">A</span><span class="cls_019">RDUINO INTERFACE BOARDS</span><span class="cls_011"> provide the Evil</span></div>
<div style="position:absolute;left:299.96px;top:127.09px" class="cls_011"><span class="cls_011">At this point, the Evil Genius might be</span></div>
<div style="position:absolute;left:36.21px;top:142.08px" class="cls_011"><span class="cls_011">Genius with a low-cost, easy-to-use technology to</span></div>
<div style="position:absolute;left:287.97px;top:142.07px" class="cls_011"><span class="cls_011">wondering which top secret government</span></div>
<div style="position:absolute;left:36.21px;top:157.06px" class="cls_011"><span class="cls_011">create their evil projects. A whole new breed of</span></div>
<div style="position:absolute;left:287.97px;top:157.06px" class="cls_011"><span class="cls_011">organization they need to break into in order to</span></div>
<div style="position:absolute;left:36.21px;top:172.05px" class="cls_011"><span class="cls_011">projects can now be built that can be controlled</span></div>
<div style="position:absolute;left:287.97px;top:172.04px" class="cls_011"><span class="cls_011">acquire one. Well, disappointingly, no evil deeds at</span></div>
<div style="position:absolute;left:36.21px;top:187.03px" class="cls_011"><span class="cls_011">from a computer. Before long, the computer-</span></div>
<div style="position:absolute;left:287.97px;top:187.03px" class="cls_011"><span class="cls_011">all are required to obtain one of these devices. The</span></div>
<div style="position:absolute;left:36.21px;top:202.02px" class="cls_011"><span class="cls_011">controlled, servo-driven laser will be complete and</span></div>
<div style="position:absolute;left:287.97px;top:202.01px" class="cls_011"><span class="cls_011">Evil Genius needs to go no further than their</span></div>
<div style="position:absolute;left:36.21px;top:217.00px" class="cls_011"><span class="cls_011">the world will be at the mercy of the Evil Genius!</span></div>
<div style="position:absolute;left:287.97px;top:217.00px" class="cls_011"><span class="cls_011">favorite online auction site or search engine. Since</span></div>
<div style="position:absolute;left:287.97px;top:231.98px" class="cls_011"><span class="cls_011">the Arduino is an open-source hardware design,</span></div>
<div style="position:absolute;left:48.20px;top:235.98px" class="cls_011"><span class="cls_011">This book will show the Evil Genius how to</span></div>
<div style="position:absolute;left:287.97px;top:246.97px" class="cls_011"><span class="cls_011">anyone is free to take the designs and create their</span></div>
<div style="position:absolute;left:36.21px;top:250.97px" class="cls_011"><span class="cls_011">attach an Arduino board to their computer, to</span></div>
<div style="position:absolute;left:287.97px;top:261.95px" class="cls_011"><span class="cls_011">own clones of the Arduino and sell them, so the</span></div>
<div style="position:absolute;left:36.21px;top:265.95px" class="cls_011"><span class="cls_011">program it, and to connect all manner of</span></div>
<div style="position:absolute;left:287.97px;top:276.94px" class="cls_011"><span class="cls_011">market for the boards is competitive. An official</span></div>
<div style="position:absolute;left:36.21px;top:280.94px" class="cls_011"><span class="cls_011">electronics to it to create projects, including the</span></div>
<div style="position:absolute;left:287.97px;top:291.92px" class="cls_011"><span class="cls_011">Arduino costs about $30, and a clone often less</span></div>
<div style="position:absolute;left:36.21px;top:295.92px" class="cls_011"><span class="cls_011">computer-controlled, servo-driven laser mentioned</span></div>
<div style="position:absolute;left:287.97px;top:306.91px" class="cls_011"><span class="cls_011">than $20.</span></div>
<div style="position:absolute;left:36.21px;top:310.91px" class="cls_011"><span class="cls_011">earlier, a USB-controlled fan, a light harp, a USB</span></div>
<div style="position:absolute;left:36.21px;top:325.89px" class="cls_011"><span class="cls_011">temperature logger, a sound oscilloscope, and</span></div>
<div style="position:absolute;left:299.96px;top:325.89px" class="cls_011"><span class="cls_011">The name “Arduino” is reserved by the original</span></div>
<div style="position:absolute;left:36.21px;top:340.88px" class="cls_011"><span class="cls_011">many more.</span></div>
<div style="position:absolute;left:287.97px;top:340.87px" class="cls_011"><span class="cls_011">makers. However, clone Arduino designs often</span></div>
<div style="position:absolute;left:287.97px;top:355.86px" class="cls_011"><span class="cls_011">have the letters “duino” on the end of their name,</span></div>
<div style="position:absolute;left:48.20px;top:359.86px" class="cls_011"><span class="cls_011">Full schematic and construction details are</span></div>
<div style="position:absolute;left:287.97px;top:370.84px" class="cls_011"><span class="cls_011">for example, Freeduino or DFRduino.</span></div>
<div style="position:absolute;left:36.21px;top:374.84px" class="cls_011"><span class="cls_011">provided for every project, and most can be built</span></div>
<div style="position:absolute;left:36.21px;top:389.83px" class="cls_011"><span class="cls_011">without the need for soldering or special tools.</span></div>
<div style="position:absolute;left:299.96px;top:389.83px" class="cls_011"><span class="cls_011">The software for programming your Arduino is</span></div>
<div style="position:absolute;left:36.21px;top:404.81px" class="cls_011"><span class="cls_011">However, the more advanced Evil Genius may</span></div>
<div style="position:absolute;left:287.97px;top:404.81px" class="cls_011"><span class="cls_011">easy to use and also freely available for Windows,</span></div>
<div style="position:absolute;left:36.21px;top:419.80px" class="cls_011"><span class="cls_011">wish to transfer the projects from a plug-in</span></div>
<div style="position:absolute;left:287.97px;top:419.80px" class="cls_011"><span class="cls_011">Mac, and LINUX computers at no cost.</span></div>
<div style="position:absolute;left:36.21px;top:434.78px" class="cls_011"><span class="cls_011">breadboard to something more permanent, and</span></div>
<div style="position:absolute;left:36.21px;top:449.77px" class="cls_011"><span class="cls_011">instructions for this are also provided.</span></div>
<div style="position:absolute;left:287.97px;top:460.27px" class="cls_021"><span class="cls_021">Arduino</span></div>
<div style="position:absolute;left:287.97px;top:486.74px" class="cls_011"><span class="cls_011">Although Arduino is an open-source design for a</span></div>
<div style="position:absolute;left:36.21px;top:490.24px" class="cls_021"><span class="cls_021">So, What Is Arduino?</span></div>
<div style="position:absolute;left:287.97px;top:501.73px" class="cls_011"><span class="cls_011">microcontroller interface board, it is actually rather</span></div>
<div style="position:absolute;left:36.21px;top:516.71px" class="cls_011"><span class="cls_011">Well, Arduino is a small microcontroller board</span></div>
<div style="position:absolute;left:287.97px;top:516.71px" class="cls_011"><span class="cls_011">more than that, as it encompasses the software</span></div>
<div style="position:absolute;left:36.21px;top:531.70px" class="cls_011"><span class="cls_011">with a USB plug to connect to your computer and</span></div>
<div style="position:absolute;left:287.97px;top:531.70px" class="cls_011"><span class="cls_011">development tools that you need to program an</span></div>
<div style="position:absolute;left:36.21px;top:546.68px" class="cls_011"><span class="cls_011">a number of connection sockets that can be wired</span></div>
<div style="position:absolute;left:287.97px;top:546.68px" class="cls_011"><span class="cls_011">Arduino board, as well as the board itself. There is</span></div>
<div style="position:absolute;left:36.21px;top:561.67px" class="cls_011"><span class="cls_011">up to external electronics, such as motors, relays,</span></div>
<div style="position:absolute;left:287.97px;top:561.67px" class="cls_011"><span class="cls_011">a large community of construction, programming,</span></div>
<div style="position:absolute;left:36.21px;top:576.65px" class="cls_011"><span class="cls_011">light sensors, laser diodes, loudspeakers,</span></div>
<div style="position:absolute;left:287.97px;top:576.65px" class="cls_011"><span class="cls_011">electronics, and even art enthusiasts willing to</span></div>
<div style="position:absolute;left:36.21px;top:591.64px" class="cls_011"><span class="cls_011">microphones, etc. They can either be powered</span></div>
<div style="position:absolute;left:287.97px;top:591.64px" class="cls_011"><span class="cls_011">share their expertise and experience on the</span></div>
<div style="position:absolute;left:36.21px;top:606.62px" class="cls_011"><span class="cls_011">through the USB connection from the computer or</span></div>
<div style="position:absolute;left:287.97px;top:606.62px" class="cls_011"><span class="cls_011">Internet.</span></div>
<div style="position:absolute;left:36.21px;top:621.61px" class="cls_011"><span class="cls_011">from a 9V battery. They can be controlled from the</span></div>
<div style="position:absolute;left:299.96px;top:625.60px" class="cls_011"><span class="cls_011">To begin using Arduino, first go to the Arduino</span></div>
<div style="position:absolute;left:36.21px;top:636.59px" class="cls_011"><span class="cls_011">computer or programmed by the computer and</span></div>
<div style="position:absolute;left:287.97px;top:640.59px" class="cls_011"><span class="cls_011">site (</span><A HREF="http://www.arduino.cc/">www.arduino.cc</A>) and download the software</div>
<div style="position:absolute;left:36.21px;top:651.58px" class="cls_011"><span class="cls_011">then disconnected and allowed to work</span></div>
<div style="position:absolute;left:287.97px;top:655.57px" class="cls_011"><span class="cls_011">for Mac, PC, or LINUX. You can then either buy</span></div>
<div style="position:absolute;left:36.21px;top:666.56px" class="cls_011"><span class="cls_011">independently.</span></div>
<div style="position:absolute;left:287.97px;top:670.56px" class="cls_011"><span class="cls_011">an official Arduino by clicking the Buy An</span></div>
<div style="position:absolute;left:506.90px;top:718.82px" class="cls_017"><span class="cls_017">xi</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:10920px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background015.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">xii</span></div>
<div style="position:absolute;left:76.55px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:36.12px;top:69.16px" class="cls_011"><span class="cls_011">Arduino button or spend some time with your</span></div>
<div style="position:absolute;left:287.87px;top:69.15px" class="cls_011"><span class="cls_011">connection. When over the middle and bottom</span></div>
<div style="position:absolute;left:36.12px;top:84.15px" class="cls_011"><span class="cls_011">favorite search engine or an online auction site to</span></div>
<div style="position:absolute;left:287.87px;top:84.13px" class="cls_011"><span class="cls_011">pins, the board will be powered from an external</span></div>
<div style="position:absolute;left:36.12px;top:99.13px" class="cls_011"><span class="cls_011">find lower-cost alternatives. In the next chapter,</span></div>
<div style="position:absolute;left:287.87px;top:99.12px" class="cls_011"><span class="cls_011">power supply plugged into the socket below. On</span></div>
<div style="position:absolute;left:36.12px;top:114.12px" class="cls_011"><span class="cls_011">step-by-step instructions are provided for installing</span></div>
<div style="position:absolute;left:287.87px;top:114.10px" class="cls_011"><span class="cls_011">the newer Duemilanove boards, there is no such</span></div>
<div style="position:absolute;left:36.12px;top:129.10px" class="cls_011"><span class="cls_011">the software on all three platforms.</span></div>
<div style="position:absolute;left:287.87px;top:129.09px" class="cls_011"><span class="cls_011">jumper and the supply switches automatically from</span></div>
<div style="position:absolute;left:287.87px;top:144.07px" class="cls_011"><span class="cls_011">USB to the 9V socket.</span></div>
<div style="position:absolute;left:48.11px;top:148.08px" class="cls_011"><span class="cls_011">There are, in fact, several different designs of</span></div>
<div style="position:absolute;left:36.12px;top:163.07px" class="cls_011"><span class="cls_011">Arduino board. These are intended for different</span></div>
<div style="position:absolute;left:299.86px;top:163.05px" class="cls_011"><span class="cls_011">The power supply can be any voltage between</span></div>
<div style="position:absolute;left:36.12px;top:178.05px" class="cls_011"><span class="cls_011">types of applications. They can all be programmed</span></div>
<div style="position:absolute;left:287.87px;top:178.04px" class="cls_011"><span class="cls_011">7 and 12 volts. So a small 9V battery will work</span></div>
<div style="position:absolute;left:36.12px;top:193.04px" class="cls_011"><span class="cls_011">from the same Arduino development software, and</span></div>
<div style="position:absolute;left:287.87px;top:193.02px" class="cls_011"><span class="cls_011">just fine for portable applications. Typically, while</span></div>
<div style="position:absolute;left:36.12px;top:208.02px" class="cls_011"><span class="cls_011">in general, programs that work on one board will</span></div>
<div style="position:absolute;left:287.87px;top:208.01px" class="cls_011"><span class="cls_011">you are making your project, you will probably</span></div>
<div style="position:absolute;left:36.12px;top:223.01px" class="cls_011"><span class="cls_011">work on all.</span></div>
<div style="position:absolute;left:287.87px;top:222.99px" class="cls_011"><span class="cls_011">power it from USB for convenience. When you are</span></div>
<div style="position:absolute;left:287.87px;top:237.98px" class="cls_011"><span class="cls_011">ready to cut the umbilical cord (disconnect the</span></div>
<div style="position:absolute;left:48.11px;top:241.99px" class="cls_011"><span class="cls_011">In this book we mostly use the Arduino</span></div>
<div style="position:absolute;left:287.87px;top:252.96px" class="cls_011"><span class="cls_011">USB lead), you will want to power the board</span></div>
<div style="position:absolute;left:36.12px;top:256.97px" class="cls_011"><span class="cls_011">Duemilanove, sometimes called Arduino 2009,</span></div>
<div style="position:absolute;left:287.87px;top:267.95px" class="cls_011"><span class="cls_011">independently. This may be with an external power</span></div>
<div style="position:absolute;left:36.12px;top:271.96px" class="cls_011"><span class="cls_011">which is an update of the popular board, the</span></div>
<div style="position:absolute;left:287.87px;top:282.93px" class="cls_011"><span class="cls_011">adaptor or simply with a 9V battery connected to a</span></div>
<div style="position:absolute;left:36.12px;top:286.94px" class="cls_011"><span class="cls_011">Diecimila. Duemilanove is Italian for 2009, the</span></div>
<div style="position:absolute;left:287.87px;top:297.92px" class="cls_011"><span class="cls_011">plug to fit the power socket.</span></div>
<div style="position:absolute;left:36.12px;top:301.93px" class="cls_011"><span class="cls_011">year of its release. The older Diecimila name</span></div>
<div style="position:absolute;left:36.12px;top:316.92px" class="cls_011"><span class="cls_011">means 10,000 in Italian, and was named that after</span></div>
<div style="position:absolute;left:299.86px;top:316.90px" class="cls_011"><span class="cls_011">There are two rows of connectors on the edges</span></div>
<div style="position:absolute;left:36.12px;top:331.90px" class="cls_011"><span class="cls_011">10,000 boards had been manufactured. Most</span></div>
<div style="position:absolute;left:287.87px;top:331.89px" class="cls_011"><span class="cls_011">of the board. The row at the top of the diagram is</span></div>
<div style="position:absolute;left:36.12px;top:346.89px" class="cls_011"><span class="cls_011">compatible boards such as the Freeduino are based</span></div>
<div style="position:absolute;left:287.87px;top:346.87px" class="cls_011"><span class="cls_011">mostly digital (on/off) pins, although any marked</span></div>
<div style="position:absolute;left:36.12px;top:361.87px" class="cls_011"><span class="cls_011">on the Diecimila and Duemilanove designs.</span></div>
<div style="position:absolute;left:287.87px;top:361.86px" class="cls_011"><span class="cls_011">with “PWM” can be used as analog outputs. The</span></div>
<div style="position:absolute;left:287.87px;top:376.84px" class="cls_011"><span class="cls_011">bottom row of connectors has useful power</span></div>
<div style="position:absolute;left:48.11px;top:380.85px" class="cls_011"><span class="cls_011">Most of the projects in this book will work with</span></div>
<div style="position:absolute;left:287.87px;top:391.83px" class="cls_011"><span class="cls_011">connections on the left and analog inputs on</span></div>
<div style="position:absolute;left:36.12px;top:395.84px" class="cls_011"><span class="cls_011">a Diecimila, Duemilanove, or their clone designs,</span></div>
<div style="position:absolute;left:287.87px;top:406.81px" class="cls_011"><span class="cls_011">the right.</span></div>
<div style="position:absolute;left:36.12px;top:410.82px" class="cls_011"><span class="cls_011">apart from one project that uses the Arduino</span></div>
<div style="position:absolute;left:36.12px;top:425.81px" class="cls_011"><span class="cls_011">Lilypad.</span></div>
<div style="position:absolute;left:299.86px;top:425.79px" class="cls_011"><span class="cls_011">These connectors are arranged like this so that</span></div>
<div style="position:absolute;left:287.87px;top:440.78px" class="cls_011"><span class="cls_011">so-called “shield” boards can be plugged on to the</span></div>
<div style="position:absolute;left:48.11px;top:444.79px" class="cls_011"><span class="cls_011">When you are making a project with an</span></div>
<div style="position:absolute;left:287.87px;top:455.76px" class="cls_011"><span class="cls_011">main board in a piggyback fashion. It is possible to</span></div>
<div style="position:absolute;left:36.12px;top:459.77px" class="cls_011"><span class="cls_011">Arduino, you will need to download programs onto</span></div>
<div style="position:absolute;left:287.87px;top:470.75px" class="cls_011"><span class="cls_011">buy ready-made shields for many different</span></div>
<div style="position:absolute;left:36.12px;top:474.76px" class="cls_011"><span class="cls_011">the board using a USB lead between your</span></div>
<div style="position:absolute;left:287.87px;top:485.73px" class="cls_011"><span class="cls_011">purposes, including:</span></div>
<div style="position:absolute;left:36.12px;top:489.74px" class="cls_011"><span class="cls_011">computer and the Arduino. This is one of the most</span></div>
<div style="position:absolute;left:36.12px;top:504.73px" class="cls_011"><span class="cls_011">convenient things about using an Arduino. Many</span></div>
<div style="position:absolute;left:287.87px;top:508.73px" class="cls_022"><span class="cls_022">■</span><span class="cls_011">   Connection to Ethernet networks</span></div>
<div style="position:absolute;left:36.12px;top:519.71px" class="cls_011"><span class="cls_011">microcontroller boards use separate programming</span></div>
<div style="position:absolute;left:287.87px;top:527.71px" class="cls_022"><span class="cls_022">■</span><span class="cls_011">   LCD displays and touch screens</span></div>
<div style="position:absolute;left:36.12px;top:534.70px" class="cls_011"><span class="cls_011">hardware to get programs into the microcontroller.</span></div>
<div style="position:absolute;left:287.87px;top:546.70px" class="cls_022"><span class="cls_022">■</span><span class="cls_011">   XBee (wireless data communications)</span></div>
<div style="position:absolute;left:36.12px;top:549.68px" class="cls_011"><span class="cls_011">With Arduino, it’s all contained on the board itself.</span></div>
<div style="position:absolute;left:36.12px;top:564.67px" class="cls_011"><span class="cls_011">This also has the advantage that you can use the</span></div>
<div style="position:absolute;left:287.87px;top:565.68px" class="cls_022"><span class="cls_022">■</span><span class="cls_011">   Sound</span></div>
<div style="position:absolute;left:36.12px;top:579.65px" class="cls_011"><span class="cls_011">USB connection to pass data back and forth</span></div>
<div style="position:absolute;left:287.87px;top:584.66px" class="cls_022"><span class="cls_022">■</span><span class="cls_011">   Motor control</span></div>
<div style="position:absolute;left:36.12px;top:594.64px" class="cls_011"><span class="cls_011">between an Arduino board and your computer. For</span></div>
<div style="position:absolute;left:287.87px;top:603.64px" class="cls_022"><span class="cls_022">■</span><span class="cls_011">   GPS tracking</span></div>
<div style="position:absolute;left:36.12px;top:609.62px" class="cls_011"><span class="cls_011">instance, you could connect a temperature sensor</span></div>
<div style="position:absolute;left:36.12px;top:624.61px" class="cls_011"><span class="cls_011">to the Arduino and have it repeatedly tell your</span></div>
<div style="position:absolute;left:287.87px;top:622.62px" class="cls_022"><span class="cls_022">■</span><span class="cls_011">   And many more</span></div>
<div style="position:absolute;left:36.12px;top:639.59px" class="cls_011"><span class="cls_011">computer the temperature.</span></div>
<div style="position:absolute;left:299.86px;top:641.60px" class="cls_011"><span class="cls_011">You can also use prototyping shields to create</span></div>
<div style="position:absolute;left:48.11px;top:658.58px" class="cls_011"><span class="cls_011">On the older Diecimila boards, you will find a</span></div>
<div style="position:absolute;left:287.87px;top:656.59px" class="cls_011"><span class="cls_011">your own shield designs. We will use these</span></div>
<div style="position:absolute;left:36.12px;top:673.56px" class="cls_011"><span class="cls_011">jumper switch immediately below the USB socket.</span></div>
<div style="position:absolute;left:287.87px;top:671.57px" class="cls_011"><span class="cls_011">Protoshields in some of our projects. Shields</span></div>
<div style="position:absolute;left:36.12px;top:688.55px" class="cls_011"><span class="cls_011">With the jumper fitted over the top two pins, the</span></div>
<div style="position:absolute;left:287.87px;top:686.56px" class="cls_011"><span class="cls_011">usually have through connectors on their pins,</span></div>
<div style="position:absolute;left:36.12px;top:703.53px" class="cls_011"><span class="cls_011">board will receive its power from the USB</span></div>
<div style="position:absolute;left:287.87px;top:701.54px" class="cls_011"><span class="cls_011">which means that you can stack them on top of</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:11700px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background016.jpg" width=552 height=770></div>
<div style="position:absolute;left:411.17px;top:34.50px" class="cls_018"><span class="cls_018">Introduction</span></div>
<div style="position:absolute;left:500.87px;top:34.50px" class="cls_017"><span class="cls_017">xiii</span></div>
<div style="position:absolute;left:36.21px;top:69.16px" class="cls_011"><span class="cls_011">each other. So a design might have three layers: an</span></div>
<div style="position:absolute;left:299.96px;top:69.15px" class="cls_011"><span class="cls_011">Most of the projects in this book can be</span></div>
<div style="position:absolute;left:36.21px;top:84.15px" class="cls_011"><span class="cls_011">Arduino board on the bottom, a GPS shield on it,</span></div>
<div style="position:absolute;left:287.97px;top:84.14px" class="cls_011"><span class="cls_011">constructed without the need for soldering; instead</span></div>
<div style="position:absolute;left:36.21px;top:99.13px" class="cls_011"><span class="cls_011">and then an LCD display shield on top of that.</span></div>
<div style="position:absolute;left:287.97px;top:99.12px" class="cls_011"><span class="cls_011">we use a breadboard. A breadboard is a plastic</span></div>
<div style="position:absolute;left:287.97px;top:114.11px" class="cls_011"><span class="cls_011">block with holes in it with sprung metal</span></div>
<div style="position:absolute;left:287.97px;top:129.09px" class="cls_011"><span class="cls_011">connections behind. Electronic components are</span></div>
<div style="position:absolute;left:36.21px;top:139.59px" class="cls_021"><span class="cls_021">The Projects</span></div>
<div style="position:absolute;left:287.97px;top:144.08px" class="cls_011"><span class="cls_011">pushed through the holes at the front. These are</span></div>
<div style="position:absolute;left:287.97px;top:159.06px" class="cls_011"><span class="cls_011">not expensive, and a suitable breadboard is also</span></div>
<div style="position:absolute;left:36.21px;top:166.07px" class="cls_011"><span class="cls_011">The projects in this book are quite diverse. We</span></div>
<div style="position:absolute;left:287.97px;top:174.05px" class="cls_011"><span class="cls_011">listed in the appendix. However, if you wish to</span></div>
<div style="position:absolute;left:36.21px;top:181.05px" class="cls_011"><span class="cls_011">begin with some simple examples using standard</span></div>
<div style="position:absolute;left:287.97px;top:189.03px" class="cls_011"><span class="cls_011">make your designs more permanent, the book</span></div>
<div style="position:absolute;left:36.21px;top:196.04px" class="cls_011"><span class="cls_011">LEDs and also the ultra high-brightness Luxeon</span></div>
<div style="position:absolute;left:287.97px;top:204.02px" class="cls_011"><span class="cls_011">shows you how to do that, too, using the</span></div>
<div style="position:absolute;left:36.21px;top:211.02px" class="cls_011"><span class="cls_011">LEDs.</span></div>
<div style="position:absolute;left:287.97px;top:219.00px" class="cls_011"><span class="cls_011">prototyping board.</span></div>
<div style="position:absolute;left:48.20px;top:230.00px" class="cls_011"><span class="cls_011">In Chapter 5, we look at various sensor projects</span></div>
<div style="position:absolute;left:299.96px;top:237.98px" class="cls_011"><span class="cls_011">Sources for all the components are listed in the</span></div>
<div style="position:absolute;left:36.21px;top:244.99px" class="cls_011"><span class="cls_011">for logging temperature and measuring light and</span></div>
<div style="position:absolute;left:287.97px;top:252.97px" class="cls_011"><span class="cls_011">appendix, along with some useful suppliers. The</span></div>
<div style="position:absolute;left:36.21px;top:259.97px" class="cls_011"><span class="cls_011">pressure. The USB connection to the Arduino</span></div>
<div style="position:absolute;left:287.97px;top:267.95px" class="cls_011"><span class="cls_011">only things you will need in addition to these</span></div>
<div style="position:absolute;left:36.21px;top:274.96px" class="cls_011"><span class="cls_011">makes it possible to take the sensor readings in</span></div>
<div style="position:absolute;left:287.97px;top:282.94px" class="cls_011"><span class="cls_011">components are an Arduino board, a computer,</span></div>
<div style="position:absolute;left:36.21px;top:289.94px" class="cls_011"><span class="cls_011">these projects and pass them back to the computer,</span></div>
<div style="position:absolute;left:287.97px;top:297.92px" class="cls_011"><span class="cls_011">some wire, and a piece of breadboard. The</span></div>
<div style="position:absolute;left:36.21px;top:304.93px" class="cls_011"><span class="cls_011">where they can be imported into a spreadsheet and</span></div>
<div style="position:absolute;left:287.97px;top:312.91px" class="cls_011"><span class="cls_011">software for all the projects is available for</span></div>
<div style="position:absolute;left:36.21px;top:319.91px" class="cls_011"><span class="cls_011">charts drawn.</span></div>
<div style="position:absolute;left:287.97px;top:327.89px" class="cls_011"><span class="cls_011">download from </span><A HREF="http://www.arduinoevilgenius.com./">www.arduinoevilgenius.com.</A> </div>
<div style="position:absolute;left:48.20px;top:338.90px" class="cls_011"><span class="cls_011">We then look at projects using various types of</span></div>
<div style="position:absolute;left:36.21px;top:353.88px" class="cls_011"><span class="cls_011">display technology, including an alphanumeric</span></div>
<div style="position:absolute;left:36.21px;top:368.87px" class="cls_011"><span class="cls_011">LCD message board (again using USB to get</span></div>
<div style="position:absolute;left:287.97px;top:368.37px" class="cls_021"><span class="cls_021">Without Further Ado</span></div>
<div style="position:absolute;left:36.21px;top:383.85px" class="cls_011"><span class="cls_011">messages from your computer), as well as seven-</span></div>
<div style="position:absolute;left:287.97px;top:394.84px" class="cls_011"><span class="cls_011">The Evil Genius is not noted for their patience, so</span></div>
<div style="position:absolute;left:36.21px;top:398.84px" class="cls_011"><span class="cls_011">segment and multicolor LEDs.</span></div>
<div style="position:absolute;left:287.97px;top:409.83px" class="cls_011"><span class="cls_011">in the next chapter we will show you how to get</span></div>
<div style="position:absolute;left:48.20px;top:417.82px" class="cls_011"><span class="cls_011">Chapter 7 contains four projects that use sound</span></div>
<div style="position:absolute;left:287.97px;top:424.81px" class="cls_011"><span class="cls_011">started with Arduino as quickly as possible. This</span></div>
<div style="position:absolute;left:36.21px;top:432.80px" class="cls_011"><span class="cls_011">as well as a simple oscilloscope. We have a simple</span></div>
<div style="position:absolute;left:287.97px;top:439.80px" class="cls_011"><span class="cls_011">chapter contains all the instructions for installing</span></div>
<div style="position:absolute;left:36.21px;top:447.79px" class="cls_011"><span class="cls_011">project to play tunes from a loudspeaker, and build</span></div>
<div style="position:absolute;left:287.97px;top:454.78px" class="cls_011"><span class="cls_011">the software and programming your Arduino</span></div>
<div style="position:absolute;left:36.21px;top:462.77px" class="cls_011"><span class="cls_011">up to a light harp that changes the pitch and</span></div>
<div style="position:absolute;left:287.97px;top:469.77px" class="cls_011"><span class="cls_011">board, including downloading the software for the</span></div>
<div style="position:absolute;left:36.21px;top:477.76px" class="cls_011"><span class="cls_011">volume of the sound by waving your hand over</span></div>
<div style="position:absolute;left:287.97px;top:484.75px" class="cls_011"><span class="cls_011">projects, so you will need to read it before you</span></div>
<div style="position:absolute;left:36.21px;top:492.74px" class="cls_011"><span class="cls_011">light sensors. This produces an effect rather like</span></div>
<div style="position:absolute;left:287.97px;top:499.74px" class="cls_011"><span class="cls_011">embark on your projects.</span></div>
<div style="position:absolute;left:36.21px;top:507.73px" class="cls_011"><span class="cls_011">the famous Theremin synthesizer. The final project</span></div>
<div style="position:absolute;left:299.96px;top:518.72px" class="cls_011"><span class="cls_011">In Chapter 2 we take a look at some of the</span></div>
<div style="position:absolute;left:36.21px;top:522.71px" class="cls_011"><span class="cls_011">in this chapter uses sound input from a</span></div>
<div style="position:absolute;left:287.97px;top:533.71px" class="cls_011"><span class="cls_011">essential theory that will help you build the</span></div>
<div style="position:absolute;left:36.21px;top:537.70px" class="cls_011"><span class="cls_011">microphone. It is a VU meter that displays the</span></div>
<div style="position:absolute;left:287.97px;top:548.69px" class="cls_011"><span class="cls_011">projects described in this book, and go on to</span></div>
<div style="position:absolute;left:36.21px;top:552.68px" class="cls_011"><span class="cls_011">intensity of the sound on an LED display.</span></div>
<div style="position:absolute;left:287.97px;top:563.68px" class="cls_011"><span class="cls_011">design projects of your own. Most of the theory is</span></div>
<div style="position:absolute;left:48.20px;top:571.66px" class="cls_011"><span class="cls_011">The final chapters contain a mixture of projects.</span></div>
<div style="position:absolute;left:287.97px;top:578.66px" class="cls_011"><span class="cls_011">contained in this chapter, so if you are the kind of</span></div>
<div style="position:absolute;left:36.21px;top:586.65px" class="cls_011"><span class="cls_011">Among others, there is, as we have already</span></div>
<div style="position:absolute;left:287.97px;top:593.65px" class="cls_011"><span class="cls_011">Evil Genius who prefers to just make the projects</span></div>
<div style="position:absolute;left:36.21px;top:601.63px" class="cls_011"><span class="cls_011">mentioned, an unfathomable binary clock using an</span></div>
<div style="position:absolute;left:287.97px;top:608.63px" class="cls_011"><span class="cls_011">and find out how they work afterwards, you may</span></div>
<div style="position:absolute;left:36.21px;top:616.62px" class="cls_011"><span class="cls_011">Arduino Lilypad board that indicates the time in an</span></div>
<div style="position:absolute;left:287.97px;top:623.62px" class="cls_011"><span class="cls_011">prefer, after reading Chapter 1, to just to pick a</span></div>
<div style="position:absolute;left:36.21px;top:631.60px" class="cls_011"><span class="cls_011">obscure binary manner only readable by an Evil</span></div>
<div style="position:absolute;left:287.97px;top:638.60px" class="cls_011"><span class="cls_011">project and start building. Then if you get stuck,</span></div>
<div style="position:absolute;left:36.21px;top:646.59px" class="cls_011"><span class="cls_011">Genius, a lie detector, a motor-controlled swirling</span></div>
<div style="position:absolute;left:287.97px;top:653.59px" class="cls_011"><span class="cls_011">you can use the index or read some of the early</span></div>
<div style="position:absolute;left:36.21px;top:661.57px" class="cls_011"><span class="cls_011">hypnotizer disk, and, of course, the computer-</span></div>
<div style="position:absolute;left:287.97px;top:668.57px" class="cls_011"><span class="cls_011">chapters.</span></div>
<div style="position:absolute;left:36.21px;top:676.56px" class="cls_011"><span class="cls_011">controlled-servo-guided laser.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:12480px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background017.jpg" width=552 height=770></div>
<div style="position:absolute;left:196.00px;top:374.44px" class="cls_020"><span class="cls_020">This page intentionally left blank</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:13260px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background018.jpg" width=552 height=770></div>
<div style="position:absolute;left:198.50px;top:54.87px" class="cls_024"><span class="cls_024">C H A P T E R</span></div>
<div style="position:absolute;left:346.34px;top:54.87px" class="cls_024"><span class="cls_024">1</span></div>
<div style="position:absolute;left:201.52px;top:103.55px" class="cls_023"><span class="cls_023">Quickstart</span></div>
<div style="position:absolute;left:36.21px;top:223.00px" class="cls_016"><span class="cls_016">T</span><span class="cls_019">HIS IS A CHAPTER</span><span class="cls_011"> for the impatient Evil Genius.</span></div>
<div style="position:absolute;left:287.97px;top:222.99px" class="cls_011"><span class="cls_011">Arduino Duemilanove boards do not have this</span></div>
<div style="position:absolute;left:36.21px;top:237.98px" class="cls_011"><span class="cls_011">Your new Arduino board has arrived and you are</span></div>
<div style="position:absolute;left:287.97px;top:237.98px" class="cls_011"><span class="cls_011">jumper and select the power source automatically.</span></div>
<div style="position:absolute;left:36.21px;top:252.97px" class="cls_011"><span class="cls_011">eager to have it do something.</span></div>
<div style="position:absolute;left:299.96px;top:256.96px" class="cls_011"><span class="cls_011">If everything is working okay, the LED should</span></div>
<div style="position:absolute;left:48.20px;top:271.95px" class="cls_011"><span class="cls_011">So, without further ado...</span></div>
<div style="position:absolute;left:287.97px;top:271.94px" class="cls_011"><span class="cls_011">blink once every two seconds. The reason that new</span></div>
<div style="position:absolute;left:287.97px;top:286.93px" class="cls_011"><span class="cls_011">Arduino boards have this Blink sketch already</span></div>
<div style="position:absolute;left:287.97px;top:301.91px" class="cls_011"><span class="cls_011">installed is to verify that the board works. If your</span></div>
<div style="position:absolute;left:36.21px;top:312.41px" class="cls_021"><span class="cls_021">Powering Up</span></div>
<div style="position:absolute;left:287.97px;top:316.90px" class="cls_011"><span class="cls_011">board does not start to blink when connected,</span></div>
<div style="position:absolute;left:287.97px;top:331.88px" class="cls_011"><span class="cls_011">check the position of the power jumper (if it has</span></div>
<div style="position:absolute;left:36.21px;top:338.88px" class="cls_011"><span class="cls_011">When you buy an Arduino Diecimila or</span></div>
<div style="position:absolute;left:287.97px;top:346.87px" class="cls_011"><span class="cls_011">one) and try a different USB socket, possibly on a</span></div>
<div style="position:absolute;left:36.21px;top:353.87px" class="cls_011"><span class="cls_011">Duemilanove board, it is usually preinstalled with</span></div>
<div style="position:absolute;left:287.97px;top:361.85px" class="cls_011"><span class="cls_011">different computer, as some USB sockets are</span></div>
<div style="position:absolute;left:36.21px;top:368.85px" class="cls_011"><span class="cls_011">a sample Blink program that will make the little</span></div>
<div style="position:absolute;left:287.97px;top:376.84px" class="cls_011"><span class="cls_011">capable of supplying more power than others.</span></div>
<div style="position:absolute;left:36.21px;top:383.84px" class="cls_011"><span class="cls_011">built-in LED flash. Figure 1-1 shows an Arduino-</span></div>
<div style="position:absolute;left:287.97px;top:391.82px" class="cls_011"><span class="cls_011">Also, clicking the Reset button should cause the</span></div>
<div style="position:absolute;left:36.21px;top:398.82px" class="cls_011"><span class="cls_011">compatible board with the LED lit.</span></div>
<div style="position:absolute;left:287.97px;top:406.81px" class="cls_011"><span class="cls_011">LED to flicker momentarily. If this is the case, but</span></div>
<div style="position:absolute;left:48.20px;top:417.81px" class="cls_011"><span class="cls_011">The light-emitting diode (LED) marked L is</span></div>
<div style="position:absolute;left:287.97px;top:421.79px" class="cls_011"><span class="cls_011">the LED does not flash, then it may just be that the</span></div>
<div style="position:absolute;left:36.21px;top:432.79px" class="cls_011"><span class="cls_011">wired up to one of the digital input-output sockets</span></div>
<div style="position:absolute;left:287.97px;top:436.78px" class="cls_011"><span class="cls_011">board has not been programmed with the Flash</span></div>
<div style="position:absolute;left:36.21px;top:447.78px" class="cls_011"><span class="cls_011">on the board. It is connected to digital pin 13. This</span></div>
<div style="position:absolute;left:287.97px;top:451.76px" class="cls_011"><span class="cls_011">sketch; but do not despair, as once everything is</span></div>
<div style="position:absolute;left:36.21px;top:462.76px" class="cls_011"><span class="cls_011">really limits pin 13 to being used as an output, but</span></div>
<div style="position:absolute;left:287.97px;top:466.75px" class="cls_011"><span class="cls_011">installed, we are going to modify and install that</span></div>
<div style="position:absolute;left:36.21px;top:477.75px" class="cls_011"><span class="cls_011">the LED only uses a small amount of current, so</span></div>
<div style="position:absolute;left:287.97px;top:481.73px" class="cls_011"><span class="cls_011">script anyway as our first project.</span></div>
<div style="position:absolute;left:36.21px;top:492.73px" class="cls_011"><span class="cls_011">you can still connect other things to that connector.</span></div>
<div style="position:absolute;left:48.20px;top:511.71px" class="cls_011"><span class="cls_011">All you need to do to get your Arduino up and</span></div>
<div style="position:absolute;left:36.21px;top:526.70px" class="cls_011"><span class="cls_011">running is supply it with some power. The easiest</span></div>
<div style="position:absolute;left:287.97px;top:522.21px" class="cls_021"><span class="cls_021">Installing the Software</span></div>
<div style="position:absolute;left:36.21px;top:541.68px" class="cls_011"><span class="cls_011">way to do this is to plug in it into the Universal</span></div>
<div style="position:absolute;left:287.97px;top:548.68px" class="cls_011"><span class="cls_011">Now we have our Arduino working, let’s get the</span></div>
<div style="position:absolute;left:36.21px;top:556.67px" class="cls_011"><span class="cls_011">Serial Bus (USB) port on your computer. You will</span></div>
<div style="position:absolute;left:287.97px;top:563.66px" class="cls_011"><span class="cls_011">software installed so that we can alter the Blink</span></div>
<div style="position:absolute;left:36.21px;top:571.65px" class="cls_011"><span class="cls_011">need a type A-to-type B USB lead. This is the</span></div>
<div style="position:absolute;left:287.97px;top:578.65px" class="cls_011"><span class="cls_011">program and send it down to the board. The exact</span></div>
<div style="position:absolute;left:36.21px;top:586.64px" class="cls_011"><span class="cls_011">same type of lead that is normally used to connect</span></div>
<div style="position:absolute;left:287.97px;top:593.63px" class="cls_011"><span class="cls_011">procedure depends on what operating system you</span></div>
<div style="position:absolute;left:36.21px;top:601.62px" class="cls_011"><span class="cls_011">a computer to a printer.</span></div>
<div style="position:absolute;left:287.97px;top:608.62px" class="cls_011"><span class="cls_011">use on your computer. But the basic principle is</span></div>
<div style="position:absolute;left:48.20px;top:620.60px" class="cls_011"><span class="cls_011">If you are using the older Arduino Diecimila</span></div>
<div style="position:absolute;left:287.97px;top:623.60px" class="cls_011"><span class="cls_011">the same for all.</span></div>
<div style="position:absolute;left:36.21px;top:635.59px" class="cls_011"><span class="cls_011">board, make sure that the power jumper is in the</span></div>
<div style="position:absolute;left:299.96px;top:642.59px" class="cls_011"><span class="cls_011">Install the USB driver that allows the computer</span></div>
<div style="position:absolute;left:36.21px;top:650.57px" class="cls_011"><span class="cls_011">USB position (see Figure 1-1). The jumper should</span></div>
<div style="position:absolute;left:287.97px;top:657.57px" class="cls_011"><span class="cls_011">to talk to the Arduino’s USB port. It uses this for</span></div>
<div style="position:absolute;left:36.21px;top:665.56px" class="cls_011"><span class="cls_011">connect together the two top pins to allow the</span></div>
<div style="position:absolute;left:287.97px;top:672.56px" class="cls_011"><span class="cls_011">programming and sending messages.</span></div>
<div style="position:absolute;left:36.21px;top:680.54px" class="cls_011"><span class="cls_011">board to be powered from the USB. The newer</span></div>
<div style="position:absolute;left:511.53px;top:718.82px" class="cls_017"><span class="cls_017">1</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:14040px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background019.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">2</span></div>
<div style="position:absolute;left:70.91px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:42.11px;top:329.60px" class="cls_025"><span class="cls_025">Figure 1-1</span></div>
<div style="position:absolute;left:102.05px;top:330.59px" class="cls_026"><span class="cls_026">A powered-up Arduino board with LED lit.</span></div>
<div style="position:absolute;left:48.11px;top:356.88px" class="cls_011"><span class="cls_011">Install the Arduino development environment,</span></div>
<div style="position:absolute;left:299.86px;top:356.88px" class="cls_011"><span class="cls_011">Select the Save option from the dialog, and save</span></div>
<div style="position:absolute;left:36.12px;top:371.87px" class="cls_011"><span class="cls_011">which is the program that you run on your</span></div>
<div style="position:absolute;left:287.87px;top:371.86px" class="cls_011"><span class="cls_011">the Zip file onto your desktop. The folder</span></div>
<div style="position:absolute;left:36.12px;top:386.85px" class="cls_011"><span class="cls_011">computer that enables you to write sketches and</span></div>
<div style="position:absolute;left:287.87px;top:386.85px" class="cls_011"><span class="cls_011">contained in the Zip file will become your main</span></div>
<div style="position:absolute;left:36.12px;top:401.84px" class="cls_011"><span class="cls_011">download them to the Arduino board.</span></div>
<div style="position:absolute;left:287.87px;top:401.83px" class="cls_011"><span class="cls_011">Arduino directory, so now unzip it into C:\Program</span></div>
<div style="position:absolute;left:287.87px;top:416.82px" class="cls_011"><span class="cls_011">Files\Arduino.</span></div>
<div style="position:absolute;left:48.11px;top:420.82px" class="cls_011"><span class="cls_011">The Arduino website (</span><A HREF="http://www.arduino.cc/">www.arduino.cc</A>) contains</div>
<div style="position:absolute;left:36.12px;top:435.80px" class="cls_011"><span class="cls_011">the latest version of the software.</span></div>
<div style="position:absolute;left:299.86px;top:435.80px" class="cls_011"><span class="cls_011">You can do this in Windows XP by right-</span></div>
<div style="position:absolute;left:287.87px;top:450.78px" class="cls_011"><span class="cls_011">clicking the Zip file to show the menu in Figure</span></div>
<div style="position:absolute;left:287.87px;top:465.77px" class="cls_011"><span class="cls_011">1-3 and selecting the Extract All option. This will</span></div>
<div style="position:absolute;left:36.12px;top:468.77px" class="cls_005"><span class="cls_005">Installation on Windows</span></div>
<div style="position:absolute;left:287.87px;top:480.75px" class="cls_011"><span class="cls_011">open the Extraction Wizard, shown in Figure 1-4.</span></div>
<div style="position:absolute;left:36.12px;top:492.25px" class="cls_011"><span class="cls_011">Follow the download link on the Arduino home</span></div>
<div style="position:absolute;left:36.12px;top:507.23px" class="cls_011"><span class="cls_011">page (</span><A HREF="http://www.arduino.cc/">www.arduino.cc</A>) and select the download</div>
<div style="position:absolute;left:36.12px;top:522.22px" class="cls_011"><span class="cls_011">for Windows. This will start the download of the</span></div>
<div style="position:absolute;left:36.12px;top:537.20px" class="cls_011"><span class="cls_011">Zip archive containing the Arduino software, as</span></div>
<div style="position:absolute;left:36.12px;top:552.19px" class="cls_011"><span class="cls_011">shown in Figure 1-2. You may well be</span></div>
<div style="position:absolute;left:36.12px;top:567.17px" class="cls_011"><span class="cls_011">downloading a more recent version of the software</span></div>
<div style="position:absolute;left:36.12px;top:582.16px" class="cls_011"><span class="cls_011">than the version 17 shown. This should not matter,</span></div>
<div style="position:absolute;left:36.12px;top:597.14px" class="cls_011"><span class="cls_011">but if you experience any problems, refer back to</span></div>
<div style="position:absolute;left:36.12px;top:612.13px" class="cls_011"><span class="cls_011">the instructions on the Arduino home page.</span></div>
<div style="position:absolute;left:48.11px;top:631.11px" class="cls_011"><span class="cls_011">The Arduino software does not distinguish</span></div>
<div style="position:absolute;left:36.12px;top:646.10px" class="cls_011"><span class="cls_011">between different versions of Windows. The</span></div>
<div style="position:absolute;left:36.12px;top:661.08px" class="cls_011"><span class="cls_011">download should work for all versions, from</span></div>
<div style="position:absolute;left:36.12px;top:676.07px" class="cls_011"><span class="cls_011">Windows XP onwards. The following instructions</span></div>
<div style="position:absolute;left:36.12px;top:691.05px" class="cls_011"><span class="cls_011">are for Windows XP.</span></div>
<div style="position:absolute;left:293.87px;top:697.87px" class="cls_025"><span class="cls_025">Figure 1-2</span></div>
<div style="position:absolute;left:353.81px;top:698.86px" class="cls_026"><span class="cls_026">Downloading the Arduino software</span></div>
<div style="position:absolute;left:353.81px;top:712.84px" class="cls_026"><span class="cls_026">for Windows.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:14820px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background020.jpg" width=552 height=770></div>
<div style="position:absolute;left:349.01px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 1</span></div>
<div style="position:absolute;left:409.95px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    Quickstart</span></div>
<div style="position:absolute;left:509.54px;top:34.50px" class="cls_017"><span class="cls_017">3</span></div>
<div style="position:absolute;left:48.20px;top:69.16px" class="cls_011"><span class="cls_011">Click Next and then modify the folder to extract</span></div>
<div style="position:absolute;left:36.21px;top:84.15px" class="cls_011"><span class="cls_011">files to C:\Program Files\Arduino as shown in</span></div>
<div style="position:absolute;left:36.21px;top:99.13px" class="cls_011"><span class="cls_011">Figure 1-5. Then click Next again.</span></div>
<div style="position:absolute;left:48.20px;top:118.11px" class="cls_011"><span class="cls_011">This will create a new directory for this version</span></div>
<div style="position:absolute;left:36.21px;top:133.10px" class="cls_011"><span class="cls_011">of Arduino (in this case, 17) in the folder</span></div>
<div style="position:absolute;left:36.21px;top:148.08px" class="cls_011"><span class="cls_011">C:\Program Files\Arduino. This allows you to have</span></div>
<div style="position:absolute;left:36.21px;top:163.07px" class="cls_011"><span class="cls_011">multiple versions of Arduino installed at the same</span></div>
<div style="position:absolute;left:36.21px;top:178.05px" class="cls_011"><span class="cls_011">time, each in its own folder. Updates of Arduino</span></div>
<div style="position:absolute;left:36.21px;top:193.04px" class="cls_011"><span class="cls_011">are fairly infrequent and historically have always</span></div>
<div style="position:absolute;left:36.21px;top:208.02px" class="cls_011"><span class="cls_011">kept compatibility with earlier versions of the</span></div>
<div style="position:absolute;left:36.21px;top:223.01px" class="cls_011"><span class="cls_011">software. So unless there is a new feature of the</span></div>
<div style="position:absolute;left:36.21px;top:237.99px" class="cls_011"><span class="cls_011">software that you want to use, or you have been</span></div>
<div style="position:absolute;left:36.21px;top:252.98px" class="cls_011"><span class="cls_011">having problems, it is by no means essential to</span></div>
<div style="position:absolute;left:36.21px;top:267.96px" class="cls_011"><span class="cls_011">keep up with the latest version.</span></div>
<div style="position:absolute;left:353.90px;top:277.04px" class="cls_026"><span class="cls_026">Extracting the Arduino file in</span></div>
<div style="position:absolute;left:293.96px;top:276.05px" class="cls_025"><span class="cls_025">Figure 1-4</span></div>
<div style="position:absolute;left:48.20px;top:286.94px" class="cls_011"><span class="cls_011">Now that we have got the Arduino folder in the</span></div>
<div style="position:absolute;left:353.90px;top:291.02px" class="cls_026"><span class="cls_026">Windows.</span></div>
<div style="position:absolute;left:36.21px;top:301.93px" class="cls_011"><span class="cls_011">right place, we need to install the USB drivers. We</span></div>
<div style="position:absolute;left:36.21px;top:316.92px" class="cls_011"><span class="cls_011">let Windows do this for us by plugging in the</span></div>
<div style="position:absolute;left:36.21px;top:331.90px" class="cls_011"><span class="cls_011">Arduino board to trigger the Windows Found New</span></div>
<div style="position:absolute;left:36.21px;top:346.89px" class="cls_011"><span class="cls_011">Hardware Wizard shown in Figure 1-6.</span></div>
<div style="position:absolute;left:293.96px;top:520.61px" class="cls_025"><span class="cls_025">Figure 1-5</span></div>
<div style="position:absolute;left:353.90px;top:521.60px" class="cls_026"><span class="cls_026">Setting the directory for extraction.</span></div>
<div style="position:absolute;left:299.96px;top:550.49px" class="cls_011"><span class="cls_011">Select the option No, Not This Time, and then</span></div>
<div style="position:absolute;left:287.97px;top:565.47px" class="cls_011"><span class="cls_011">click Next.</span></div>
<div style="position:absolute;left:299.96px;top:584.45px" class="cls_011"><span class="cls_011">On the next screen (Figure 1-7), click the option</span></div>
<div style="position:absolute;left:287.97px;top:599.44px" class="cls_011"><span class="cls_011">to install from a specified location, enter or browse</span></div>
<div style="position:absolute;left:287.97px;top:614.42px" class="cls_011"><span class="cls_011">to the location C:\Program Files\Arduino\arduino-</span></div>
<div style="position:absolute;left:287.97px;top:629.41px" class="cls_011"><span class="cls_011">0017\drivers\FTDI USB Drivers, and then click</span></div>
<div style="position:absolute;left:287.97px;top:644.39px" class="cls_011"><span class="cls_011">Next. Note that you will have to change 0017 in</span></div>
<div style="position:absolute;left:287.97px;top:659.38px" class="cls_011"><span class="cls_011">the path noted if you download a different version.</span></div>
<div style="position:absolute;left:299.96px;top:678.36px" class="cls_011"><span class="cls_011">The installation will then complete and you are</span></div>
<div style="position:absolute;left:287.97px;top:693.35px" class="cls_011"><span class="cls_011">ready to start up the Arduino software itself. To do</span></div>
<div style="position:absolute;left:42.21px;top:698.84px" class="cls_025"><span class="cls_025">Figure 1-3</span></div>
<div style="position:absolute;left:102.15px;top:699.83px" class="cls_026"><span class="cls_026">The Extract All menu option in</span></div>
<div style="position:absolute;left:287.97px;top:708.33px" class="cls_011"><span class="cls_011">this, go to My Computer, navigate to C:\Program</span></div>
<div style="position:absolute;left:102.15px;top:713.81px" class="cls_026"><span class="cls_026">Windows.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:15600px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background021.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">4</span></div>
<div style="position:absolute;left:71.57px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:42.11px;top:254.07px" class="cls_025"><span class="cls_025">Figure 1-6</span></div>
<div style="position:absolute;left:102.05px;top:255.06px" class="cls_026"><span class="cls_026">Windows Found New Hardware</span></div>
<div style="position:absolute;left:293.87px;top:253.67px" class="cls_025"><span class="cls_025">Figure 1-7</span></div>
<div style="position:absolute;left:353.81px;top:254.66px" class="cls_026"><span class="cls_026">Setting the location of the USB</span></div>
<div style="position:absolute;left:102.05px;top:269.05px" class="cls_026"><span class="cls_026">Wizard.</span></div>
<div style="position:absolute;left:353.81px;top:268.65px" class="cls_026"><span class="cls_026">drivers.</span></div>
<div style="position:absolute;left:36.12px;top:297.94px" class="cls_011"><span class="cls_011">Files\Arduino\arduino-0017, and click the Arduino</span></div>
<div style="position:absolute;left:299.86px;top:297.54px" class="cls_011"><span class="cls_011">The next two sections describe this same</span></div>
<div style="position:absolute;left:36.12px;top:312.92px" class="cls_011"><span class="cls_011">icon, as shown in Figure 1-8. The Arduino</span></div>
<div style="position:absolute;left:287.87px;top:312.52px" class="cls_011"><span class="cls_011">procedure for installing on Mac and LINUX</span></div>
<div style="position:absolute;left:36.12px;top:327.91px" class="cls_011"><span class="cls_011">software will now start.</span></div>
<div style="position:absolute;left:287.87px;top:327.51px" class="cls_011"><span class="cls_011">computers, so if you are a Windows user, you can</span></div>
<div style="position:absolute;left:287.87px;top:342.49px" class="cls_011"><span class="cls_011">skip these sections.</span></div>
<div style="position:absolute;left:48.11px;top:346.89px" class="cls_011"><span class="cls_011">Note that there is no shortcut created for the</span></div>
<div style="position:absolute;left:36.12px;top:361.88px" class="cls_011"><span class="cls_011">Arduino program, so you may wish to select the</span></div>
<div style="position:absolute;left:36.12px;top:376.86px" class="cls_011"><span class="cls_011">Arduino program icon, right-click, and create a</span></div>
<div style="position:absolute;left:287.87px;top:375.46px" class="cls_005"><span class="cls_005">Installation on Mac OS X</span></div>
<div style="position:absolute;left:36.12px;top:391.85px" class="cls_011"><span class="cls_011">shortcut that you can then drag to your desktop.</span></div>
<div style="position:absolute;left:287.87px;top:398.94px" class="cls_011"><span class="cls_011">The process for installing the Arduino software on</span></div>
<div style="position:absolute;left:287.87px;top:413.93px" class="cls_011"><span class="cls_011">the Mac is a lot easier than on the PC.</span></div>
<div style="position:absolute;left:42.11px;top:710.63px" class="cls_025"><span class="cls_025">Figure 1-8</span></div>
<div style="position:absolute;left:102.05px;top:711.61px" class="cls_026"><span class="cls_026">Starting the Arduino software from Windows.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:16380px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background022.jpg" width=552 height=770></div>
<div style="position:absolute;left:348.92px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 1</span></div>
<div style="position:absolute;left:409.86px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    Quickstart</span></div>
<div style="position:absolute;left:509.45px;top:34.50px" class="cls_017"><span class="cls_017">5</span></div>
<div style="position:absolute;left:48.20px;top:69.16px" class="cls_011"><span class="cls_011">As before, the first step is to download the file.</span></div>
<div style="position:absolute;left:36.21px;top:84.15px" class="cls_011"><span class="cls_011">In the case of the Mac, it is a disk image file. Once</span></div>
<div style="position:absolute;left:36.21px;top:99.13px" class="cls_011"><span class="cls_011">downloaded, it will mount the disk image and open</span></div>
<div style="position:absolute;left:36.21px;top:114.12px" class="cls_011"><span class="cls_011">a Finder window, as shown in Figure 1-9. The</span></div>
<div style="position:absolute;left:36.21px;top:129.10px" class="cls_011"><span class="cls_011">Arduino application itself is installed in the usual</span></div>
<div style="position:absolute;left:36.21px;top:144.09px" class="cls_011"><span class="cls_011">Mac way by dragging it from the disk image to</span></div>
<div style="position:absolute;left:36.21px;top:159.07px" class="cls_011"><span class="cls_011">your Applications folder.</span></div>
<div style="position:absolute;left:48.20px;top:178.05px" class="cls_011"><span class="cls_011">The disk image also contains two installer</span></div>
<div style="position:absolute;left:36.21px;top:193.04px" class="cls_011"><span class="cls_011">packages for the USB drivers (see Figure 1-10). Be</span></div>
<div style="position:absolute;left:36.21px;top:208.02px" class="cls_011"><span class="cls_011">sure to choose the package for your system</span></div>
<div style="position:absolute;left:36.21px;top:223.01px" class="cls_011"><span class="cls_011">architecture. Unless you are using a Mac built</span></div>
<div style="position:absolute;left:36.21px;top:237.99px" class="cls_011"><span class="cls_011">before March 2006, you will need to use the Intel</span></div>
<div style="position:absolute;left:36.21px;top:252.98px" class="cls_011"><span class="cls_011">version rather than the PPC version.</span></div>
<div style="position:absolute;left:48.20px;top:271.96px" class="cls_011"><span class="cls_011">When you run the installer, you can simply click</span></div>
<div style="position:absolute;left:293.96px;top:272.05px" class="cls_025"><span class="cls_025">Figure 1-9</span></div>
<div style="position:absolute;left:353.90px;top:273.04px" class="cls_026"><span class="cls_026">Installing the Arduino software on</span></div>
<div style="position:absolute;left:36.21px;top:286.94px" class="cls_011"><span class="cls_011">Continue until you come to the Select Disk screen,</span></div>
<div style="position:absolute;left:353.90px;top:287.03px" class="cls_026"><span class="cls_026">Mac OS X.</span></div>
<div style="position:absolute;left:36.21px;top:301.93px" class="cls_011"><span class="cls_011">where you must select the hard disk before</span></div>
<div style="position:absolute;left:36.21px;top:316.92px" class="cls_011"><span class="cls_011">clicking Continue. As this software installs a</span></div>
<div style="position:absolute;left:299.96px;top:315.91px" class="cls_011"><span class="cls_011">You can now skip the next subsection, which is</span></div>
<div style="position:absolute;left:36.21px;top:331.90px" class="cls_011"><span class="cls_011">kernel extension, it will prompt you to enter your</span></div>
<div style="position:absolute;left:287.97px;top:330.90px" class="cls_011"><span class="cls_011">for installation on LINUX.</span></div>
<div style="position:absolute;left:36.21px;top:346.89px" class="cls_011"><span class="cls_011">password before completing the installation.</span></div>
<div style="position:absolute;left:48.20px;top:365.87px" class="cls_011"><span class="cls_011">You can now find and launch the Arduino</span></div>
<div style="position:absolute;left:287.97px;top:363.87px" class="cls_005"><span class="cls_005">Installation on LINUX</span></div>
<div style="position:absolute;left:36.21px;top:380.85px" class="cls_011"><span class="cls_011">software in your Applications folder. As you are</span></div>
<div style="position:absolute;left:287.97px;top:387.35px" class="cls_011"><span class="cls_011">There are many different LINUX distributions, and</span></div>
<div style="position:absolute;left:36.21px;top:395.84px" class="cls_011"><span class="cls_011">going to use it frequently, you may wish to right-</span></div>
<div style="position:absolute;left:287.97px;top:402.34px" class="cls_011"><span class="cls_011">for the latest information, refer to the Arduino</span></div>
<div style="position:absolute;left:36.21px;top:410.82px" class="cls_011"><span class="cls_011">click its icon in the dock and set it to Keep In</span></div>
<div style="position:absolute;left:287.97px;top:417.32px" class="cls_011"><span class="cls_011">home page. However, for most versions of LINUX,</span></div>
<div style="position:absolute;left:36.21px;top:425.81px" class="cls_011"><span class="cls_011">Dock.</span></div>
<div style="position:absolute;left:287.97px;top:432.31px" class="cls_011"><span class="cls_011">installation is straightforward. Your LINUX will</span></div>
<div style="position:absolute;left:42.21px;top:709.63px" class="cls_025"><span class="cls_025">Figure 1-10</span></div>
<div style="position:absolute;left:102.15px;top:710.61px" class="cls_026"><span class="cls_026">Installing the USB drivers on Mac OS X.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:17160px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background023.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">6</span></div>
<div style="position:absolute;left:71.30px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:36.12px;top:69.16px" class="cls_011"><span class="cls_011">probably already have the USB drivers installed,</span></div>
<div style="position:absolute;left:287.87px;top:69.16px" class="cls_011"><span class="cls_011">computer using the USB port or you will not be</span></div>
<div style="position:absolute;left:36.12px;top:84.15px" class="cls_011"><span class="cls_011">the AVR-GCC libraries, and the Java environment</span></div>
<div style="position:absolute;left:287.87px;top:84.14px" class="cls_011"><span class="cls_011">able to select the serial port.</span></div>
<div style="position:absolute;left:36.12px;top:99.13px" class="cls_011"><span class="cls_011">that the Arduino software needs.</span></div>
<div style="position:absolute;left:299.86px;top:103.12px" class="cls_011"><span class="cls_011">The serial port is set from the Tools menu, as</span></div>
<div style="position:absolute;left:48.11px;top:118.11px" class="cls_011"><span class="cls_011">So, if you are lucky, all you will need to do is</span></div>
<div style="position:absolute;left:287.87px;top:118.11px" class="cls_011"><span class="cls_011">shown in Figure 1-11 for the Mac and in Figure</span></div>
<div style="position:absolute;left:36.12px;top:133.10px" class="cls_011"><span class="cls_011">download the TGZ file for the Arduino software</span></div>
<div style="position:absolute;left:287.87px;top:133.09px" class="cls_011"><span class="cls_011">1-12 for Windows—the list of ports for LINUX is</span></div>
<div style="position:absolute;left:36.12px;top:148.08px" class="cls_011"><span class="cls_011">from the Arduino home page (</span><A HREF="http://www.arduino.cc/">www.arduino.cc</A>),</div>
<div style="position:absolute;left:287.87px;top:148.08px" class="cls_011"><span class="cls_011">similar to the Mac.</span></div>
<div style="position:absolute;left:36.12px;top:163.07px" class="cls_011"><span class="cls_011">extract it, and that is your working Arduino</span></div>
<div style="position:absolute;left:299.86px;top:167.06px" class="cls_011"><span class="cls_011">If you use many USB or Bluetooth devices with</span></div>
<div style="position:absolute;left:36.12px;top:178.05px" class="cls_011"><span class="cls_011">directory.</span></div>
<div style="position:absolute;left:287.87px;top:182.05px" class="cls_011"><span class="cls_011">your Mac, you are likely to have quite a few</span></div>
<div style="position:absolute;left:48.11px;top:197.03px" class="cls_011"><span class="cls_011">If, on the other hand, you are unlucky, then as a</span></div>
<div style="position:absolute;left:287.87px;top:197.03px" class="cls_011"><span class="cls_011">options in this list. Select the item in the list that</span></div>
<div style="position:absolute;left:36.12px;top:212.02px" class="cls_011"><span class="cls_011">LINUX user, you are probably already adept at</span></div>
<div style="position:absolute;left:287.87px;top:212.02px" class="cls_011"><span class="cls_011">begins with “dev/tty.usbserial.”</span></div>
<div style="position:absolute;left:36.12px;top:227.00px" class="cls_011"><span class="cls_011">finding support from the LINUX community for</span></div>
<div style="position:absolute;left:299.86px;top:231.00px" class="cls_011"><span class="cls_011">On Windows, the serial port can just be set to</span></div>
<div style="position:absolute;left:36.12px;top:241.99px" class="cls_011"><span class="cls_011">setting up your system. The pre-requisites that you</span></div>
<div style="position:absolute;left:287.87px;top:245.98px" class="cls_011"><span class="cls_011">COM3.</span></div>
<div style="position:absolute;left:36.12px;top:256.97px" class="cls_011"><span class="cls_011">will need to install are Java runtime 5 or later and</span></div>
<div style="position:absolute;left:299.86px;top:264.96px" class="cls_011"><span class="cls_011">From the Tools menu, we can now select the</span></div>
<div style="position:absolute;left:36.12px;top:271.96px" class="cls_011"><span class="cls_011">the latest AVR-GCC libraries.</span></div>
<div style="position:absolute;left:287.87px;top:279.95px" class="cls_011"><span class="cls_011">board that we are going to use, as shown in Figure</span></div>
<div style="position:absolute;left:48.11px;top:290.94px" class="cls_011"><span class="cls_011">Entering into Google the phrase “Installing</span></div>
<div style="position:absolute;left:287.87px;top:294.93px" class="cls_011"><span class="cls_011">1-13. If you are using the newer Duemilanove,</span></div>
<div style="position:absolute;left:36.12px;top:305.93px" class="cls_011"><span class="cls_011">Arduino on SUSE LINUX,” or whatever your</span></div>
<div style="position:absolute;left:287.87px;top:309.92px" class="cls_011"><span class="cls_011">choose the first option. However, if you are using</span></div>
<div style="position:absolute;left:36.12px;top:320.91px" class="cls_011"><span class="cls_011">distribution of LINUX is, will, no doubt, find you</span></div>
<div style="position:absolute;left:287.87px;top:324.90px" class="cls_011"><span class="cls_011">the older Diecimila board, select the second</span></div>
<div style="position:absolute;left:36.12px;top:335.90px" class="cls_011"><span class="cls_011">lots of helpful material.</span></div>
<div style="position:absolute;left:287.87px;top:339.89px" class="cls_011"><span class="cls_011">option.</span></div>
<div style="position:absolute;left:36.12px;top:376.36px" class="cls_021"><span class="cls_021">Configuring Your Arduino</span></div>
<div style="position:absolute;left:287.87px;top:380.36px" class="cls_021"><span class="cls_021">Downloading the</span></div>
<div style="position:absolute;left:36.12px;top:394.34px" class="cls_021"><span class="cls_021">Environment</span></div>
<div style="position:absolute;left:287.87px;top:398.34px" class="cls_021"><span class="cls_021">Project Software</span></div>
<div style="position:absolute;left:36.12px;top:420.82px" class="cls_011"><span class="cls_011">Whatever type of computer you use, you should</span></div>
<div style="position:absolute;left:287.87px;top:424.81px" class="cls_011"><span class="cls_011">The software for all of these sketches is available</span></div>
<div style="position:absolute;left:36.12px;top:435.80px" class="cls_011"><span class="cls_011">now have the Arduino software installed on it. We</span></div>
<div style="position:absolute;left:287.87px;top:439.80px" class="cls_011"><span class="cls_011">for download. The whole download is less than a</span></div>
<div style="position:absolute;left:36.12px;top:450.79px" class="cls_011"><span class="cls_011">now need to make a few settings. We need to</span></div>
<div style="position:absolute;left:287.87px;top:454.78px" class="cls_011"><span class="cls_011">megabyte, so it makes sense to download the</span></div>
<div style="position:absolute;left:36.12px;top:465.77px" class="cls_011"><span class="cls_011">specify the operating system name for the port that</span></div>
<div style="position:absolute;left:287.87px;top:469.77px" class="cls_011"><span class="cls_011">software for all of the projects, even if you only</span></div>
<div style="position:absolute;left:36.12px;top:480.76px" class="cls_011"><span class="cls_011">is connected to the USB port for communicating</span></div>
<div style="position:absolute;left:287.87px;top:484.75px" class="cls_011"><span class="cls_011">intend to use a few. To download them, browse to</span></div>
<div style="position:absolute;left:36.12px;top:495.74px" class="cls_011"><span class="cls_011">with the Arduino board, and we need to specify the</span></div>
<div style="position:absolute;left:287.87px;top:499.74px" class="cls_011"><span class="cls_011"> </span><A HREF="http://www.arduinoevilgenius.com/">www.arduinoevilgenius.com</A> and click Downloads</div>
<div style="position:absolute;left:36.12px;top:510.73px" class="cls_011"><span class="cls_011">type of Arduino board that we are using. But first,</span></div>
<div style="position:absolute;left:287.87px;top:514.72px" class="cls_011"><span class="cls_011">at the top of the screen.</span></div>
<div style="position:absolute;left:36.12px;top:525.71px" class="cls_011"><span class="cls_011">you need to connect your Arduino to your</span></div>
<div style="position:absolute;left:42.11px;top:710.63px" class="cls_025"><span class="cls_025">Figure 1-11</span></div>
<div style="position:absolute;left:102.05px;top:711.61px" class="cls_026"><span class="cls_026">Setting the serial port on the Mac.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:17940px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background024.jpg" width=552 height=770></div>
<div style="position:absolute;left:42.21px;top:350.98px" class="cls_025"><span class="cls_025">Figure 1-12</span></div>
<div style="position:absolute;left:102.15px;top:351.96px" class="cls_026"><span class="cls_026">Setting the serial port on Windows.</span></div>
<div style="position:absolute;left:42.21px;top:709.83px" class="cls_025"><span class="cls_025">Figure 1-13</span></div>
<div style="position:absolute;left:102.15px;top:710.81px" class="cls_026"><span class="cls_026">Setting the board.</span></div>
<div style="position:absolute;left:509.56px;top:732.82px" class="cls_017"><span class="cls_017">7</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:18720px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background025.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">8</span></div>
<div style="position:absolute;left:70.98px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:48.11px;top:69.16px" class="cls_011"><span class="cls_011">Click the evil_genius.zip link to download a Zip</span></div>
<div style="position:absolute;left:287.87px;top:69.16px" class="cls_011"><span class="cls_011">using a bigger external LED and resistor rather</span></div>
<div style="position:absolute;left:36.12px;top:84.15px" class="cls_011"><span class="cls_011">file of all the projects. If you are using Windows,</span></div>
<div style="position:absolute;left:287.87px;top:84.14px" class="cls_011"><span class="cls_011">than the tiny built-in LED.</span></div>
<div style="position:absolute;left:36.12px;top:99.13px" class="cls_011"><span class="cls_011">unzip the file to My Documents\Arduino. On a</span></div>
<div style="position:absolute;left:36.12px;top:114.12px" class="cls_011"><span class="cls_011">Mac and LINUX, you should unzip it to</span></div>
<div style="position:absolute;left:287.87px;top:117.11px" class="cls_005"><span class="cls_005">Software</span></div>
<div style="position:absolute;left:36.12px;top:129.10px" class="cls_011"><span class="cls_011">Documents/Arduino in your home directory.</span></div>
<div style="position:absolute;left:287.87px;top:140.59px" class="cls_011"><span class="cls_011">First, we need to load the Blink sketch into the</span></div>
<div style="position:absolute;left:48.11px;top:148.08px" class="cls_011"><span class="cls_011">Once the files are installed, you will be able to</span></div>
<div style="position:absolute;left:287.87px;top:155.58px" class="cls_011"><span class="cls_011">Arduino software. The Blink sketch is included as</span></div>
<div style="position:absolute;left:36.12px;top:163.07px" class="cls_011"><span class="cls_011">access them from the File | Sketchbook menu on</span></div>
<div style="position:absolute;left:287.87px;top:170.56px" class="cls_011"><span class="cls_011">an example when you install the Arduino</span></div>
<div style="position:absolute;left:36.12px;top:178.05px" class="cls_011"><span class="cls_011">the Arduino software.</span></div>
<div style="position:absolute;left:287.87px;top:185.55px" class="cls_011"><span class="cls_011">environment. So we can load it using the File</span></div>
<div style="position:absolute;left:287.87px;top:200.53px" class="cls_011"><span class="cls_011">menu, as shown in Figure 1-14.</span></div>
<div style="position:absolute;left:299.86px;top:219.51px" class="cls_011"><span class="cls_011">The majority of the text in this sketch is in the</span></div>
<div style="position:absolute;left:36.12px;top:216.52px" class="cls_027"><span class="cls_027">Project 1</span></div>
<div style="position:absolute;left:287.87px;top:234.50px" class="cls_011"><span class="cls_011">form of comments. Comments are not actually part</span></div>
<div style="position:absolute;left:36.12px;top:236.50px" class="cls_021"><span class="cls_021">Flashing LED</span></div>
<div style="position:absolute;left:287.87px;top:249.48px" class="cls_011"><span class="cls_011">of the program but explain what is going on in the</span></div>
<div style="position:absolute;left:36.12px;top:262.97px" class="cls_011"><span class="cls_011">Having assumed that we have successfully</span></div>
<div style="position:absolute;left:287.87px;top:264.47px" class="cls_011"><span class="cls_011">program to anyone reading the sketch.</span></div>
<div style="position:absolute;left:36.12px;top:277.96px" class="cls_011"><span class="cls_011">installed the software, we can now start on our first</span></div>
<div style="position:absolute;left:299.86px;top:283.45px" class="cls_011"><span class="cls_011">Comments can be single-line comments that</span></div>
<div style="position:absolute;left:36.12px;top:292.94px" class="cls_011"><span class="cls_011">exciting project. Actually, it’s not that exciting, but</span></div>
<div style="position:absolute;left:287.87px;top:298.44px" class="cls_011"><span class="cls_011">start after a // and continue to the end of the line,</span></div>
<div style="position:absolute;left:36.12px;top:307.93px" class="cls_011"><span class="cls_011">we need to start somewhere, and this will ensure</span></div>
<div style="position:absolute;left:287.87px;top:313.42px" class="cls_011"><span class="cls_011">or they can be multiline comments that start with a</span></div>
<div style="position:absolute;left:36.12px;top:322.91px" class="cls_011"><span class="cls_011">that we have everything set up correctly to use our</span></div>
<div style="position:absolute;left:287.87px;top:328.41px" class="cls_011"><span class="cls_011">/* and end some lines later with a */.</span></div>
<div style="position:absolute;left:36.12px;top:337.90px" class="cls_011"><span class="cls_011">Arduino board.</span></div>
<div style="position:absolute;left:299.86px;top:347.39px" class="cls_011"><span class="cls_011">If all the comments in a sketch were to be</span></div>
<div style="position:absolute;left:48.11px;top:356.88px" class="cls_011"><span class="cls_011">We are going to modify the example Blink</span></div>
<div style="position:absolute;left:287.87px;top:362.37px" class="cls_011"><span class="cls_011">removed, it would still work in exactly the same</span></div>
<div style="position:absolute;left:36.12px;top:371.86px" class="cls_011"><span class="cls_011">sketch that comes with Arduino. We will increase</span></div>
<div style="position:absolute;left:287.87px;top:377.36px" class="cls_011"><span class="cls_011">way, but we use comments because they are useful</span></div>
<div style="position:absolute;left:36.12px;top:386.85px" class="cls_011"><span class="cls_011">the frequency of the blinking and then install the</span></div>
<div style="position:absolute;left:287.87px;top:392.34px" class="cls_011"><span class="cls_011">to anyone reading the sketch trying to work out</span></div>
<div style="position:absolute;left:36.12px;top:401.83px" class="cls_011"><span class="cls_011">modified sketch on our Arduino board. Rather than</span></div>
<div style="position:absolute;left:287.87px;top:407.33px" class="cls_011"><span class="cls_011">what it does.</span></div>
<div style="position:absolute;left:36.12px;top:416.82px" class="cls_011"><span class="cls_011">blink slowly, our board will flash its LED quickly.</span></div>
<div style="position:absolute;left:299.86px;top:426.31px" class="cls_011"><span class="cls_011">Before we start, a little word about vocabulary</span></div>
<div style="position:absolute;left:36.12px;top:431.80px" class="cls_011"><span class="cls_011">We will then take the project a stage further by</span></div>
<div style="position:absolute;left:287.87px;top:441.29px" class="cls_011"><span class="cls_011">is required. The Arduino community uses the word</span></div>
<div style="position:absolute;left:287.87px;top:456.28px" class="cls_011"><span class="cls_011">“sketch” in place of “program,” so from now on, I</span></div>
<div style="position:absolute;left:44.12px;top:468.88px" class="cls_028"><span class="cls_028">COMPONENTS AND EQUIPMENT</span></div>
<div style="position:absolute;left:287.87px;top:471.26px" class="cls_011"><span class="cls_011">will refer to our Arduino programs as sketches.</span></div>
<div style="position:absolute;left:287.87px;top:486.25px" class="cls_011"><span class="cls_011">Occasionally I may refer to “code.” Code is</span></div>
<div style="position:absolute;left:63.09px;top:492.26px" class="cls_029"><span class="cls_029">Description</span></div>
<div style="position:absolute;left:203.96px;top:492.26px" class="cls_029"><span class="cls_029">Appendix</span></div>
<div style="position:absolute;left:287.87px;top:501.23px" class="cls_011"><span class="cls_011">programmer speak for a section of a program or</span></div>
<div style="position:absolute;left:64.09px;top:509.24px" class="cls_026"><span class="cls_026">Arduino Diecimila or</span></div>
<div style="position:absolute;left:287.87px;top:516.22px" class="cls_011"><span class="cls_011">even as a generic term for what is written when</span></div>
<div style="position:absolute;left:64.09px;top:522.23px" class="cls_026"><span class="cls_026">Duemilanove board or clone</span></div>
<div style="position:absolute;left:224.34px;top:522.23px" class="cls_026"><span class="cls_026">1</span></div>
<div style="position:absolute;left:287.87px;top:531.20px" class="cls_011"><span class="cls_011">creating a program. So, someone might say, “I</span></div>
<div style="position:absolute;left:46.11px;top:539.21px" class="cls_026"><span class="cls_026">D1</span></div>
<div style="position:absolute;left:64.09px;top:539.21px" class="cls_026"><span class="cls_026">5-mm red LED</span></div>
<div style="position:absolute;left:220.49px;top:539.21px" class="cls_026"><span class="cls_026">23</span></div>
<div style="position:absolute;left:287.87px;top:546.19px" class="cls_011"><span class="cls_011">wrote a program to do that,” or they could say, “I</span></div>
<div style="position:absolute;left:46.11px;top:556.20px" class="cls_026"><span class="cls_026">R1</span></div>
<div style="position:absolute;left:64.09px;top:556.20px" class="cls_026"><span class="cls_026">270</span></div>
<div style="position:absolute;left:93.90px;top:556.20px" class="cls_026"><span class="cls_026">0.5W metal film resistor</span></div>
<div style="position:absolute;left:223.04px;top:556.20px" class="cls_026"><span class="cls_026">6</span></div>
<div style="position:absolute;left:287.87px;top:561.17px" class="cls_011"><span class="cls_011">wrote some code to do that.”</span></div>
<div style="position:absolute;left:46.11px;top:583.17px" class="cls_022"><span class="cls_022">■</span><span class="cls_030">   In actual fact, almost any commonly available</span></div>
<div style="position:absolute;left:299.86px;top:580.16px" class="cls_011"><span class="cls_011">To modify the rate at which the LED will blink,</span></div>
<div style="position:absolute;left:63.09px;top:597.16px" class="cls_030"><span class="cls_030">LED and 270    resistor will be fine.</span></div>
<div style="position:absolute;left:287.87px;top:595.14px" class="cls_011"><span class="cls_011">we need to change the value of the delay so that in</span></div>
<div style="position:absolute;left:287.87px;top:610.13px" class="cls_011"><span class="cls_011">the two places in the sketch where we have:</span></div>
<div style="position:absolute;left:46.11px;top:615.14px" class="cls_022"><span class="cls_022">■</span><span class="cls_030">   No tools other than a pair of pliers or wire</span></div>
<div style="position:absolute;left:63.09px;top:629.12px" class="cls_030"><span class="cls_030">cutters are required.</span></div>
<div style="position:absolute;left:299.86px;top:635.61px" class="cls_031"><span class="cls_031">delay(1000);</span></div>
<div style="position:absolute;left:46.11px;top:647.11px" class="cls_022"><span class="cls_022">■</span><span class="cls_030">   The number in the Appendix column refers to</span></div>
<div style="position:absolute;left:63.09px;top:661.09px" class="cls_030"><span class="cls_030">the component listing in the appendix, which</span></div>
<div style="position:absolute;left:63.09px;top:675.08px" class="cls_030"><span class="cls_030">lists part numbers for various suppliers.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:19500px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background026.jpg" width=552 height=770></div>
<div style="position:absolute;left:348.60px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 1</span></div>
<div style="position:absolute;left:409.54px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    Quickstart</span></div>
<div style="position:absolute;left:509.13px;top:34.50px" class="cls_017"><span class="cls_017">9</span></div>
<div style="position:absolute;left:42.21px;top:336.99px" class="cls_025"><span class="cls_025">Figure 1-14</span></div>
<div style="position:absolute;left:102.15px;top:337.98px" class="cls_026"><span class="cls_026">Loading the example Blink sketch.</span></div>
<div style="position:absolute;left:36.21px;top:376.86px" class="cls_011"><span class="cls_011">change the value in the parentheses to 200 so that</span></div>
<div style="position:absolute;left:287.97px;top:376.86px" class="cls_011"><span class="cls_011">will be a short pause and then the two red LEDs</span></div>
<div style="position:absolute;left:36.21px;top:391.85px" class="cls_011"><span class="cls_011">it appears as:</span></div>
<div style="position:absolute;left:287.97px;top:391.84px" class="cls_011"><span class="cls_011">on the board will start flashing away furiously as</span></div>
<div style="position:absolute;left:287.97px;top:406.83px" class="cls_011"><span class="cls_011">the sketch is uploaded onto the board. This should</span></div>
<div style="position:absolute;left:48.20px;top:417.32px" class="cls_031"><span class="cls_031">delay(200);</span></div>
<div style="position:absolute;left:287.97px;top:421.81px" class="cls_011"><span class="cls_011">take around 5 to 10 seconds.</span></div>
<div style="position:absolute;left:299.96px;top:440.80px" class="cls_011"><span class="cls_011">If this does not happen, check the serial port and</span></div>
<div style="position:absolute;left:48.20px;top:443.30px" class="cls_011"><span class="cls_011">This is changing the delay between turning the</span></div>
<div style="position:absolute;left:287.97px;top:455.78px" class="cls_011"><span class="cls_011">board type settings as described in the previous</span></div>
<div style="position:absolute;left:36.21px;top:458.28px" class="cls_011"><span class="cls_011">LED on and off from 1000 milliseconds (1 second)</span></div>
<div style="position:absolute;left:287.97px;top:470.77px" class="cls_011"><span class="cls_011">sections.</span></div>
<div style="position:absolute;left:36.21px;top:473.27px" class="cls_011"><span class="cls_011">to 200 milliseconds (1/5th of a second). In Chapter</span></div>
<div style="position:absolute;left:36.21px;top:488.25px" class="cls_011"><span class="cls_011">3 we will explore this sketch further, but for now,</span></div>
<div style="position:absolute;left:299.96px;top:489.75px" class="cls_011"><span class="cls_011">When the completed sketch has been installed,</span></div>
<div style="position:absolute;left:36.21px;top:503.24px" class="cls_011"><span class="cls_011">we will just change the delay and download the</span></div>
<div style="position:absolute;left:287.97px;top:504.73px" class="cls_011"><span class="cls_011">the board will automatically reset, and if</span></div>
<div style="position:absolute;left:36.21px;top:518.22px" class="cls_011"><span class="cls_011">sketch to the Arduino board.</span></div>
<div style="position:absolute;left:287.97px;top:519.72px" class="cls_011"><span class="cls_011">everything has worked, you will see the LED for</span></div>
<div style="position:absolute;left:287.97px;top:534.70px" class="cls_011"><span class="cls_011">digital port 13 start to flash much more quickly</span></div>
<div style="position:absolute;left:48.20px;top:537.20px" class="cls_011"><span class="cls_011">With the board connected to your computer,</span></div>
<div style="position:absolute;left:287.97px;top:549.69px" class="cls_011"><span class="cls_011">than before.</span></div>
<div style="position:absolute;left:36.21px;top:552.19px" class="cls_011"><span class="cls_011">click the Upload button on the Arduino. This is</span></div>
<div style="position:absolute;left:36.21px;top:567.17px" class="cls_011"><span class="cls_011">shown in Figure 1-15. If everything is okay, there</span></div>
<div style="position:absolute;left:42.21px;top:710.03px" class="cls_025"><span class="cls_025">Figure 1-15</span></div>
<div style="position:absolute;left:102.15px;top:711.01px" class="cls_026"><span class="cls_026">Uploading the sketch to the Arduino board.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:20280px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background027.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">10</span></div>
<div style="position:absolute;left:76.19px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:36.12px;top:70.07px" class="cls_005"><span class="cls_005">Hardware</span></div>
<div style="position:absolute;left:287.87px;top:69.16px" class="cls_011"><span class="cls_011">one direction. The little arrows next to the LED</span></div>
<div style="position:absolute;left:287.87px;top:84.14px" class="cls_011"><span class="cls_011">symbol indicate that it emits light.</span></div>
<div style="position:absolute;left:48.11px;top:93.55px" class="cls_011"><span class="cls_011">At the moment, this doesn’t really seem like</span></div>
<div style="position:absolute;left:299.86px;top:103.12px" class="cls_011"><span class="cls_011">The resistor is just depicted as a rectangle.</span></div>
<div style="position:absolute;left:36.12px;top:108.53px" class="cls_011"><span class="cls_011">real electronics because the hardware is all</span></div>
<div style="position:absolute;left:287.87px;top:118.11px" class="cls_011"><span class="cls_011">Resistors are also often shown as a zigzag line.</span></div>
<div style="position:absolute;left:36.12px;top:123.52px" class="cls_011"><span class="cls_011">contained on the Arduino board. In this section, we</span></div>
<div style="position:absolute;left:287.87px;top:133.09px" class="cls_011"><span class="cls_011">The rest of the lines on the diagram represent</span></div>
<div style="position:absolute;left:36.12px;top:138.50px" class="cls_011"><span class="cls_011">will add an external LED to the board.</span></div>
<div style="position:absolute;left:287.87px;top:148.08px" class="cls_011"><span class="cls_011">electrical connections between the components.</span></div>
<div style="position:absolute;left:48.11px;top:157.48px" class="cls_011"><span class="cls_011">LEDs cannot simply have voltage applied to</span></div>
<div style="position:absolute;left:287.87px;top:163.06px" class="cls_011"><span class="cls_011">These connections may be lengths of wire or</span></div>
<div style="position:absolute;left:36.12px;top:172.47px" class="cls_011"><span class="cls_011">them; they must have a current-limiting resistor</span></div>
<div style="position:absolute;left:287.87px;top:178.05px" class="cls_011"><span class="cls_011">tracks on a circuit board. In this case, they will just</span></div>
<div style="position:absolute;left:36.12px;top:187.45px" class="cls_011"><span class="cls_011">attached. Both parts are readily available from any</span></div>
<div style="position:absolute;left:287.87px;top:193.03px" class="cls_011"><span class="cls_011">be the wires of the components.</span></div>
<div style="position:absolute;left:36.12px;top:202.44px" class="cls_011"><span class="cls_011">electronics suppliers. The component order codes</span></div>
<div style="position:absolute;left:299.86px;top:212.01px" class="cls_011"><span class="cls_011">We can connect the components directly to the</span></div>
<div style="position:absolute;left:36.12px;top:217.42px" class="cls_011"><span class="cls_011">for a number of suppliers are detailed in the</span></div>
<div style="position:absolute;left:287.87px;top:227.00px" class="cls_011"><span class="cls_011">Arduino sockets between the digital pin 12 and the</span></div>
<div style="position:absolute;left:36.12px;top:232.41px" class="cls_011"><span class="cls_011">appendix.</span></div>
<div style="position:absolute;left:287.87px;top:241.98px" class="cls_011"><span class="cls_011">GND pin, but first we need to connect one lead of</span></div>
<div style="position:absolute;left:48.11px;top:251.39px" class="cls_011"><span class="cls_011">The Arduino board connectors are designed to</span></div>
<div style="position:absolute;left:287.87px;top:256.97px" class="cls_011"><span class="cls_011">the LED to one lead of the resistor.</span></div>
<div style="position:absolute;left:36.12px;top:266.38px" class="cls_011"><span class="cls_011">attach “shield” plug-in boards. However, for</span></div>
<div style="position:absolute;left:299.86px;top:275.95px" class="cls_011"><span class="cls_011">It does not matter which lead of the resistor is</span></div>
<div style="position:absolute;left:36.12px;top:281.36px" class="cls_011"><span class="cls_011">experimentation purposes, they also allow wires or</span></div>
<div style="position:absolute;left:287.87px;top:290.94px" class="cls_011"><span class="cls_011">connected to the LED; however, the LED must be</span></div>
<div style="position:absolute;left:36.12px;top:296.35px" class="cls_011"><span class="cls_011">component leads to be inserted directly into the</span></div>
<div style="position:absolute;left:287.87px;top:305.92px" class="cls_011"><span class="cls_011">connected the correct way. The LED will have one</span></div>
<div style="position:absolute;left:36.12px;top:311.33px" class="cls_011"><span class="cls_011">sockets.</span></div>
<div style="position:absolute;left:287.87px;top:320.91px" class="cls_011"><span class="cls_011">lead slightly longer than the other, and it is the</span></div>
<div style="position:absolute;left:48.11px;top:330.31px" class="cls_011"><span class="cls_011">Figure 1-16 shows the schematic diagram for</span></div>
<div style="position:absolute;left:287.87px;top:335.89px" class="cls_011"><span class="cls_011">longer lead that must be connected to digital pin</span></div>
<div style="position:absolute;left:36.12px;top:345.30px" class="cls_011"><span class="cls_011">attaching the external LED.</span></div>
<div style="position:absolute;left:287.87px;top:350.88px" class="cls_011"><span class="cls_011">12 and the shorter lead that should be connected to</span></div>
<div style="position:absolute;left:48.11px;top:364.28px" class="cls_011"><span class="cls_011">This kind of schematic diagram uses special</span></div>
<div style="position:absolute;left:287.87px;top:365.86px" class="cls_011"><span class="cls_011">the resistor. LEDs and some other components</span></div>
<div style="position:absolute;left:36.12px;top:379.26px" class="cls_011"><span class="cls_011">symbols to represent the electronic components.</span></div>
<div style="position:absolute;left:287.87px;top:380.85px" class="cls_011"><span class="cls_011">have the convention of making the positive lead</span></div>
<div style="position:absolute;left:36.12px;top:394.25px" class="cls_011"><span class="cls_011">The LED appears rather like an arrow, which</span></div>
<div style="position:absolute;left:287.87px;top:395.83px" class="cls_011"><span class="cls_011">longer than the negative one.</span></div>
<div style="position:absolute;left:36.12px;top:409.23px" class="cls_011"><span class="cls_011">indicates that light-emitting diodes, in common</span></div>
<div style="position:absolute;left:299.86px;top:414.81px" class="cls_011"><span class="cls_011">To connect the resistor to the short lead of the</span></div>
<div style="position:absolute;left:36.12px;top:424.22px" class="cls_011"><span class="cls_011">with all diodes, only allow the current to flow in</span></div>
<div style="position:absolute;left:287.87px;top:429.80px" class="cls_011"><span class="cls_011">LED, gently spread the leads apart and twist the</span></div>
<div style="position:absolute;left:287.87px;top:444.78px" class="cls_011"><span class="cls_011">short lead around one of the resistor leads, as</span></div>
<div style="position:absolute;left:287.87px;top:459.77px" class="cls_011"><span class="cls_011">shown in Figure 1-17.</span></div>
<div style="position:absolute;left:299.86px;top:478.75px" class="cls_011"><span class="cls_011">Then push the LED’s long lead into the digital</span></div>
<div style="position:absolute;left:287.87px;top:493.74px" class="cls_011"><span class="cls_011">pin 12 and the free lead of the resistor into one of</span></div>
<div style="position:absolute;left:42.11px;top:698.87px" class="cls_025"><span class="cls_025">Figure 1-16</span></div>
<div style="position:absolute;left:102.05px;top:699.86px" class="cls_026"><span class="cls_026">Schematic diagram for an LED</span></div>
<div style="position:absolute;left:293.87px;top:697.64px" class="cls_025"><span class="cls_025">Figure 1-17</span></div>
<div style="position:absolute;left:353.81px;top:698.63px" class="cls_026"><span class="cls_026">An LED connected to a serial</span></div>
<div style="position:absolute;left:102.05px;top:713.84px" class="cls_026"><span class="cls_026">connected to the Arduino board.</span></div>
<div style="position:absolute;left:353.81px;top:712.61px" class="cls_026"><span class="cls_026">resistor.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:21060px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background028.jpg" width=552 height=770></div>
<div style="position:absolute;left:346.79px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 1</span></div>
<div style="position:absolute;left:407.72px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    Quickstart</span></div>
<div style="position:absolute;left:507.32px;top:34.50px" class="cls_017"><span class="cls_017">11</span></div>
<div style="position:absolute;left:42.21px;top:359.17px" class="cls_025"><span class="cls_025">Figure 1-18</span></div>
<div style="position:absolute;left:102.15px;top:360.16px" class="cls_026"><span class="cls_026">An LED connected to the Arduino board.</span></div>
<div style="position:absolute;left:36.21px;top:399.04px" class="cls_011"><span class="cls_011">the two GND sockets. This is shown in Figure 1-18.</span></div>
<div style="position:absolute;left:287.97px;top:399.35px" class="cls_021"><span class="cls_021">Breadboard</span></div>
<div style="position:absolute;left:36.21px;top:414.03px" class="cls_011"><span class="cls_011">Sometimes, it helps to bend a slight kink into the</span></div>
<div style="position:absolute;left:287.97px;top:425.82px" class="cls_011"><span class="cls_011">Twisting together a few wires is not practical for</span></div>
<div style="position:absolute;left:36.21px;top:429.01px" class="cls_011"><span class="cls_011">end of the lead so that it fits more tightly into the</span></div>
<div style="position:absolute;left:287.97px;top:440.81px" class="cls_011"><span class="cls_011">anything much more than a single LED. A</span></div>
<div style="position:absolute;left:36.21px;top:444.00px" class="cls_011"><span class="cls_011">sockets.</span></div>
<div style="position:absolute;left:287.97px;top:455.79px" class="cls_011"><span class="cls_011">breadboard allows us to build complicated circuits</span></div>
<div style="position:absolute;left:48.20px;top:462.98px" class="cls_011"><span class="cls_011">We can now modify our sketch to use the</span></div>
<div style="position:absolute;left:287.97px;top:470.78px" class="cls_011"><span class="cls_011">without the need for soldering. In fact, it is a good</span></div>
<div style="position:absolute;left:36.21px;top:477.96px" class="cls_011"><span class="cls_011">external LED that we have just connected. All we</span></div>
<div style="position:absolute;left:287.97px;top:485.76px" class="cls_011"><span class="cls_011">idea to build all circuits on a breadboard first to get</span></div>
<div style="position:absolute;left:36.21px;top:492.95px" class="cls_011"><span class="cls_011">need to do is change the sketch so that it uses</span></div>
<div style="position:absolute;left:287.97px;top:500.75px" class="cls_011"><span class="cls_011">the design right and then commit the design to</span></div>
<div style="position:absolute;left:36.21px;top:507.93px" class="cls_011"><span class="cls_011">digital pin 12 instead of 13 for the LED. To do</span></div>
<div style="position:absolute;left:287.97px;top:515.73px" class="cls_011"><span class="cls_011">solder once everything is working.</span></div>
<div style="position:absolute;left:36.21px;top:522.92px" class="cls_011"><span class="cls_011">this, we change the line:</span></div>
<div style="position:absolute;left:299.96px;top:534.71px" class="cls_011"><span class="cls_011">A breadboard comprises a plastic block with</span></div>
<div style="position:absolute;left:48.20px;top:548.39px" class="cls_031"><span class="cls_031">int ledPin = 13;</span></div>
<div style="position:absolute;left:287.97px;top:549.70px" class="cls_011"><span class="cls_011">holes in it, with sprung metal connections behind.</span></div>
<div style="position:absolute;left:60.19px;top:561.38px" class="cls_031"><span class="cls_031">// LED connected to digital pin 13</span></div>
<div style="position:absolute;left:287.97px;top:564.68px" class="cls_011"><span class="cls_011">Electronic components are pushed through the</span></div>
<div style="position:absolute;left:287.97px;top:579.67px" class="cls_011"><span class="cls_011">holes at the front.</span></div>
<div style="position:absolute;left:36.21px;top:587.36px" class="cls_011"><span class="cls_011">to read:</span></div>
<div style="position:absolute;left:299.96px;top:598.65px" class="cls_011"><span class="cls_011">Underneath the breadboard holes, there are</span></div>
<div style="position:absolute;left:48.20px;top:612.83px" class="cls_031"><span class="cls_031">int ledPin = 12;</span></div>
<div style="position:absolute;left:287.97px;top:613.64px" class="cls_011"><span class="cls_011">strips of connectors, so each of the holes in a strip</span></div>
<div style="position:absolute;left:60.19px;top:625.82px" class="cls_031"><span class="cls_031">// LED connected to digital pin 12</span></div>
<div style="position:absolute;left:287.97px;top:628.62px" class="cls_011"><span class="cls_011">are connected together. The strips have a gap</span></div>
<div style="position:absolute;left:287.97px;top:643.61px" class="cls_011"><span class="cls_011">between them so that integrated circuits in dual-in-</span></div>
<div style="position:absolute;left:48.20px;top:651.79px" class="cls_011"><span class="cls_011">Now upload the sketch by clicking the Upload</span></div>
<div style="position:absolute;left:287.97px;top:658.59px" class="cls_011"><span class="cls_011">line packaging can be inserted without leads on the</span></div>
<div style="position:absolute;left:36.21px;top:666.78px" class="cls_011"><span class="cls_011">To IO Board button in the same way as you did</span></div>
<div style="position:absolute;left:287.97px;top:673.58px" class="cls_011"><span class="cls_011">same row being shorted together.</span></div>
<div style="position:absolute;left:36.21px;top:681.76px" class="cls_011"><span class="cls_011">when modifying the flash rate.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:21840px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background029.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">12</span></div>
<div style="position:absolute;left:75.12px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:42.11px;top:264.86px" class="cls_025"><span class="cls_025">Figure 1-19</span></div>
<div style="position:absolute;left:102.05px;top:265.85px" class="cls_026"><span class="cls_026">Project 1 on breadboard.</span></div>
<div style="position:absolute;left:48.11px;top:298.74px" class="cls_011"><span class="cls_011">We can build this project on a breadboard rather</span></div>
<div style="position:absolute;left:287.87px;top:298.73px" class="cls_011"><span class="cls_011">breadboard, as it does not go the whole width of</span></div>
<div style="position:absolute;left:36.12px;top:313.72px" class="cls_011"><span class="cls_011">than with twisted wires. Figure 1-19 shows a</span></div>
<div style="position:absolute;left:287.87px;top:313.72px" class="cls_011"><span class="cls_011">the board.</span></div>
<div style="position:absolute;left:36.12px;top:328.71px" class="cls_011"><span class="cls_011">photograph of this. Figure 1-20 makes it a little</span></div>
<div style="position:absolute;left:299.86px;top:332.70px" class="cls_011"><span class="cls_011">In addition to a breadboard, you will need some</span></div>
<div style="position:absolute;left:36.12px;top:343.69px" class="cls_011"><span class="cls_011">easier to see how the components are positioned</span></div>
<div style="position:absolute;left:287.87px;top:347.69px" class="cls_011"><span class="cls_011">solid-core wire and some wire strippers or pliers to</span></div>
<div style="position:absolute;left:36.12px;top:358.68px" class="cls_011"><span class="cls_011">and connected together.</span></div>
<div style="position:absolute;left:287.87px;top:362.67px" class="cls_011"><span class="cls_011">cut and remove the insulation from the ends of the</span></div>
<div style="position:absolute;left:48.11px;top:377.66px" class="cls_011"><span class="cls_011">You will notice that at the edges of the</span></div>
<div style="position:absolute;left:287.87px;top:377.66px" class="cls_011"><span class="cls_011">wire. It is a good idea to have at least three</span></div>
<div style="position:absolute;left:36.12px;top:392.65px" class="cls_011"><span class="cls_011">breadboard (top and bottom), there are two long</span></div>
<div style="position:absolute;left:287.87px;top:392.64px" class="cls_011"><span class="cls_011">different colors: red for all wires connected to the</span></div>
<div style="position:absolute;left:36.12px;top:407.63px" class="cls_011"><span class="cls_011">horizontal strips. The connections on the back of</span></div>
<div style="position:absolute;left:287.87px;top:407.63px" class="cls_011"><span class="cls_011">positive side of the supply, black for negative, and</span></div>
<div style="position:absolute;left:36.12px;top:422.62px" class="cls_011"><span class="cls_011">these long strips run at right angles to the normal</span></div>
<div style="position:absolute;left:287.87px;top:422.61px" class="cls_011"><span class="cls_011">some other color (orange or yellow) for other</span></div>
<div style="position:absolute;left:36.12px;top:437.60px" class="cls_011"><span class="cls_011">strips of connections and are used to provide</span></div>
<div style="position:absolute;left:287.87px;top:437.60px" class="cls_011"><span class="cls_011">connections. This makes it much easier to</span></div>
<div style="position:absolute;left:36.12px;top:452.59px" class="cls_011"><span class="cls_011">power to the components on the breadboard.</span></div>
<div style="position:absolute;left:287.87px;top:452.58px" class="cls_011"><span class="cls_011">understand the layout of the circuit. You can also</span></div>
<div style="position:absolute;left:36.12px;top:467.57px" class="cls_011"><span class="cls_011">Normally, there is one for ground (0V or GND)</span></div>
<div style="position:absolute;left:287.87px;top:467.57px" class="cls_011"><span class="cls_011">buy prepared short lengths of solid-core wire in a</span></div>
<div style="position:absolute;left:36.12px;top:482.56px" class="cls_011"><span class="cls_011">and one for the positive supply voltage (usually</span></div>
<div style="position:absolute;left:287.87px;top:482.55px" class="cls_011"><span class="cls_011">variety of colors. Note that it is not advisable to</span></div>
<div style="position:absolute;left:36.12px;top:497.54px" class="cls_011"><span class="cls_011">5V). There are little linking wires between the left</span></div>
<div style="position:absolute;left:287.87px;top:497.54px" class="cls_011"><span class="cls_011">use multicore wire, as it will tend to bunch up</span></div>
<div style="position:absolute;left:36.12px;top:512.52px" class="cls_011"><span class="cls_011">and right halves of the GND strip, as on this</span></div>
<div style="position:absolute;left:287.87px;top:512.52px" class="cls_011"><span class="cls_011">when you try to push it into the breadboard holes.</span></div>
<div style="position:absolute;left:42.11px;top:710.86px" class="cls_025"><span class="cls_025">Figure 1-20</span></div>
<div style="position:absolute;left:102.05px;top:711.85px" class="cls_026"><span class="cls_026">Project 1 breadboard layout.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:22620px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background030.jpg" width=552 height=770></div>
<div style="position:absolute;left:344.80px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 1</span></div>
<div style="position:absolute;left:405.73px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    Quickstart</span></div>
<div style="position:absolute;left:505.33px;top:34.50px" class="cls_017"><span class="cls_017">13</span></div>
<div style="position:absolute;left:48.20px;top:69.16px" class="cls_011"><span class="cls_011">Possible sources of these materials are included</span></div>
<div style="position:absolute;left:287.97px;top:69.16px" class="cls_011"><span class="cls_011">design board and leave it permanently attached to</span></div>
<div style="position:absolute;left:36.21px;top:84.15px" class="cls_011"><span class="cls_011">in the appendix.</span></div>
<div style="position:absolute;left:287.97px;top:84.14px" class="cls_011"><span class="cls_011">the breadboard.</span></div>
<div style="position:absolute;left:48.20px;top:103.13px" class="cls_011"><span class="cls_011">We can straighten out the wires of our LED and</span></div>
<div style="position:absolute;left:36.21px;top:118.11px" class="cls_011"><span class="cls_011">resistor and plug them into a breadboard. It is best</span></div>
<div style="position:absolute;left:287.97px;top:124.61px" class="cls_021"><span class="cls_021">Summary</span></div>
<div style="position:absolute;left:36.21px;top:133.10px" class="cls_011"><span class="cls_011">to use a reasonable-sized breadboard and attach the</span></div>
<div style="position:absolute;left:36.21px;top:148.08px" class="cls_011"><span class="cls_011">Arduino board to it. You probably do not want to</span></div>
<div style="position:absolute;left:287.97px;top:151.08px" class="cls_011"><span class="cls_011">We have created our first project, albeit a very</span></div>
<div style="position:absolute;left:36.21px;top:163.07px" class="cls_011"><span class="cls_011">attach the board permanently, so I use a small</span></div>
<div style="position:absolute;left:287.97px;top:166.07px" class="cls_011"><span class="cls_011">simple one. In the next chapter we will get a bit</span></div>
<div style="position:absolute;left:36.21px;top:178.05px" class="cls_011"><span class="cls_011">lump of adhesive putty. However, you may find it</span></div>
<div style="position:absolute;left:287.97px;top:181.05px" class="cls_011"><span class="cls_011">more background on the Arduino before moving</span></div>
<div style="position:absolute;left:36.21px;top:193.04px" class="cls_011"><span class="cls_011">easier to dedicate one Arduino board to be your</span></div>
<div style="position:absolute;left:287.97px;top:196.04px" class="cls_011"><span class="cls_011">on to some more interesting projects.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:23400px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background031.jpg" width=552 height=770></div>
<div style="position:absolute;left:196.00px;top:374.44px" class="cls_020"><span class="cls_020">This page intentionally left blank</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:24180px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background032.jpg" width=552 height=770></div>
<div style="position:absolute;left:196.55px;top:54.87px" class="cls_024"><span class="cls_024">C H A P T E R</span></div>
<div style="position:absolute;left:344.39px;top:54.87px" class="cls_024"><span class="cls_024">2</span></div>
<div style="position:absolute;left:147.86px;top:103.55px" class="cls_023"><span class="cls_023">A Tour of Arduino</span></div>
<div style="position:absolute;left:36.21px;top:223.00px" class="cls_016"><span class="cls_016">I</span><span class="cls_019">N THIS CHAPTER</span><span class="cls_011">, we look at the hardware of the</span></div>
<div style="position:absolute;left:287.97px;top:222.99px" class="cls_011"><span class="cls_011">processor, a kilobyte of random access memory</span></div>
<div style="position:absolute;left:36.21px;top:237.98px" class="cls_011"><span class="cls_011">Arduino board and also of the microcontroller at</span></div>
<div style="position:absolute;left:287.97px;top:237.98px" class="cls_011"><span class="cls_011">(RAM) for holding data, a few kilobytes of</span></div>
<div style="position:absolute;left:36.21px;top:252.97px" class="cls_011"><span class="cls_011">its heart. In fact, the board basically just provides</span></div>
<div style="position:absolute;left:287.97px;top:252.97px" class="cls_011"><span class="cls_011">erasable programmable read-only memory</span></div>
<div style="position:absolute;left:36.21px;top:267.95px" class="cls_011"><span class="cls_011">support to the microcontroller, extending its pins to</span></div>
<div style="position:absolute;left:287.97px;top:267.95px" class="cls_011"><span class="cls_011">(EPROM) or Flash memory for holding our</span></div>
<div style="position:absolute;left:36.21px;top:282.94px" class="cls_011"><span class="cls_011">the connectors so that you can connect hardware to</span></div>
<div style="position:absolute;left:287.97px;top:282.94px" class="cls_011"><span class="cls_011">programs, and it has input and output pins. These</span></div>
<div style="position:absolute;left:36.21px;top:297.92px" class="cls_011"><span class="cls_011">them and providing a USB link for downloading</span></div>
<div style="position:absolute;left:287.97px;top:297.92px" class="cls_011"><span class="cls_011">input/output pins are what link the microcontroller</span></div>
<div style="position:absolute;left:36.21px;top:312.91px" class="cls_011"><span class="cls_011">sketches, etc.</span></div>
<div style="position:absolute;left:287.97px;top:312.91px" class="cls_011"><span class="cls_011">to the rest of our electronics.</span></div>
<div style="position:absolute;left:48.20px;top:331.89px" class="cls_011"><span class="cls_011">We also learn a few things about the C language</span></div>
<div style="position:absolute;left:299.96px;top:331.89px" class="cls_011"><span class="cls_011">Inputs can read both digital (is the switch on or</span></div>
<div style="position:absolute;left:36.21px;top:346.87px" class="cls_011"><span class="cls_011">used to program the Arduino, something we will</span></div>
<div style="position:absolute;left:287.97px;top:346.87px" class="cls_011"><span class="cls_011">off?) and analog (what is the voltage at a pin?).</span></div>
<div style="position:absolute;left:36.21px;top:361.86px" class="cls_011"><span class="cls_011">build on in later chapters as we start on some</span></div>
<div style="position:absolute;left:287.97px;top:361.86px" class="cls_011"><span class="cls_011">This enables us to connect many different types of</span></div>
<div style="position:absolute;left:36.21px;top:376.84px" class="cls_011"><span class="cls_011">practical project work.</span></div>
<div style="position:absolute;left:287.97px;top:376.84px" class="cls_011"><span class="cls_011">sensors for light, temperature, sound, etc.</span></div>
<div style="position:absolute;left:48.20px;top:395.83px" class="cls_011"><span class="cls_011">Although this chapter gets quite theoretical at</span></div>
<div style="position:absolute;left:299.96px;top:395.82px" class="cls_011"><span class="cls_011">Outputs can also be analog or digital. So, you</span></div>
<div style="position:absolute;left:36.21px;top:410.81px" class="cls_011"><span class="cls_011">times, it will help you understand how your</span></div>
<div style="position:absolute;left:287.97px;top:410.81px" class="cls_011"><span class="cls_011">can set a pin to be on or off (0V or 5V) and this</span></div>
<div style="position:absolute;left:36.21px;top:425.80px" class="cls_011"><span class="cls_011">projects work. However, if you would prefer just to</span></div>
<div style="position:absolute;left:287.97px;top:425.79px" class="cls_011"><span class="cls_011">can turn LEDs on and off directly, or you can use</span></div>
<div style="position:absolute;left:36.21px;top:440.78px" class="cls_011"><span class="cls_011">get on with your projects, you may wish to skim</span></div>
<div style="position:absolute;left:287.97px;top:440.78px" class="cls_011"><span class="cls_011">the output to control higher-power devices such as</span></div>
<div style="position:absolute;left:36.21px;top:455.77px" class="cls_011"><span class="cls_011">this chapter.</span></div>
<div style="position:absolute;left:287.97px;top:455.76px" class="cls_011"><span class="cls_011">motors. They can also provide an analog output</span></div>
<div style="position:absolute;left:287.97px;top:470.75px" class="cls_011"><span class="cls_011">voltage. That is, you can set the output of a pin to</span></div>
<div style="position:absolute;left:287.97px;top:485.73px" class="cls_011"><span class="cls_011">some particular voltage, allowing you to control</span></div>
<div style="position:absolute;left:36.21px;top:496.23px" class="cls_021"><span class="cls_021">Microcontrollers</span></div>
<div style="position:absolute;left:287.97px;top:500.72px" class="cls_011"><span class="cls_011">the speed of a motor or the brightness of a light,</span></div>
<div style="position:absolute;left:287.97px;top:515.70px" class="cls_011"><span class="cls_011">for example, rather than simply turning it on or off.</span></div>
<div style="position:absolute;left:36.21px;top:522.71px" class="cls_011"><span class="cls_011">The heart of our Arduino is a microcontroller.</span></div>
<div style="position:absolute;left:36.21px;top:537.69px" class="cls_011"><span class="cls_011">Practically everything else on the board is</span></div>
<div style="position:absolute;left:36.21px;top:552.68px" class="cls_011"><span class="cls_011">concerned with providing the board with power</span></div>
<div style="position:absolute;left:287.97px;top:556.17px" class="cls_021"><span class="cls_021">What’s on an Arduino Board?</span></div>
<div style="position:absolute;left:36.21px;top:567.66px" class="cls_011"><span class="cls_011">and allowing it to communicate with your desktop</span></div>
<div style="position:absolute;left:36.21px;top:582.65px" class="cls_011"><span class="cls_011">computer.</span></div>
<div style="position:absolute;left:287.97px;top:582.65px" class="cls_011"><span class="cls_011">Figure 2-1 shows our Arduino board—or in this</span></div>
<div style="position:absolute;left:287.97px;top:597.63px" class="cls_011"><span class="cls_011">case an Arduino clone. Let us have a quick tour of</span></div>
<div style="position:absolute;left:48.20px;top:601.63px" class="cls_011"><span class="cls_011">So what exactly do we get when we buy one of</span></div>
<div style="position:absolute;left:287.97px;top:612.62px" class="cls_011"><span class="cls_011">the various components on the board.</span></div>
<div style="position:absolute;left:36.21px;top:616.61px" class="cls_011"><span class="cls_011">these little computers to use in our projects?</span></div>
<div style="position:absolute;left:48.20px;top:635.59px" class="cls_011"><span class="cls_011">The answer is that we really do get a little</span></div>
<div style="position:absolute;left:36.21px;top:650.58px" class="cls_011"><span class="cls_011">computer on a chip. It has everything and more</span></div>
<div style="position:absolute;left:36.21px;top:665.56px" class="cls_011"><span class="cls_011">than the first home computers had. It has a</span></div>
<div style="position:absolute;left:505.24px;top:718.82px" class="cls_017"><span class="cls_017">15</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:24960px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background033.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">16</span></div>
<div style="position:absolute;left:75.51px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:42.11px;top:355.97px" class="cls_025"><span class="cls_025">Figure 2-1</span></div>
<div style="position:absolute;left:102.05px;top:356.96px" class="cls_026"><span class="cls_026">The components of an Arduino board.</span></div>
<div style="position:absolute;left:36.12px;top:386.76px" class="cls_005"><span class="cls_005">Power Supply</span></div>
<div style="position:absolute;left:287.87px;top:385.85px" class="cls_011"><span class="cls_011">something between 4.5V and 5.5V. So 5V became</span></div>
<div style="position:absolute;left:287.87px;top:400.83px" class="cls_011"><span class="cls_011">the standard voltage for all digital electronics.</span></div>
<div style="position:absolute;left:36.12px;top:410.24px" class="cls_011"><span class="cls_011">Directly below the USB connector is the 5V</span></div>
<div style="position:absolute;left:299.86px;top:419.81px" class="cls_011"><span class="cls_011">These days, the type of logic gates used in chips</span></div>
<div style="position:absolute;left:36.12px;top:425.22px" class="cls_011"><span class="cls_011">voltage regulator. This regulates whatever voltage</span></div>
<div style="position:absolute;left:287.87px;top:434.80px" class="cls_011"><span class="cls_011">has changed and they are far more tolerant of</span></div>
<div style="position:absolute;left:36.12px;top:440.21px" class="cls_011"><span class="cls_011">(between 7 and 12 volts) is supplied from the</span></div>
<div style="position:absolute;left:287.87px;top:449.78px" class="cls_011"><span class="cls_011">different voltages.</span></div>
<div style="position:absolute;left:36.12px;top:455.19px" class="cls_011"><span class="cls_011">power socket into a constant 5V.</span></div>
<div style="position:absolute;left:299.86px;top:468.77px" class="cls_011"><span class="cls_011">The 5V voltage regulator chip is actually quite</span></div>
<div style="position:absolute;left:48.11px;top:474.18px" class="cls_011"><span class="cls_011">5V (along with 3V, 6V, 9V, and 12V) is a bit of</span></div>
<div style="position:absolute;left:287.87px;top:483.75px" class="cls_011"><span class="cls_011">big for a surface-mount component. This is so that</span></div>
<div style="position:absolute;left:36.12px;top:489.16px" class="cls_011"><span class="cls_011">a standard voltage in electronics. 3, 6, and 9V are</span></div>
<div style="position:absolute;left:287.87px;top:498.74px" class="cls_011"><span class="cls_011">it can dissipate the heat required to regulate the</span></div>
<div style="position:absolute;left:36.12px;top:504.15px" class="cls_011"><span class="cls_011">standard because the voltage that you get from a</span></div>
<div style="position:absolute;left:287.87px;top:513.72px" class="cls_011"><span class="cls_011">voltage at a reasonably high current, which is</span></div>
<div style="position:absolute;left:36.12px;top:519.13px" class="cls_011"><span class="cls_011">single alkaline cell is 1.5V, and these are all</span></div>
<div style="position:absolute;left:287.87px;top:528.71px" class="cls_011"><span class="cls_011">useful when driving our external electronics.</span></div>
<div style="position:absolute;left:36.12px;top:534.12px" class="cls_011"><span class="cls_011">convenient multiples of 1.5V, which is what you</span></div>
<div style="position:absolute;left:36.12px;top:549.10px" class="cls_011"><span class="cls_011">get when you make a “battery” of two, three, six,</span></div>
<div style="position:absolute;left:36.12px;top:564.09px" class="cls_011"><span class="cls_011">or eight cells.</span></div>
<div style="position:absolute;left:287.87px;top:561.68px" class="cls_005"><span class="cls_005">Power Connections</span></div>
<div style="position:absolute;left:48.11px;top:583.07px" class="cls_011"><span class="cls_011">So if that is the case, you might be wondering</span></div>
<div style="position:absolute;left:287.87px;top:585.16px" class="cls_011"><span class="cls_011">Next, let us look at the connectors at the bottom of</span></div>
<div style="position:absolute;left:36.12px;top:598.05px" class="cls_011"><span class="cls_011">why 5V? You cannot make that using 1.5V cells.</span></div>
<div style="position:absolute;left:287.87px;top:600.14px" class="cls_011"><span class="cls_011">Figure 2-1. You can read the connection names</span></div>
<div style="position:absolute;left:36.12px;top:613.04px" class="cls_011"><span class="cls_011">Well, the answer lies in the fact that in the early</span></div>
<div style="position:absolute;left:287.87px;top:615.13px" class="cls_011"><span class="cls_011">next to the connectors.</span></div>
<div style="position:absolute;left:36.12px;top:628.02px" class="cls_011"><span class="cls_011">days of computing, a range of chips became</span></div>
<div style="position:absolute;left:299.86px;top:634.11px" class="cls_011"><span class="cls_011">The first is Reset. This does the same thing as</span></div>
<div style="position:absolute;left:36.12px;top:643.01px" class="cls_011"><span class="cls_011">available, each of which contained logic gates.</span></div>
<div style="position:absolute;left:287.87px;top:649.10px" class="cls_011"><span class="cls_011">pressing the Reset button on the Arduino. Rather</span></div>
<div style="position:absolute;left:36.12px;top:657.99px" class="cls_011"><span class="cls_011">These chips used something called TTL</span></div>
<div style="position:absolute;left:287.87px;top:664.08px" class="cls_011"><span class="cls_011">like rebooting a PC, it resets the microcontroller,</span></div>
<div style="position:absolute;left:36.12px;top:672.98px" class="cls_011"><span class="cls_011">(Transistor-Transistor Logic), which was a bit</span></div>
<div style="position:absolute;left:287.87px;top:679.07px" class="cls_011"><span class="cls_011">beginning its program from the start. The Reset</span></div>
<div style="position:absolute;left:36.12px;top:687.96px" class="cls_011"><span class="cls_011">fussy about its voltage requirements and required</span></div>
<div style="position:absolute;left:287.87px;top:694.05px" class="cls_011"><span class="cls_011">connector allows you to reset the microcontroller</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:25740px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background034.jpg" width=552 height=770></div>
<div style="position:absolute;left:304.34px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 2</span></div>
<div style="position:absolute;left:367.68px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    A Tour of Arduino</span></div>
<div style="position:absolute;left:505.35px;top:34.50px" class="cls_017"><span class="cls_017">17</span></div>
<div style="position:absolute;left:36.21px;top:69.16px" class="cls_011"><span class="cls_011">by momentarily setting this pin high (connecting it</span></div>
<div style="position:absolute;left:287.97px;top:69.16px" class="cls_022"><span class="cls_022">■</span><span class="cls_011">   The height of the water (or if you prefer, the</span></div>
<div style="position:absolute;left:36.21px;top:84.15px" class="cls_011"><span class="cls_011">to +5V).</span></div>
<div style="position:absolute;left:304.95px;top:84.15px" class="cls_011"><span class="cls_011">pressure generated by the pump). This is like</span></div>
<div style="position:absolute;left:304.95px;top:99.13px" class="cls_011"><span class="cls_011">voltage in electronics.</span></div>
<div style="position:absolute;left:48.20px;top:103.13px" class="cls_011"><span class="cls_011">The rest of the pins in this section provide</span></div>
<div style="position:absolute;left:36.21px;top:118.11px" class="cls_011"><span class="cls_011">different voltages (3.3, 5, GND, and 9), as labeled.</span></div>
<div style="position:absolute;left:287.97px;top:118.11px" class="cls_022"><span class="cls_022">■</span><span class="cls_011">   The resistance to flow offered by the</span></div>
<div style="position:absolute;left:36.21px;top:133.10px" class="cls_011"><span class="cls_011">GND, or ground, just means zero volts. It is the</span></div>
<div style="position:absolute;left:304.95px;top:133.10px" class="cls_011"><span class="cls_011">constriction in the pipework</span></div>
<div style="position:absolute;left:36.21px;top:148.08px" class="cls_011"><span class="cls_011">reference voltage to which all other voltages on the</span></div>
<div style="position:absolute;left:299.96px;top:152.08px" class="cls_011"><span class="cls_011">The more powerful the pump, the higher the</span></div>
<div style="position:absolute;left:36.21px;top:163.07px" class="cls_011"><span class="cls_011">board are relative.</span></div>
<div style="position:absolute;left:287.97px;top:167.07px" class="cls_011"><span class="cls_011">water can be pumped and the greater the current</span></div>
<div style="position:absolute;left:48.20px;top:182.05px" class="cls_011"><span class="cls_011">At this point, it would be useful to remind the</span></div>
<div style="position:absolute;left:287.97px;top:182.05px" class="cls_011"><span class="cls_011">that will flow through the system. On the other</span></div>
<div style="position:absolute;left:36.21px;top:197.03px" class="cls_011"><span class="cls_011">reader about the difference between voltage and</span></div>
<div style="position:absolute;left:287.97px;top:197.04px" class="cls_011"><span class="cls_011">hand, the greater the resistance offered by the</span></div>
<div style="position:absolute;left:36.21px;top:212.02px" class="cls_011"><span class="cls_011">current. There is no perfect analogy for the</span></div>
<div style="position:absolute;left:287.97px;top:212.02px" class="cls_011"><span class="cls_011">pipework, the lower the current.</span></div>
<div style="position:absolute;left:36.21px;top:227.00px" class="cls_011"><span class="cls_011">behavior of electrons in a wire, but the author finds</span></div>
<div style="position:absolute;left:299.96px;top:231.00px" class="cls_011"><span class="cls_011">In the right half of Figure 2-2, we can see the</span></div>
<div style="position:absolute;left:36.21px;top:241.99px" class="cls_011"><span class="cls_011">an analogy with water in pipes to be helpful,</span></div>
<div style="position:absolute;left:287.97px;top:245.99px" class="cls_011"><span class="cls_011">electronic equivalent of our pipework. In this case,</span></div>
<div style="position:absolute;left:36.21px;top:256.97px" class="cls_011"><span class="cls_011">particularly in dealing with voltage, current, and</span></div>
<div style="position:absolute;left:287.97px;top:260.97px" class="cls_011"><span class="cls_011">current is actually a measure of how many</span></div>
<div style="position:absolute;left:36.21px;top:271.96px" class="cls_011"><span class="cls_011">resistance. The relationship between these three</span></div>
<div style="position:absolute;left:287.97px;top:275.96px" class="cls_011"><span class="cls_011">electrons flow past a point per second. And yes,</span></div>
<div style="position:absolute;left:36.21px;top:286.94px" class="cls_011"><span class="cls_011">things is called Ohm’s Law.</span></div>
<div style="position:absolute;left:287.97px;top:290.94px" class="cls_011"><span class="cls_011">resistance is the resistance to the flow of electrons.</span></div>
<div style="position:absolute;left:48.20px;top:305.93px" class="cls_011"><span class="cls_011">Figure 2-2 summarizes the relationship</span></div>
<div style="position:absolute;left:299.96px;top:309.92px" class="cls_011"><span class="cls_011">Instead of height or pressure, we have a</span></div>
<div style="position:absolute;left:36.21px;top:320.91px" class="cls_011"><span class="cls_011">between voltage, current, and resistance. The left</span></div>
<div style="position:absolute;left:287.97px;top:324.91px" class="cls_011"><span class="cls_011">concept of voltage. The bottom of the diagram is</span></div>
<div style="position:absolute;left:36.21px;top:335.90px" class="cls_011"><span class="cls_011">side of the diagram shows a circuit of pipes,</span></div>
<div style="position:absolute;left:287.97px;top:339.89px" class="cls_011"><span class="cls_011">at 0V, or ground, and we have shown the top of</span></div>
<div style="position:absolute;left:36.21px;top:350.88px" class="cls_011"><span class="cls_011">where the top of the diagram is higher up (in</span></div>
<div style="position:absolute;left:287.97px;top:354.88px" class="cls_011"><span class="cls_011">the diagram as being at 5V. So the current that</span></div>
<div style="position:absolute;left:36.21px;top:365.87px" class="cls_011"><span class="cls_011">elevation) than the bottom of the diagram. So</span></div>
<div style="position:absolute;left:287.97px;top:369.86px" class="cls_011"><span class="cls_011">flows (I) will be the voltage difference (5) divided</span></div>
<div style="position:absolute;left:36.21px;top:380.85px" class="cls_011"><span class="cls_011">water will naturally flow from the top of the</span></div>
<div style="position:absolute;left:287.97px;top:384.85px" class="cls_011"><span class="cls_011">by the resistance R.</span></div>
<div style="position:absolute;left:36.21px;top:395.84px" class="cls_011"><span class="cls_011">diagram to the bottom. Two factors determine</span></div>
<div style="position:absolute;left:299.96px;top:403.83px" class="cls_011"><span class="cls_011">Ohm’s Law is usually written as V    IR.</span></div>
<div style="position:absolute;left:36.21px;top:410.82px" class="cls_011"><span class="cls_011">how much water passes any point in the circuit in</span></div>
<div style="position:absolute;left:287.97px;top:418.82px" class="cls_011"><span class="cls_011">Normally, we know what V is and are trying to</span></div>
<div style="position:absolute;left:36.21px;top:425.81px" class="cls_011"><span class="cls_011">a given time (the current):</span></div>
<div style="position:absolute;left:42.21px;top:709.86px" class="cls_025"><span class="cls_025">Figure 2-2</span></div>
<div style="position:absolute;left:102.15px;top:710.85px" class="cls_026"><span class="cls_026">Ohm’s Law.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:26520px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background035.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">18</span></div>
<div style="position:absolute;left:75.19px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:36.12px;top:69.16px" class="cls_011"><span class="cls_011">calculate R or I, so we can do a bit of rearranging</span></div>
<div style="position:absolute;left:287.87px;top:69.16px" class="cls_011"><span class="cls_011">Digital 0 to 13. These can be used as either inputs</span></div>
<div style="position:absolute;left:36.12px;top:84.15px" class="cls_011"><span class="cls_011">to have the more convenient I    V/R and R    V/I.</span></div>
<div style="position:absolute;left:287.87px;top:84.14px" class="cls_011"><span class="cls_011">or outputs. When using them as outputs, they</span></div>
<div style="position:absolute;left:287.87px;top:99.13px" class="cls_011"><span class="cls_011">behave rather like the supply voltages we talked</span></div>
<div style="position:absolute;left:48.11px;top:103.13px" class="cls_011"><span class="cls_011">It is very important to do a few calculations</span></div>
<div style="position:absolute;left:287.87px;top:114.11px" class="cls_011"><span class="cls_011">about earlier, except that these are all 5V and can</span></div>
<div style="position:absolute;left:36.12px;top:118.11px" class="cls_011"><span class="cls_011">using Ohm’s Law when connecting things to your</span></div>
<div style="position:absolute;left:287.87px;top:129.10px" class="cls_011"><span class="cls_011">be turned on or off from our sketch. So, if we turn</span></div>
<div style="position:absolute;left:36.12px;top:133.10px" class="cls_011"><span class="cls_011">Arduino, or you may damage it if you ask it to</span></div>
<div style="position:absolute;left:287.87px;top:144.08px" class="cls_011"><span class="cls_011">them on from our sketch, they will be at 5V and if</span></div>
<div style="position:absolute;left:36.12px;top:148.08px" class="cls_011"><span class="cls_011">supply too much current. Generally, though, the</span></div>
<div style="position:absolute;left:287.87px;top:159.07px" class="cls_011"><span class="cls_011">we turn them off, they will be at 0V. As with the</span></div>
<div style="position:absolute;left:36.12px;top:163.07px" class="cls_011"><span class="cls_011">Arduino boards are remarkably tolerant of</span></div>
<div style="position:absolute;left:287.87px;top:174.05px" class="cls_011"><span class="cls_011">supply connectors, we have to be careful not to</span></div>
<div style="position:absolute;left:36.12px;top:178.05px" class="cls_011"><span class="cls_011">accidental abuse.</span></div>
<div style="position:absolute;left:287.87px;top:189.04px" class="cls_011"><span class="cls_011">exceed their maximum current capabilities.</span></div>
<div style="position:absolute;left:48.11px;top:197.03px" class="cls_011"><span class="cls_011">So, going back to our Arduino power pins, we</span></div>
<div style="position:absolute;left:299.86px;top:208.02px" class="cls_011"><span class="cls_011">These connections can supply 40 mA at 5V.</span></div>
<div style="position:absolute;left:36.12px;top:212.02px" class="cls_011"><span class="cls_011">can see that the Arduino board will supply us with</span></div>
<div style="position:absolute;left:287.87px;top:223.01px" class="cls_011"><span class="cls_011">That is more than enough to light a standard LED,</span></div>
<div style="position:absolute;left:36.12px;top:227.00px" class="cls_011"><span class="cls_011">useful voltages of 3.3V, 5V, and 9V. We can use</span></div>
<div style="position:absolute;left:287.87px;top:237.99px" class="cls_011"><span class="cls_011">but not enough to drive an electric motor directly.</span></div>
<div style="position:absolute;left:36.12px;top:241.99px" class="cls_011"><span class="cls_011">any of those supplies to cause a current to flow, as</span></div>
<div style="position:absolute;left:36.12px;top:256.97px" class="cls_011"><span class="cls_011">long as we are careful not to make it a short circuit</span></div>
<div style="position:absolute;left:299.86px;top:256.97px" class="cls_011"><span class="cls_011">As an example, let us look at how we would</span></div>
<div style="position:absolute;left:36.12px;top:271.96px" class="cls_011"><span class="cls_011">(no resistance to flow), which would cause a</span></div>
<div style="position:absolute;left:287.87px;top:271.96px" class="cls_011"><span class="cls_011">connect an LED to one of these digital</span></div>
<div style="position:absolute;left:36.12px;top:286.94px" class="cls_011"><span class="cls_011">potentially large current to flow that could cause</span></div>
<div style="position:absolute;left:287.87px;top:286.94px" class="cls_011"><span class="cls_011">connections. In fact, let’s go back to Project 1 in</span></div>
<div style="position:absolute;left:36.12px;top:301.93px" class="cls_011"><span class="cls_011">damage. In other words, we have to make sure that</span></div>
<div style="position:absolute;left:287.87px;top:301.93px" class="cls_011"><span class="cls_011">Chapter 1.</span></div>
<div style="position:absolute;left:36.12px;top:316.92px" class="cls_011"><span class="cls_011">anything we connect to the supply has enough</span></div>
<div style="position:absolute;left:299.86px;top:320.91px" class="cls_011"><span class="cls_011">As a reminder, Figure 2-3 shows the schematic</span></div>
<div style="position:absolute;left:36.12px;top:331.90px" class="cls_011"><span class="cls_011">resistance to prevent too much current from</span></div>
<div style="position:absolute;left:287.87px;top:335.90px" class="cls_011"><span class="cls_011">diagram for driving the LED that we first used in</span></div>
<div style="position:absolute;left:36.12px;top:346.89px" class="cls_011"><span class="cls_011">flowing. As well as supplying a particular voltage,</span></div>
<div style="position:absolute;left:287.87px;top:350.88px" class="cls_011"><span class="cls_011">the previous chapter. If we were to not use a</span></div>
<div style="position:absolute;left:36.12px;top:361.87px" class="cls_011"><span class="cls_011">each of those supply connections will have a</span></div>
<div style="position:absolute;left:287.87px;top:365.87px" class="cls_011"><span class="cls_011">resistor with our LED but simply connect the LED</span></div>
<div style="position:absolute;left:36.12px;top:376.86px" class="cls_011"><span class="cls_011">maximum current that can be allowed to flow.</span></div>
<div style="position:absolute;left:287.87px;top:380.85px" class="cls_011"><span class="cls_011">between pin 12 and GND, then when we turned</span></div>
<div style="position:absolute;left:36.12px;top:391.84px" class="cls_011"><span class="cls_011">Those currents are 50 mA (thousandths of an amp)</span></div>
<div style="position:absolute;left:287.87px;top:395.84px" class="cls_011"><span class="cls_011">digital output 12 on (5V), we might burn out the</span></div>
<div style="position:absolute;left:36.12px;top:406.83px" class="cls_011"><span class="cls_011">for the 3.3V supply, and although it is not stated in</span></div>
<div style="position:absolute;left:287.87px;top:410.82px" class="cls_011"><span class="cls_011">LED, destroying it.</span></div>
<div style="position:absolute;left:36.12px;top:421.81px" class="cls_011"><span class="cls_011">the Arduino specification, probably around 300</span></div>
<div style="position:absolute;left:299.86px;top:429.80px" class="cls_011"><span class="cls_011">This is because LEDs have a very low resistance</span></div>
<div style="position:absolute;left:36.12px;top:436.80px" class="cls_011"><span class="cls_011">mA for the 5V.</span></div>
<div style="position:absolute;left:287.87px;top:444.79px" class="cls_011"><span class="cls_011">and will cause a very high current to flow unless</span></div>
<div style="position:absolute;left:287.87px;top:459.77px" class="cls_011"><span class="cls_011">they are protected from themselves by using a</span></div>
<div style="position:absolute;left:36.12px;top:469.77px" class="cls_005"><span class="cls_005">Analog Inputs</span></div>
<div style="position:absolute;left:287.87px;top:474.76px" class="cls_011"><span class="cls_011">resistor to limit the flow of current.</span></div>
<div style="position:absolute;left:36.12px;top:493.25px" class="cls_011"><span class="cls_011">The next section of connections is labeled Analog</span></div>
<div style="position:absolute;left:36.12px;top:508.23px" class="cls_011"><span class="cls_011">In 0 to 5. These six pins can be used to measure</span></div>
<div style="position:absolute;left:36.12px;top:523.22px" class="cls_011"><span class="cls_011">the voltage connected to them so that the value can</span></div>
<div style="position:absolute;left:36.12px;top:538.20px" class="cls_011"><span class="cls_011">be used in a sketch. Note that they measure a</span></div>
<div style="position:absolute;left:36.12px;top:553.19px" class="cls_011"><span class="cls_011">voltage and not a current. Only a tiny current will</span></div>
<div style="position:absolute;left:36.12px;top:568.17px" class="cls_011"><span class="cls_011">ever flow into them and down to ground because</span></div>
<div style="position:absolute;left:36.12px;top:583.16px" class="cls_011"><span class="cls_011">they have a very large internal resistance.</span></div>
<div style="position:absolute;left:48.11px;top:602.14px" class="cls_011"><span class="cls_011">Although labeled as analog inputs, these</span></div>
<div style="position:absolute;left:36.12px;top:617.12px" class="cls_011"><span class="cls_011">connections can also be used as digital inputs or</span></div>
<div style="position:absolute;left:36.12px;top:632.11px" class="cls_011"><span class="cls_011">outputs, but by default, they are analog inputs.</span></div>
<div style="position:absolute;left:36.12px;top:665.08px" class="cls_005"><span class="cls_005">Digital Connections</span></div>
<div style="position:absolute;left:36.12px;top:688.56px" class="cls_011"><span class="cls_011">We now switch to the top connector and start on</span></div>
<div style="position:absolute;left:36.12px;top:703.54px" class="cls_011"><span class="cls_011">the right side (Figure 2-1). We have pins labeled</span></div>
<div style="position:absolute;left:293.87px;top:710.63px" class="cls_025"><span class="cls_025">Figure 2-3</span></div>
<div style="position:absolute;left:353.81px;top:711.61px" class="cls_026"><span class="cls_026">LED and series resistor.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:27300px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background036.jpg" width=552 height=770></div>
<div style="position:absolute;left:303.91px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 2</span></div>
<div style="position:absolute;left:367.25px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    A Tour of Arduino</span></div>
<div style="position:absolute;left:504.92px;top:34.50px" class="cls_017"><span class="cls_017">19</span></div>
<div style="position:absolute;left:48.20px;top:69.16px" class="cls_011"><span class="cls_011">An LED needs about 10 mA to shine reasonably</span></div>
<div style="position:absolute;left:299.96px;top:69.15px" class="cls_011"><span class="cls_011">On the left side of the top connector in Figure</span></div>
<div style="position:absolute;left:36.21px;top:84.15px" class="cls_011"><span class="cls_011">brightly. The Arduino can supply 50 mA, so there</span></div>
<div style="position:absolute;left:287.97px;top:84.14px" class="cls_011"><span class="cls_011">2-1, there is another GND connection and a</span></div>
<div style="position:absolute;left:36.21px;top:99.13px" class="cls_011"><span class="cls_011">is no problem there; we just need to choose a</span></div>
<div style="position:absolute;left:287.97px;top:99.12px" class="cls_011"><span class="cls_011">connection called AREF. AREF can be used to</span></div>
<div style="position:absolute;left:36.21px;top:114.12px" class="cls_011"><span class="cls_011">sensible value of resistor.</span></div>
<div style="position:absolute;left:287.97px;top:114.11px" class="cls_011"><span class="cls_011">scale the readings for analog inputs. This is rarely</span></div>
<div style="position:absolute;left:287.97px;top:129.09px" class="cls_011"><span class="cls_011">used and can safely be ignored.</span></div>
<div style="position:absolute;left:48.20px;top:133.10px" class="cls_011"><span class="cls_011">LEDs have the interesting property that no</span></div>
<div style="position:absolute;left:36.21px;top:148.08px" class="cls_011"><span class="cls_011">matter how much current flows through them,</span></div>
<div style="position:absolute;left:36.21px;top:163.07px" class="cls_011"><span class="cls_011">there will always be about 2V between their pins.</span></div>
<div style="position:absolute;left:287.97px;top:162.07px" class="cls_005"><span class="cls_005">Microcontroller</span></div>
<div style="position:absolute;left:36.21px;top:178.05px" class="cls_011"><span class="cls_011">We can use this fact and Ohm’s Law to work out</span></div>
<div style="position:absolute;left:287.97px;top:185.55px" class="cls_011"><span class="cls_011">Getting back to our tour of the Arduino board, the</span></div>
<div style="position:absolute;left:36.21px;top:193.04px" class="cls_011"><span class="cls_011">the right value of resistor to use.</span></div>
<div style="position:absolute;left:287.97px;top:200.53px" class="cls_011"><span class="cls_011">microcontroller chip itself is the black rectangular</span></div>
<div style="position:absolute;left:48.20px;top:212.02px" class="cls_011"><span class="cls_011">We know that (at least when it’s on) the output</span></div>
<div style="position:absolute;left:287.97px;top:215.52px" class="cls_011"><span class="cls_011">device with 28 pins. This is fitted into a DIL</span></div>
<div style="position:absolute;left:36.21px;top:227.00px" class="cls_011"><span class="cls_011">pin will be supplying 5V. Now, we have just said</span></div>
<div style="position:absolute;left:287.97px;top:230.50px" class="cls_011"><span class="cls_011">(dual in-line) socket so that it can be easily</span></div>
<div style="position:absolute;left:36.21px;top:241.99px" class="cls_011"><span class="cls_011">that 2V will be “dropped” by our LED, leaving</span></div>
<div style="position:absolute;left:287.97px;top:245.49px" class="cls_011"><span class="cls_011">replaced. The 28-pin microcontroller chip used on</span></div>
<div style="position:absolute;left:36.21px;top:256.97px" class="cls_011"><span class="cls_011">3V (5 - 2) across our current-limiting resistor. We</span></div>
<div style="position:absolute;left:287.97px;top:260.47px" class="cls_011"><span class="cls_011">Arduino Duemilanove is the ATmega328. Figure</span></div>
<div style="position:absolute;left:36.21px;top:271.96px" class="cls_011"><span class="cls_011">want the current flowing around the circuit to be</span></div>
<div style="position:absolute;left:287.97px;top:275.46px" class="cls_011"><span class="cls_011">2-4 is a block diagram showing the main features</span></div>
<div style="position:absolute;left:36.21px;top:286.94px" class="cls_011"><span class="cls_011">10 mA, so we can see that the value for the</span></div>
<div style="position:absolute;left:287.97px;top:290.44px" class="cls_011"><span class="cls_011">of this device.</span></div>
<div style="position:absolute;left:36.21px;top:301.93px" class="cls_011"><span class="cls_011">resistor should be</span></div>
<div style="position:absolute;left:299.96px;top:309.42px" class="cls_011"><span class="cls_011">The heart, or perhaps more appropriately the</span></div>
<div style="position:absolute;left:53.20px;top:320.91px" class="cls_011"><span class="cls_011">R   V/I</span></div>
<div style="position:absolute;left:287.97px;top:324.41px" class="cls_011"><span class="cls_011">brain, of the device is the CPU (central processing</span></div>
<div style="position:absolute;left:53.20px;top:339.89px" class="cls_011"><span class="cls_011">R</span></div>
<div style="position:absolute;left:75.72px;top:339.89px" class="cls_011"><span class="cls_011">3V/10 mA</span></div>
<div style="position:absolute;left:287.97px;top:339.39px" class="cls_011"><span class="cls_011">unit). It controls everything that goes on within the</span></div>
<div style="position:absolute;left:287.97px;top:354.38px" class="cls_011"><span class="cls_011">device. It fetches program instructions stored in the</span></div>
<div style="position:absolute;left:53.20px;top:358.88px" class="cls_011"><span class="cls_011">R</span></div>
<div style="position:absolute;left:75.72px;top:358.88px" class="cls_011"><span class="cls_011">3V/0.01 A</span></div>
<div style="position:absolute;left:287.97px;top:369.36px" class="cls_011"><span class="cls_011">Flash memory and executes them. This might</span></div>
<div style="position:absolute;left:53.20px;top:377.86px" class="cls_011"><span class="cls_011">R</span></div>
<div style="position:absolute;left:75.72px;top:377.86px" class="cls_011"><span class="cls_011">300</span></div>
<div style="position:absolute;left:287.97px;top:384.35px" class="cls_011"><span class="cls_011">involve fetching data from working memory</span></div>
<div style="position:absolute;left:48.20px;top:396.84px" class="cls_011"><span class="cls_011">Resistors come in standard values, and the</span></div>
<div style="position:absolute;left:287.97px;top:399.33px" class="cls_011"><span class="cls_011">(RAM), changing it, and then putting it back. Or, it</span></div>
<div style="position:absolute;left:36.21px;top:411.82px" class="cls_011"><span class="cls_011">closest value to 300    is 270   . This means that</span></div>
<div style="position:absolute;left:287.97px;top:414.32px" class="cls_011"><span class="cls_011">may mean changing one of the digital outputs from</span></div>
<div style="position:absolute;left:36.21px;top:426.81px" class="cls_011"><span class="cls_011">instead of 10 mA, the current will actually be</span></div>
<div style="position:absolute;left:287.97px;top:429.30px" class="cls_011"><span class="cls_011">0 to 5 volts.</span></div>
<div style="position:absolute;left:53.20px;top:445.79px" class="cls_011"><span class="cls_011">I</span></div>
<div style="position:absolute;left:71.50px;top:445.79px" class="cls_011"><span class="cls_011">V/R</span></div>
<div style="position:absolute;left:53.20px;top:464.77px" class="cls_011"><span class="cls_011">I</span></div>
<div style="position:absolute;left:72.05px;top:464.77px" class="cls_011"><span class="cls_011">3/270</span></div>
<div style="position:absolute;left:53.20px;top:483.75px" class="cls_011"><span class="cls_011">I</span></div>
<div style="position:absolute;left:72.05px;top:483.75px" class="cls_011"><span class="cls_011">11.111 mA</span></div>
<div style="position:absolute;left:48.21px;top:502.74px" class="cls_011"><span class="cls_011">These things are not critical, and the LED</span></div>
<div style="position:absolute;left:36.22px;top:517.72px" class="cls_011"><span class="cls_011">would probably be equally happy with anything</span></div>
<div style="position:absolute;left:36.22px;top:532.71px" class="cls_011"><span class="cls_011">between 5 and 30 mA, so 270    will work just</span></div>
<div style="position:absolute;left:36.22px;top:547.69px" class="cls_011"><span class="cls_011">fine.</span></div>
<div style="position:absolute;left:48.21px;top:566.67px" class="cls_011"><span class="cls_011">We can also set one of these digital connections</span></div>
<div style="position:absolute;left:36.22px;top:581.66px" class="cls_011"><span class="cls_011">to be an input, in which case, it works rather like</span></div>
<div style="position:absolute;left:36.22px;top:596.64px" class="cls_011"><span class="cls_011">an analog input, except that it will just tell us if the</span></div>
<div style="position:absolute;left:36.22px;top:611.63px" class="cls_011"><span class="cls_011">voltage at a pin is above a certain threshold</span></div>
<div style="position:absolute;left:36.22px;top:626.61px" class="cls_011"><span class="cls_011">(roughly 2.5V) or not.</span></div>
<div style="position:absolute;left:48.21px;top:645.59px" class="cls_011"><span class="cls_011">Some of the digital connections (3, 5, 6, 9, 10,</span></div>
<div style="position:absolute;left:36.22px;top:660.58px" class="cls_011"><span class="cls_011">and 11) have the letters PWM next to them. These</span></div>
<div style="position:absolute;left:36.22px;top:675.57px" class="cls_011"><span class="cls_011">can be used to provide a variable output voltage</span></div>
<div style="position:absolute;left:36.22px;top:690.55px" class="cls_011"><span class="cls_011">rather than a simple 5V or nothing.</span></div>
<div style="position:absolute;left:293.96px;top:709.86px" class="cls_025"><span class="cls_025">Figure 2-4</span></div>
<div style="position:absolute;left:353.90px;top:710.85px" class="cls_026"><span class="cls_026">ATmega328 block diagram.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:28080px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background037.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">20</span></div>
<div style="position:absolute;left:78.20px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:48.11px;top:69.16px" class="cls_011"><span class="cls_011">The electrically erasable programmable read-</span></div>
<div style="position:absolute;left:287.87px;top:69.47px" class="cls_021"><span class="cls_021">The Arduino Family</span></div>
<div style="position:absolute;left:36.12px;top:84.15px" class="cls_011"><span class="cls_011">only memory (EEPROM) memory is a little like</span></div>
<div style="position:absolute;left:287.87px;top:95.94px" class="cls_011"><span class="cls_011">It’s useful to have a little background on the</span></div>
<div style="position:absolute;left:36.12px;top:99.13px" class="cls_011"><span class="cls_011">the Flash memory in that it is nonvolatile. That is,</span></div>
<div style="position:absolute;left:287.87px;top:110.93px" class="cls_011"><span class="cls_011">Arduino boards. We will be using the Duemilanove</span></div>
<div style="position:absolute;left:36.12px;top:114.12px" class="cls_011"><span class="cls_011">you can turn the device off and on and it will not</span></div>
<div style="position:absolute;left:287.87px;top:125.91px" class="cls_011"><span class="cls_011">for most of our projects; however, we will also</span></div>
<div style="position:absolute;left:36.12px;top:129.10px" class="cls_011"><span class="cls_011">have forgotten what is in the EEPROM. Whereas</span></div>
<div style="position:absolute;left:287.87px;top:140.90px" class="cls_011"><span class="cls_011">dabble with the interesting Lilypad Arduino.</span></div>
<div style="position:absolute;left:36.12px;top:144.09px" class="cls_011"><span class="cls_011">the Flash memory is intended for storing program</span></div>
<div style="position:absolute;left:36.12px;top:159.07px" class="cls_011"><span class="cls_011">instructions (from sketches), the EEPROM is used</span></div>
<div style="position:absolute;left:299.86px;top:159.88px" class="cls_011"><span class="cls_011">The Lilypad (Figure 2-5), is a tiny, thin Arduino</span></div>
<div style="position:absolute;left:36.12px;top:174.06px" class="cls_011"><span class="cls_011">to store data that you do not want to lose in the</span></div>
<div style="position:absolute;left:287.87px;top:174.87px" class="cls_011"><span class="cls_011">board that can be stitched into clothing for</span></div>
<div style="position:absolute;left:36.12px;top:189.04px" class="cls_011"><span class="cls_011">event of a reset or power failure.</span></div>
<div style="position:absolute;left:287.87px;top:189.85px" class="cls_011"><span class="cls_011">applications that have become known as wearable</span></div>
<div style="position:absolute;left:287.87px;top:204.84px" class="cls_011"><span class="cls_011">computing. It does not have a USB connection,</span></div>
<div style="position:absolute;left:48.11px;top:208.02px" class="cls_011"><span class="cls_011">The older Diecimila uses the ATmega168,</span></div>
<div style="position:absolute;left:287.87px;top:219.82px" class="cls_011"><span class="cls_011">and you must use a separate adaptor to program it.</span></div>
<div style="position:absolute;left:36.12px;top:223.01px" class="cls_011"><span class="cls_011">which functions in an identical way to the</span></div>
<div style="position:absolute;left:287.87px;top:234.81px" class="cls_011"><span class="cls_011">This is an exceptionally beautiful design. Inspired</span></div>
<div style="position:absolute;left:36.12px;top:237.99px" class="cls_011"><span class="cls_011">ATmega328 except that it has half the amount of</span></div>
<div style="position:absolute;left:287.87px;top:249.79px" class="cls_011"><span class="cls_011">by its clocklike appearance, we will use this in</span></div>
<div style="position:absolute;left:36.12px;top:252.98px" class="cls_011"><span class="cls_011">every sort of memory. It has 16KB of Flash</span></div>
<div style="position:absolute;left:287.87px;top:264.78px" class="cls_011"><span class="cls_011">Project 29 (Unfathomable Binary Clock).</span></div>
<div style="position:absolute;left:36.12px;top:267.96px" class="cls_011"><span class="cls_011">memory, 1KB of RAM, and 512 bytes of</span></div>
<div style="position:absolute;left:36.12px;top:282.95px" class="cls_011"><span class="cls_011">EEPROM.</span></div>
<div style="position:absolute;left:299.86px;top:283.76px" class="cls_011"><span class="cls_011">At the other end of the spectrum is the Arduino</span></div>
<div style="position:absolute;left:287.87px;top:298.74px" class="cls_011"><span class="cls_011">Mega. This board has a faster processor with more</span></div>
<div style="position:absolute;left:287.87px;top:313.73px" class="cls_011"><span class="cls_011">memory and a greater number of input/output pins.</span></div>
<div style="position:absolute;left:36.12px;top:315.92px" class="cls_005"><span class="cls_005">Other Components</span></div>
<div style="position:absolute;left:299.86px;top:332.71px" class="cls_011"><span class="cls_011">Cleverly, the Arduino Mega can still use shields</span></div>
<div style="position:absolute;left:36.12px;top:339.40px" class="cls_011"><span class="cls_011">Above the microcontroller there is a small, silver,</span></div>
<div style="position:absolute;left:287.87px;top:347.69px" class="cls_011"><span class="cls_011">built for the smaller Arduino Diecimila and</span></div>
<div style="position:absolute;left:36.12px;top:354.38px" class="cls_011"><span class="cls_011">rectangular component. This is a quartz crystal</span></div>
<div style="position:absolute;left:287.87px;top:362.68px" class="cls_011"><span class="cls_011">Duemilanove boards, which sit at the front of the</span></div>
<div style="position:absolute;left:36.12px;top:369.37px" class="cls_011"><span class="cls_011">oscillator. It “ticks” 16 million times a second, and</span></div>
<div style="position:absolute;left:287.87px;top:377.66px" class="cls_011"><span class="cls_011">board, allowing access to the double row of</span></div>
<div style="position:absolute;left:36.12px;top:384.35px" class="cls_011"><span class="cls_011">on each of those ticks, the microcontroller can</span></div>
<div style="position:absolute;left:287.87px;top:392.65px" class="cls_011"><span class="cls_011">connectors for the Mega’s additional connections</span></div>
<div style="position:absolute;left:36.12px;top:399.34px" class="cls_011"><span class="cls_011">perform one operation—an addition, subtraction, etc.</span></div>
<div style="position:absolute;left:287.87px;top:407.63px" class="cls_011"><span class="cls_011">at the rear. Only the most demanding of projects</span></div>
<div style="position:absolute;left:48.11px;top:418.32px" class="cls_011"><span class="cls_011">To the right of the crystal, is the Reset switch.</span></div>
<div style="position:absolute;left:287.87px;top:422.62px" class="cls_011"><span class="cls_011">really need an Arduino Mega.</span></div>
<div style="position:absolute;left:36.12px;top:433.30px" class="cls_011"><span class="cls_011">Clicking this sends a logic pulse to the Reset pin</span></div>
<div style="position:absolute;left:36.12px;top:448.29px" class="cls_011"><span class="cls_011">of the microcontroller, causing the microcontroller</span></div>
<div style="position:absolute;left:36.12px;top:463.27px" class="cls_011"><span class="cls_011">to start its program afresh and clear its memory.</span></div>
<div style="position:absolute;left:36.12px;top:478.26px" class="cls_011"><span class="cls_011">Note that any program stored on the device will be</span></div>
<div style="position:absolute;left:36.12px;top:493.24px" class="cls_011"><span class="cls_011">retained because this is kept in nonvolatile Flash</span></div>
<div style="position:absolute;left:36.12px;top:508.23px" class="cls_011"><span class="cls_011">memory—that is, memory that remembers even</span></div>
<div style="position:absolute;left:36.12px;top:523.21px" class="cls_011"><span class="cls_011">when the device is not powered.</span></div>
<div style="position:absolute;left:48.11px;top:542.20px" class="cls_011"><span class="cls_011">To the right of the Reset button is the serial</span></div>
<div style="position:absolute;left:36.12px;top:557.18px" class="cls_011"><span class="cls_011">programming connector. It offers another means of</span></div>
<div style="position:absolute;left:36.12px;top:572.17px" class="cls_011"><span class="cls_011">programming the Arduino without using the USB</span></div>
<div style="position:absolute;left:36.12px;top:587.15px" class="cls_011"><span class="cls_011">port. Since we do have a USB connection and</span></div>
<div style="position:absolute;left:36.12px;top:602.14px" class="cls_011"><span class="cls_011">software that makes it convenient to use, we will</span></div>
<div style="position:absolute;left:36.12px;top:617.12px" class="cls_011"><span class="cls_011">not avail ourselves of this feature.</span></div>
<div style="position:absolute;left:48.11px;top:636.10px" class="cls_011"><span class="cls_011">In the top left of the board next to the USB</span></div>
<div style="position:absolute;left:36.12px;top:651.09px" class="cls_011"><span class="cls_011">socket is the USB interface chip. This converts the</span></div>
<div style="position:absolute;left:36.12px;top:666.07px" class="cls_011"><span class="cls_011">signal levels used by the USB standard to levels</span></div>
<div style="position:absolute;left:36.12px;top:681.06px" class="cls_011"><span class="cls_011">that can be used directly by the Arduino board.</span></div>
<div style="position:absolute;left:293.87px;top:709.86px" class="cls_025"><span class="cls_025">Figure 2-5</span></div>
<div style="position:absolute;left:353.81px;top:710.85px" class="cls_026"><span class="cls_026">Arduino Lilypad.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:28860px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background038.jpg" width=552 height=770></div>
<div style="position:absolute;left:304.30px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 2</span></div>
<div style="position:absolute;left:367.64px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    A Tour of Arduino</span></div>
<div style="position:absolute;left:505.31px;top:34.50px" class="cls_017"><span class="cls_017">21</span></div>
<div style="position:absolute;left:36.21px;top:69.47px" class="cls_021"><span class="cls_021">The C Language</span></div>
<div style="position:absolute;left:305.83px;top:74.13px" class="cls_031"><span class="cls_031">digitalWrite(ledPin, LOW);</span></div>
<div style="position:absolute;left:311.94px;top:87.11px" class="cls_031"><span class="cls_031">// set the LED off</span></div>
<div style="position:absolute;left:36.21px;top:95.94px" class="cls_011"><span class="cls_011">Many languages are used to program</span></div>
<div style="position:absolute;left:305.83px;top:100.10px" class="cls_031"><span class="cls_031">delay(1000);</span></div>
<div style="position:absolute;left:36.21px;top:110.93px" class="cls_011"><span class="cls_011">microcontrollers, from hard-core Assembly</span></div>
<div style="position:absolute;left:311.94px;top:113.09px" class="cls_031"><span class="cls_031">// wait for a second</span></div>
<div style="position:absolute;left:36.21px;top:125.91px" class="cls_011"><span class="cls_011">language to graphical programming languages like</span></div>
<div style="position:absolute;left:293.96px;top:126.07px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:36.21px;top:140.90px" class="cls_011"><span class="cls_011">Flowcode. Arduino sits somewhere in between</span></div>
<div style="position:absolute;left:36.21px;top:155.88px" class="cls_011"><span class="cls_011">these two extremes and uses the C programming</span></div>
<div style="position:absolute;left:299.96px;top:155.05px" class="cls_011"><span class="cls_011">It is standard practice to include such text at the</span></div>
<div style="position:absolute;left:36.21px;top:170.87px" class="cls_011"><span class="cls_011">language. It does, however, wrap up the C</span></div>
<div style="position:absolute;left:287.97px;top:170.03px" class="cls_011"><span class="cls_011">top of any program file. You can also include</span></div>
<div style="position:absolute;left:36.21px;top:185.85px" class="cls_011"><span class="cls_011">language, hiding away some of the complexity.</span></div>
<div style="position:absolute;left:287.97px;top:185.02px" class="cls_011"><span class="cls_011">comments that describe a tricky bit of code, or</span></div>
<div style="position:absolute;left:36.21px;top:200.84px" class="cls_011"><span class="cls_011">This makes it easy to get started.</span></div>
<div style="position:absolute;left:287.97px;top:200.00px" class="cls_011"><span class="cls_011">anything that requires some explanation.</span></div>
<div style="position:absolute;left:48.20px;top:219.82px" class="cls_011"><span class="cls_011">The C language is, in computing terms, an old</span></div>
<div style="position:absolute;left:299.96px;top:218.99px" class="cls_011"><span class="cls_011">The Arduino development environment uses</span></div>
<div style="position:absolute;left:36.21px;top:234.81px" class="cls_011"><span class="cls_011">and venerable language. It is well suited to</span></div>
<div style="position:absolute;left:287.97px;top:233.97px" class="cls_011"><span class="cls_011">something called a compiler that converts the</span></div>
<div style="position:absolute;left:36.21px;top:249.79px" class="cls_011"><span class="cls_011">programming the microcontroller because it was</span></div>
<div style="position:absolute;left:287.97px;top:248.96px" class="cls_011"><span class="cls_011">script into the machine code that will run on the</span></div>
<div style="position:absolute;left:36.21px;top:264.78px" class="cls_011"><span class="cls_011">invented at a time when compared to today’s</span></div>
<div style="position:absolute;left:287.97px;top:263.94px" class="cls_011"><span class="cls_011">microcontroller.</span></div>
<div style="position:absolute;left:36.21px;top:279.76px" class="cls_011"><span class="cls_011">monsters, the typical computer was quite poorly</span></div>
<div style="position:absolute;left:299.96px;top:282.92px" class="cls_011"><span class="cls_011">So, moving onto the first real line of code, we</span></div>
<div style="position:absolute;left:36.21px;top:294.75px" class="cls_011"><span class="cls_011">endowed.</span></div>
<div style="position:absolute;left:287.97px;top:297.91px" class="cls_011"><span class="cls_011">have:</span></div>
<div style="position:absolute;left:48.20px;top:313.73px" class="cls_011"><span class="cls_011">C is an easy language to learn, yet compiles into</span></div>
<div style="position:absolute;left:293.96px;top:323.38px" class="cls_031"><span class="cls_031">int ledPin = 13;</span></div>
<div style="position:absolute;left:36.21px;top:328.71px" class="cls_011"><span class="cls_011">efficient machine code that only takes a small</span></div>
<div style="position:absolute;left:36.21px;top:343.70px" class="cls_011"><span class="cls_011">amount of room in our limited Arduino memory.</span></div>
<div style="position:absolute;left:299.96px;top:349.36px" class="cls_011"><span class="cls_011">This line of code gives a name to the digital</span></div>
<div style="position:absolute;left:287.97px;top:364.34px" class="cls_011"><span class="cls_011">output pin that we are going to connect to the</span></div>
<div style="position:absolute;left:36.21px;top:376.67px" class="cls_005"><span class="cls_005">An Example</span></div>
<div style="position:absolute;left:287.97px;top:379.33px" class="cls_011"><span class="cls_011">LED. If you look carefully at your Arduino board,</span></div>
<div style="position:absolute;left:287.97px;top:394.31px" class="cls_011"><span class="cls_011">you will see the connector for pin 13 between</span></div>
<div style="position:absolute;left:36.21px;top:400.15px" class="cls_011"><span class="cls_011">We are now going to examine the sketch for</span></div>
<div style="position:absolute;left:287.97px;top:409.30px" class="cls_011"><span class="cls_011">GND and pin 12 on the Arduino’s top connector.</span></div>
<div style="position:absolute;left:36.21px;top:415.13px" class="cls_011"><span class="cls_011">Project 1 in a bit more detail. The listing for this</span></div>
<div style="position:absolute;left:287.97px;top:424.28px" class="cls_011"><span class="cls_011">The Arduino board has a small green LED already</span></div>
<div style="position:absolute;left:36.21px;top:430.12px" class="cls_011"><span class="cls_011">sketch to flash an LED on and off is shown here.</span></div>
<div style="position:absolute;left:287.97px;top:439.27px" class="cls_011"><span class="cls_011">soldered onto the board and connected to pin 13.</span></div>
<div style="position:absolute;left:36.21px;top:445.10px" class="cls_011"><span class="cls_011">We have ignored all the lines that begin with // or</span></div>
<div style="position:absolute;left:287.97px;top:454.25px" class="cls_011"><span class="cls_011">We are going to change the voltage of this pin to</span></div>
<div style="position:absolute;left:36.21px;top:460.09px" class="cls_011"><span class="cls_011">blocks of lines that start with /* and end with */</span></div>
<div style="position:absolute;left:287.97px;top:469.24px" class="cls_011"><span class="cls_011">between 0V and 5V to make the LED flash.</span></div>
<div style="position:absolute;left:36.21px;top:475.07px" class="cls_011"><span class="cls_011">because these are comment lines that have no</span></div>
<div style="position:absolute;left:36.21px;top:490.06px" class="cls_011"><span class="cls_011">effect on the program and are just there for</span></div>
<div style="position:absolute;left:299.96px;top:488.22px" class="cls_011"><span class="cls_011">We are going to use a name for the pin so that</span></div>
<div style="position:absolute;left:36.21px;top:505.04px" class="cls_011"><span class="cls_011">information.</span></div>
<div style="position:absolute;left:287.97px;top:503.21px" class="cls_011"><span class="cls_011">it’s easy to change it and use a different one. You</span></div>
<div style="position:absolute;left:287.97px;top:518.19px" class="cls_011"><span class="cls_011">can see that we refer to “ledPin” later in the</span></div>
<div style="position:absolute;left:42.21px;top:530.52px" class="cls_031"><span class="cls_031">int ledPin =</span></div>
<div style="position:absolute;left:119.88px;top:530.52px" class="cls_031"><span class="cls_031">13;</span></div>
<div style="position:absolute;left:287.97px;top:533.18px" class="cls_011"><span class="cls_011">sketch. You may prefer to use pin 12 and the</span></div>
<div style="position:absolute;left:60.19px;top:543.51px" class="cls_031"><span class="cls_031">// LED connected to digital pin 13</span></div>
<div style="position:absolute;left:287.97px;top:548.16px" class="cls_011"><span class="cls_011">external LED that you used with your breadboard</span></div>
<div style="position:absolute;left:42.21px;top:556.49px" class="cls_031"><span class="cls_031">void setup()</span></div>
<div style="position:absolute;left:287.97px;top:563.15px" class="cls_011"><span class="cls_011">in Chapter 1. But for now, we will assume that you</span></div>
<div style="position:absolute;left:42.21px;top:569.48px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:54.07px;top:582.47px" class="cls_031"><span class="cls_031">pinMode(ledPin, OUTPUT);</span></div>
<div style="position:absolute;left:287.97px;top:578.13px" class="cls_011"><span class="cls_011">are using the built-in LED attached to pin 13.</span></div>
<div style="position:absolute;left:42.21px;top:595.45px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:299.96px;top:597.11px" class="cls_011"><span class="cls_011">You will notice that we did not just write:</span></div>
<div style="position:absolute;left:42.21px;top:621.43px" class="cls_031"><span class="cls_031">void loop()</span></div>
<div style="position:absolute;left:293.96px;top:622.59px" class="cls_031"><span class="cls_031">led pin = 13</span></div>
<div style="position:absolute;left:42.21px;top:634.42px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:54.07px;top:647.40px" class="cls_031"><span class="cls_031">digitalWrite(ledPin, HIGH);</span></div>
<div style="position:absolute;left:299.96px;top:648.57px" class="cls_011"><span class="cls_011">That is because compilers are kind of fussy and</span></div>
<div style="position:absolute;left:60.19px;top:660.39px" class="cls_031"><span class="cls_031">// set the LED on</span></div>
<div style="position:absolute;left:287.97px;top:663.55px" class="cls_011"><span class="cls_011">precise about how we write our programs. Any</span></div>
<div style="position:absolute;left:54.07px;top:673.38px" class="cls_031"><span class="cls_031">delay(1000);</span></div>
<div style="position:absolute;left:287.97px;top:678.54px" class="cls_011"><span class="cls_011">name we use in a program cannot use spaces, so it</span></div>
<div style="position:absolute;left:60.19px;top:686.36px" class="cls_031"><span class="cls_031">// wait for a second</span></div>
<div style="position:absolute;left:287.97px;top:693.52px" class="cls_011"><span class="cls_011">is a convention to use what is called “bumpy case.”</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:29640px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background039.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">22</span></div>
<div style="position:absolute;left:77.13px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:36.12px;top:69.16px" class="cls_011"><span class="cls_011">So, we start each word (apart from the first) with</span></div>
<div style="position:absolute;left:299.86px;top:69.16px" class="cls_011"><span class="cls_011">The next lines of the sketch are</span></div>
<div style="position:absolute;left:36.12px;top:84.15px" class="cls_011"><span class="cls_011">an uppercase letter and remove the space; that</span></div>
<div style="position:absolute;left:293.87px;top:94.64px" class="cls_031"><span class="cls_031">void setup()</span></div>
<div style="position:absolute;left:36.12px;top:99.13px" class="cls_011"><span class="cls_011">gives us:</span></div>
<div style="position:absolute;left:311.85px;top:107.62px" class="cls_031"><span class="cls_031">// run once, when the sketch starts</span></div>
<div style="position:absolute;left:293.87px;top:120.61px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:42.11px;top:124.61px" class="cls_031"><span class="cls_031">ledPin = 13</span></div>
<div style="position:absolute;left:305.73px;top:133.60px" class="cls_031"><span class="cls_031">pinMode(ledPin, OUTPUT);</span></div>
<div style="position:absolute;left:311.85px;top:146.58px" class="cls_031"><span class="cls_031">// sets the digital pin as output</span></div>
<div style="position:absolute;left:48.11px;top:150.58px" class="cls_011"><span class="cls_011">The word ledPin is what is termed a variable.</span></div>
<div style="position:absolute;left:293.87px;top:159.57px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:36.12px;top:165.57px" class="cls_011"><span class="cls_011">When you want to use a variable for the first time</span></div>
<div style="position:absolute;left:36.12px;top:180.55px" class="cls_011"><span class="cls_011">in a sketch, you have to tell the compiler what type</span></div>
<div style="position:absolute;left:299.86px;top:188.54px" class="cls_011"><span class="cls_011">This is what is called a function, and in this</span></div>
<div style="position:absolute;left:36.12px;top:195.54px" class="cls_011"><span class="cls_011">of variable it is. It may be an int, as is the case</span></div>
<div style="position:absolute;left:287.87px;top:203.53px" class="cls_011"><span class="cls_011">case, the function is called setup. Every sketch</span></div>
<div style="position:absolute;left:36.12px;top:210.52px" class="cls_011"><span class="cls_011">here, or a float, or a number of other types that we</span></div>
<div style="position:absolute;left:287.87px;top:218.51px" class="cls_011"><span class="cls_011">must contain a setup function, and the lines of</span></div>
<div style="position:absolute;left:36.12px;top:225.51px" class="cls_011"><span class="cls_011">will describe later in this chapter.</span></div>
<div style="position:absolute;left:287.87px;top:233.50px" class="cls_011"><span class="cls_011">code inside the function surrounded by curly</span></div>
<div style="position:absolute;left:48.11px;top:244.49px" class="cls_011"><span class="cls_011">An int is an integer—that is, a whole number—</span></div>
<div style="position:absolute;left:287.87px;top:248.48px" class="cls_011"><span class="cls_011">brackets will be carried out in the order that they</span></div>
<div style="position:absolute;left:36.12px;top:259.47px" class="cls_011"><span class="cls_011">which is just what we need when referring to a</span></div>
<div style="position:absolute;left:287.87px;top:263.47px" class="cls_011"><span class="cls_011">are written. In this case, that is just the line starting</span></div>
<div style="position:absolute;left:36.12px;top:274.46px" class="cls_011"><span class="cls_011">particular pin on the Arduino. There is, after all, no</span></div>
<div style="position:absolute;left:287.87px;top:278.45px" class="cls_011"><span class="cls_011">with pinMode.</span></div>
<div style="position:absolute;left:36.12px;top:289.44px" class="cls_011"><span class="cls_011">pin 12.5, so it would not be appropriate to use a</span></div>
<div style="position:absolute;left:299.86px;top:297.44px" class="cls_011"><span class="cls_011">A good starting point for any new project is to</span></div>
<div style="position:absolute;left:36.12px;top:304.43px" class="cls_011"><span class="cls_011">floating point number (float).</span></div>
<div style="position:absolute;left:287.87px;top:312.42px" class="cls_011"><span class="cls_011">copy this example project and then alter it to your</span></div>
<div style="position:absolute;left:48.11px;top:323.41px" class="cls_011"><span class="cls_011">The syntax for a variable declaration is</span></div>
<div style="position:absolute;left:287.87px;top:327.41px" class="cls_011"><span class="cls_011">needs.</span></div>
<div style="position:absolute;left:42.11px;top:348.89px" class="cls_031"><span class="cls_031">type variableName = value;</span></div>
<div style="position:absolute;left:299.86px;top:346.39px" class="cls_011"><span class="cls_011">We will not worry too much about functions at</span></div>
<div style="position:absolute;left:287.87px;top:361.37px" class="cls_011"><span class="cls_011">this stage, other than to say that the setup function</span></div>
<div style="position:absolute;left:48.11px;top:374.86px" class="cls_011"><span class="cls_011">So first we have the type (int), then a space,</span></div>
<div style="position:absolute;left:287.87px;top:376.36px" class="cls_011"><span class="cls_011">will be run every time the Arduino is reset,</span></div>
<div style="position:absolute;left:36.12px;top:389.85px" class="cls_011"><span class="cls_011">then a variable name in bumpy case (ledPin), then</span></div>
<div style="position:absolute;left:287.87px;top:391.34px" class="cls_011"><span class="cls_011">including when the power is first turned on. It will</span></div>
<div style="position:absolute;left:36.12px;top:404.83px" class="cls_011"><span class="cls_011">an equal sign, then a value, and finally a semicolon</span></div>
<div style="position:absolute;left:287.87px;top:406.33px" class="cls_011"><span class="cls_011">also be run every time a new sketch is</span></div>
<div style="position:absolute;left:36.12px;top:419.82px" class="cls_011"><span class="cls_011">to indicate the end of the line:</span></div>
<div style="position:absolute;left:287.87px;top:421.31px" class="cls_011"><span class="cls_011">downloaded.</span></div>
<div style="position:absolute;left:299.86px;top:440.30px" class="cls_011"><span class="cls_011">In this case, the only line of code in setup is</span></div>
<div style="position:absolute;left:42.11px;top:445.29px" class="cls_031"><span class="cls_031">int ledPin = 13;</span></div>
<div style="position:absolute;left:293.87px;top:465.77px" class="cls_031"><span class="cls_031">pinMode(ledPin, OUTPUT);</span></div>
<div style="position:absolute;left:48.11px;top:471.27px" class="cls_011"><span class="cls_011">As I mentioned, the compiler is fussy, so if you</span></div>
<div style="position:absolute;left:311.85px;top:478.76px" class="cls_031"><span class="cls_031">// sets the digital pin as output</span></div>
<div style="position:absolute;left:36.12px;top:486.25px" class="cls_011"><span class="cls_011">forget the semicolon, you will receive an error</span></div>
<div style="position:absolute;left:36.12px;top:501.24px" class="cls_011"><span class="cls_011">message when you compile the sketch. Try</span></div>
<div style="position:absolute;left:299.86px;top:504.74px" class="cls_011"><span class="cls_011">The first thing to mention is that we have a</span></div>
<div style="position:absolute;left:36.12px;top:516.22px" class="cls_011"><span class="cls_011">removing the semicolon and clicking the Play</span></div>
<div style="position:absolute;left:287.87px;top:519.72px" class="cls_011"><span class="cls_011">different type of comment on the end of this line.</span></div>
<div style="position:absolute;left:36.12px;top:531.21px" class="cls_011"><span class="cls_011">button. You should see a message like this:</span></div>
<div style="position:absolute;left:287.87px;top:534.71px" class="cls_011"><span class="cls_011">That is, the single-line comment. This begins with</span></div>
<div style="position:absolute;left:287.87px;top:549.69px" class="cls_011"><span class="cls_011">a // and ends at the end of the line.</span></div>
<div style="position:absolute;left:42.11px;top:556.69px" class="cls_031"><span class="cls_031">error: expected unqualified-id before</span></div>
<div style="position:absolute;left:60.09px;top:569.67px" class="cls_031"><span class="cls_031">numeric constant</span></div>
<div style="position:absolute;left:299.86px;top:568.67px" class="cls_011"><span class="cls_011">The line can be thought of as a command to the</span></div>
<div style="position:absolute;left:287.87px;top:583.66px" class="cls_011"><span class="cls_011">Arduino to use the ledPin as a digital output. If we</span></div>
<div style="position:absolute;left:48.11px;top:595.65px" class="cls_011"><span class="cls_011">It’s not exactly “you forgot a semicolon,” and it</span></div>
<div style="position:absolute;left:287.87px;top:598.64px" class="cls_011"><span class="cls_011">had a switch connected to ledPin, we could set it</span></div>
<div style="position:absolute;left:36.12px;top:610.63px" class="cls_011"><span class="cls_011">is not uncommon for error messages to be</span></div>
<div style="position:absolute;left:287.87px;top:613.63px" class="cls_011"><span class="cls_011">as an input using:</span></div>
<div style="position:absolute;left:36.12px;top:625.62px" class="cls_011"><span class="cls_011">similarly misleading.</span></div>
<div style="position:absolute;left:293.87px;top:639.11px" class="cls_031"><span class="cls_031">pinMode(ledPin, INPUT);</span></div>
<div style="position:absolute;left:299.86px;top:665.08px" class="cls_011"><span class="cls_011">However, we would call the variable something</span></div>
<div style="position:absolute;left:287.87px;top:680.06px" class="cls_011"><span class="cls_011">more appropriate, like switchPin.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:30420px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background040.jpg" width=552 height=770></div>
<div style="position:absolute;left:302.32px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 2</span></div>
<div style="position:absolute;left:365.66px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    A Tour of Arduino</span></div>
<div style="position:absolute;left:503.32px;top:34.50px" class="cls_017"><span class="cls_017">23</span></div>
<div style="position:absolute;left:48.20px;top:69.16px" class="cls_011"><span class="cls_011">The words INPUT and OUTPUT are what are</span></div>
<div style="position:absolute;left:287.97px;top:69.15px" class="cls_011"><span class="cls_011">of digitalWrite, it is said to take two parameters:</span></div>
<div style="position:absolute;left:36.21px;top:84.15px" class="cls_011"><span class="cls_011">called constants. They will actually be defined</span></div>
<div style="position:absolute;left:287.97px;top:84.14px" class="cls_011"><span class="cls_011">the Arduino pin to write to and the value to write.</span></div>
<div style="position:absolute;left:36.21px;top:99.13px" class="cls_011"><span class="cls_011">within C to be a number. INPUT may be defined</span></div>
<div style="position:absolute;left:299.96px;top:103.12px" class="cls_011"><span class="cls_011">In our example, we pass the parameters of</span></div>
<div style="position:absolute;left:36.21px;top:114.12px" class="cls_011"><span class="cls_011">as 0 and OUPUT as 1, but you never need to</span></div>
<div style="position:absolute;left:287.97px;top:118.11px" class="cls_011"><span class="cls_011">ledPin and HIGH to turn the LED on and then</span></div>
<div style="position:absolute;left:36.21px;top:129.10px" class="cls_011"><span class="cls_011">actually see what number is used, as you always</span></div>
<div style="position:absolute;left:287.97px;top:133.09px" class="cls_011"><span class="cls_011">ledPin and LOW to turn it off again.</span></div>
<div style="position:absolute;left:36.21px;top:144.09px" class="cls_011"><span class="cls_011">refer to them as INPUT or OUTPUT. Later in this</span></div>
<div style="position:absolute;left:36.21px;top:159.07px" class="cls_011"><span class="cls_011">chapter, we will see two more constants, HIGH</span></div>
<div style="position:absolute;left:287.97px;top:166.07px" class="cls_005"><span class="cls_005">Variables and Data Types</span></div>
<div style="position:absolute;left:36.21px;top:174.06px" class="cls_011"><span class="cls_011">and LOW, that are used when setting the output of</span></div>
<div style="position:absolute;left:36.21px;top:189.04px" class="cls_011"><span class="cls_011">a digital pin to +5V or 0V, respectively.</span></div>
<div style="position:absolute;left:287.97px;top:189.54px" class="cls_011"><span class="cls_011">We have already met the variable ledPin and</span></div>
<div style="position:absolute;left:287.97px;top:204.53px" class="cls_011"><span class="cls_011">declared it to be of type int. Most of the variables</span></div>
<div style="position:absolute;left:48.20px;top:208.02px" class="cls_011"><span class="cls_011">The next section of code is another function that</span></div>
<div style="position:absolute;left:287.97px;top:219.51px" class="cls_011"><span class="cls_011">that you use in your sketches are also likely to be</span></div>
<div style="position:absolute;left:36.21px;top:223.01px" class="cls_011"><span class="cls_011">every Arduino sketch must have; it is called loop:</span></div>
<div style="position:absolute;left:287.97px;top:234.50px" class="cls_011"><span class="cls_011">ints. An int holds an integer number between</span></div>
<div style="position:absolute;left:42.21px;top:248.49px" class="cls_031"><span class="cls_031">void loop()</span></div>
<div style="position:absolute;left:287.97px;top:249.48px" class="cls_011"><span class="cls_011">-32,768 and +32,767. This uses just two bytes of</span></div>
<div style="position:absolute;left:42.21px;top:261.47px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:287.97px;top:264.47px" class="cls_011"><span class="cls_011">data for each number stored from the 1024</span></div>
<div style="position:absolute;left:54.07px;top:274.46px" class="cls_031"><span class="cls_031">digitalWrite(ledPin, HIGH);</span></div>
<div style="position:absolute;left:287.97px;top:279.45px" class="cls_011"><span class="cls_011">available bytes of storage on an Arduino. If that</span></div>
<div style="position:absolute;left:60.19px;top:287.45px" class="cls_031"><span class="cls_031">// sets the LED on</span></div>
<div style="position:absolute;left:287.97px;top:294.44px" class="cls_011"><span class="cls_011">range is not enough, you can use a long, which</span></div>
<div style="position:absolute;left:54.07px;top:300.43px" class="cls_031"><span class="cls_031">delay(1000);</span></div>
<div style="position:absolute;left:60.19px;top:313.42px" class="cls_031"><span class="cls_031">// waits for a second</span></div>
<div style="position:absolute;left:287.97px;top:309.42px" class="cls_011"><span class="cls_011">uses four bytes for each number and will give you</span></div>
<div style="position:absolute;left:54.07px;top:326.41px" class="cls_031"><span class="cls_031">digitalWrite(ledPin, LOW);</span></div>
<div style="position:absolute;left:287.97px;top:324.41px" class="cls_011"><span class="cls_011">a range of numbers from -2,147,483,648 to</span></div>
<div style="position:absolute;left:60.19px;top:339.39px" class="cls_031"><span class="cls_031">// sets the LED off</span></div>
<div style="position:absolute;left:287.97px;top:339.39px" class="cls_011"><span class="cls_011">+2,147,483,647.</span></div>
<div style="position:absolute;left:54.07px;top:352.38px" class="cls_031"><span class="cls_031">delay(1000);</span></div>
<div style="position:absolute;left:299.96px;top:358.38px" class="cls_011"><span class="cls_011">Most of the time, an int represents a good</span></div>
<div style="position:absolute;left:60.19px;top:365.37px" class="cls_031"><span class="cls_031">// waits for a second</span></div>
<div style="position:absolute;left:287.97px;top:373.36px" class="cls_011"><span class="cls_011">compromise between precision and use of memory.</span></div>
<div style="position:absolute;left:42.21px;top:378.36px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:299.96px;top:392.34px" class="cls_011"><span class="cls_011">If you are new to programming, I would use ints</span></div>
<div style="position:absolute;left:48.20px;top:407.33px" class="cls_011"><span class="cls_011">The function loop will be run continuously until</span></div>
<div style="position:absolute;left:287.97px;top:407.33px" class="cls_011"><span class="cls_011">for almost everything and gradually expand your</span></div>
<div style="position:absolute;left:36.21px;top:422.32px" class="cls_011"><span class="cls_011">the Arduino is powered down. That is, as soon as it</span></div>
<div style="position:absolute;left:287.97px;top:422.31px" class="cls_011"><span class="cls_011">repertoire of data types as your experience grows.</span></div>
<div style="position:absolute;left:36.21px;top:437.30px" class="cls_011"><span class="cls_011">finishes executing the commands it contains, it will</span></div>
<div style="position:absolute;left:299.96px;top:441.29px" class="cls_011"><span class="cls_011">Other data types available to you are</span></div>
<div style="position:absolute;left:36.21px;top:452.29px" class="cls_011"><span class="cls_011">begin again. Remember that an Arduino board is</span></div>
<div style="position:absolute;left:287.97px;top:456.28px" class="cls_011"><span class="cls_011">summarized in Table 2-1.</span></div>
<div style="position:absolute;left:36.21px;top:467.27px" class="cls_011"><span class="cls_011">capable of running 16 million commands per</span></div>
<div style="position:absolute;left:299.96px;top:475.26px" class="cls_011"><span class="cls_011">One thing to consider is that if data types</span></div>
<div style="position:absolute;left:36.21px;top:482.26px" class="cls_011"><span class="cls_011">second, so things inside the loop will happen</span></div>
<div style="position:absolute;left:287.97px;top:490.25px" class="cls_011"><span class="cls_011">exceed their range, strange things happen. So if</span></div>
<div style="position:absolute;left:36.21px;top:497.24px" class="cls_011"><span class="cls_011">frequently if you let them.</span></div>
<div style="position:absolute;left:287.97px;top:505.23px" class="cls_011"><span class="cls_011">you have a byte variable with 255 in it and you</span></div>
<div style="position:absolute;left:48.20px;top:516.22px" class="cls_011"><span class="cls_011">In this case, what we want the Arduino to keep</span></div>
<div style="position:absolute;left:287.97px;top:520.22px" class="cls_011"><span class="cls_011">add 1 to it, you get 0. More alarmingly, if you have</span></div>
<div style="position:absolute;left:36.21px;top:531.21px" class="cls_011"><span class="cls_011">doing continuously is to turn the LED on, wait a</span></div>
<div style="position:absolute;left:287.97px;top:535.20px" class="cls_011"><span class="cls_011">an int variable with 32,767 and you add 1 to it, you</span></div>
<div style="position:absolute;left:36.21px;top:546.19px" class="cls_011"><span class="cls_011">second, turn the LED off, and then wait another</span></div>
<div style="position:absolute;left:287.97px;top:550.19px" class="cls_011"><span class="cls_011">will end up with -32,768.</span></div>
<div style="position:absolute;left:36.21px;top:561.18px" class="cls_011"><span class="cls_011">second. When it has finished doing this, it will</span></div>
<div style="position:absolute;left:299.96px;top:569.17px" class="cls_011"><span class="cls_011">Until you are completely happy with these</span></div>
<div style="position:absolute;left:36.21px;top:576.16px" class="cls_011"><span class="cls_011">begin again, turning the LED on. In this way it will</span></div>
<div style="position:absolute;left:287.97px;top:584.15px" class="cls_011"><span class="cls_011">different data types, I would recommend sticking</span></div>
<div style="position:absolute;left:36.21px;top:591.15px" class="cls_011"><span class="cls_011">go round the loop forever.</span></div>
<div style="position:absolute;left:287.97px;top:599.14px" class="cls_011"><span class="cls_011">to int, as it works for practically everything.</span></div>
<div style="position:absolute;left:48.20px;top:610.13px" class="cls_011"><span class="cls_011">By now, the command syntax for digitalWrite</span></div>
<div style="position:absolute;left:36.21px;top:625.11px" class="cls_011"><span class="cls_011">and delay will be becoming more familiar.</span></div>
<div style="position:absolute;left:287.97px;top:632.11px" class="cls_005"><span class="cls_005">Arithmetic</span></div>
<div style="position:absolute;left:36.21px;top:640.10px" class="cls_011"><span class="cls_011">Although we can think of them as commands that</span></div>
<div style="position:absolute;left:36.21px;top:655.09px" class="cls_011"><span class="cls_011">are sent to the Arduino board, they are actually</span></div>
<div style="position:absolute;left:287.97px;top:655.59px" class="cls_011"><span class="cls_011">It is fairly uncommon to need to do much in the</span></div>
<div style="position:absolute;left:36.21px;top:670.07px" class="cls_011"><span class="cls_011">functions just like setup and loop, but in this case</span></div>
<div style="position:absolute;left:287.97px;top:670.57px" class="cls_011"><span class="cls_011">way of arithmetic in a sketch. Occasionally, you</span></div>
<div style="position:absolute;left:36.21px;top:685.06px" class="cls_011"><span class="cls_011">they have what are called parameters. In the case</span></div>
<div style="position:absolute;left:287.97px;top:685.56px" class="cls_011"><span class="cls_011">will need to do a bit of scaling of, say, an analog</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:31200px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background041.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">24</span></div>
<div style="position:absolute;left:77.79px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:43.11px;top:76.46px" class="cls_032"><span class="cls_032">TABLE 2-1</span></div>
<div style="position:absolute;left:101.92px;top:76.46px" class="cls_026"><span class="cls_026">Data Types in C</span></div>
<div style="position:absolute;left:43.11px;top:100.24px" class="cls_029"><span class="cls_029">Type</span></div>
<div style="position:absolute;left:115.76px;top:100.24px" class="cls_029"><span class="cls_029">Memory (bytes)</span></div>
<div style="position:absolute;left:222.94px;top:100.24px" class="cls_029"><span class="cls_029">Range</span></div>
<div style="position:absolute;left:342.83px;top:100.24px" class="cls_029"><span class="cls_029">Notes</span></div>
<div style="position:absolute;left:43.11px;top:120.22px" class="cls_026"><span class="cls_026">boolean</span></div>
<div style="position:absolute;left:150.20px;top:120.22px" class="cls_026"><span class="cls_026">1</span></div>
<div style="position:absolute;left:222.94px;top:120.22px" class="cls_026"><span class="cls_026">true or false (0 or 1)</span></div>
<div style="position:absolute;left:43.11px;top:137.20px" class="cls_026"><span class="cls_026">char</span></div>
<div style="position:absolute;left:150.20px;top:137.20px" class="cls_026"><span class="cls_026">1</span></div>
<div style="position:absolute;left:222.94px;top:137.20px" class="cls_026"><span class="cls_026">-128 to +128</span></div>
<div style="position:absolute;left:342.83px;top:137.20px" class="cls_026"><span class="cls_026">Used to represent an ASCII</span></div>
<div style="position:absolute;left:342.82px;top:150.19px" class="cls_026"><span class="cls_026">character code (e.g., A is</span></div>
<div style="position:absolute;left:342.82px;top:163.18px" class="cls_026"><span class="cls_026">represented as 65). Its negative</span></div>
<div style="position:absolute;left:342.82px;top:176.17px" class="cls_026"><span class="cls_026">numbers are not normally used.</span></div>
<div style="position:absolute;left:43.11px;top:193.15px" class="cls_026"><span class="cls_026">byte</span></div>
<div style="position:absolute;left:150.20px;top:193.15px" class="cls_026"><span class="cls_026">1</span></div>
<div style="position:absolute;left:222.94px;top:193.15px" class="cls_026"><span class="cls_026">0 to 255</span></div>
<div style="position:absolute;left:43.11px;top:210.13px" class="cls_026"><span class="cls_026">int</span></div>
<div style="position:absolute;left:149.11px;top:210.13px" class="cls_026"><span class="cls_026">2</span></div>
<div style="position:absolute;left:222.94px;top:210.13px" class="cls_026"><span class="cls_026">-32,768 to +32,767</span></div>
<div style="position:absolute;left:43.11px;top:227.12px" class="cls_026"><span class="cls_026">unsigned int</span></div>
<div style="position:absolute;left:149.12px;top:227.12px" class="cls_026"><span class="cls_026">2</span></div>
<div style="position:absolute;left:222.94px;top:227.12px" class="cls_026"><span class="cls_026">0 to 65,536</span></div>
<div style="position:absolute;left:342.88px;top:227.12px" class="cls_026"><span class="cls_026">Can be used for extra precision</span></div>
<div style="position:absolute;left:342.82px;top:240.11px" class="cls_026"><span class="cls_026">where negative numbers are not</span></div>
<div style="position:absolute;left:342.82px;top:253.09px" class="cls_026"><span class="cls_026">needed. Use with caution, as</span></div>
<div style="position:absolute;left:342.82px;top:266.08px" class="cls_026"><span class="cls_026">arithmetic with ints may cause</span></div>
<div style="position:absolute;left:342.82px;top:279.07px" class="cls_026"><span class="cls_026">unexpected results.</span></div>
<div style="position:absolute;left:43.11px;top:296.05px" class="cls_026"><span class="cls_026">long</span></div>
<div style="position:absolute;left:148.79px;top:296.05px" class="cls_026"><span class="cls_026">4</span></div>
<div style="position:absolute;left:222.94px;top:296.05px" class="cls_026"><span class="cls_026">-2,147,483,648 to</span></div>
<div style="position:absolute;left:342.83px;top:296.05px" class="cls_026"><span class="cls_026">Needed only for representing very</span></div>
<div style="position:absolute;left:222.93px;top:309.04px" class="cls_026"><span class="cls_026">2,147,483,647</span></div>
<div style="position:absolute;left:342.83px;top:309.04px" class="cls_026"><span class="cls_026">large numbers.</span></div>
<div style="position:absolute;left:43.11px;top:326.02px" class="cls_026"><span class="cls_026">unsigned long</span></div>
<div style="position:absolute;left:148.80px;top:326.02px" class="cls_026"><span class="cls_026">4</span></div>
<div style="position:absolute;left:222.94px;top:326.02px" class="cls_026"><span class="cls_026">0 to 4,294,967,295</span></div>
<div style="position:absolute;left:342.88px;top:326.02px" class="cls_026"><span class="cls_026">See unsigned int.</span></div>
<div style="position:absolute;left:43.11px;top:343.01px" class="cls_026"><span class="cls_026">float</span></div>
<div style="position:absolute;left:148.80px;top:343.01px" class="cls_026"><span class="cls_026">4</span></div>
<div style="position:absolute;left:222.95px;top:343.01px" class="cls_026"><span class="cls_026">-3.4028235E+38 to</span></div>
<div style="position:absolute;left:222.93px;top:355.99px" class="cls_026"><span class="cls_026">+ 3.4028235E+38</span></div>
<div style="position:absolute;left:43.11px;top:372.98px" class="cls_026"><span class="cls_026">double</span></div>
<div style="position:absolute;left:148.77px;top:372.98px" class="cls_026"><span class="cls_026">4</span></div>
<div style="position:absolute;left:222.92px;top:372.98px" class="cls_026"><span class="cls_026">as float</span></div>
<div style="position:absolute;left:342.84px;top:372.98px" class="cls_026"><span class="cls_026">Normally, this would be eight bytes</span></div>
<div style="position:absolute;left:342.82px;top:385.96px" class="cls_026"><span class="cls_026">and higher precision than float with</span></div>
<div style="position:absolute;left:342.82px;top:398.95px" class="cls_026"><span class="cls_026">a greater range. However, on</span></div>
<div style="position:absolute;left:342.82px;top:411.94px" class="cls_026"><span class="cls_026">Arduino, it is the same as float.</span></div>
<div style="position:absolute;left:36.12px;top:442.06px" class="cls_011"><span class="cls_011">input to turn it into a temperature, or more</span></div>
<div style="position:absolute;left:287.87px;top:442.06px" class="cls_011"><span class="cls_011">might want to use Strings: when writing messages</span></div>
<div style="position:absolute;left:36.12px;top:457.05px" class="cls_011"><span class="cls_011">typically, add 1 to a counter variable.</span></div>
<div style="position:absolute;left:287.87px;top:457.05px" class="cls_011"><span class="cls_011">to an LCD display or sending back serial text data</span></div>
<div style="position:absolute;left:287.87px;top:472.03px" class="cls_011"><span class="cls_011">over the USB connection.</span></div>
<div style="position:absolute;left:48.11px;top:476.03px" class="cls_011"><span class="cls_011">When you are performing some calculation, you</span></div>
<div style="position:absolute;left:36.12px;top:491.01px" class="cls_011"><span class="cls_011">need to be able to assign the result of the</span></div>
<div style="position:absolute;left:299.86px;top:491.01px" class="cls_011"><span class="cls_011">Strings are created using the following syntax:</span></div>
<div style="position:absolute;left:36.12px;top:506.00px" class="cls_011"><span class="cls_011">calculation to a variable.</span></div>
<div style="position:absolute;left:293.87px;top:516.49px" class="cls_031"><span class="cls_031">char* message = "Hello World";</span></div>
<div style="position:absolute;left:48.11px;top:524.98px" class="cls_011"><span class="cls_011">The following lines of code contain two</span></div>
<div style="position:absolute;left:36.12px;top:539.97px" class="cls_011"><span class="cls_011">assignments. The first gives the variable y the</span></div>
<div style="position:absolute;left:299.86px;top:542.46px" class="cls_011"><span class="cls_011">The char* word indicates that the variable</span></div>
<div style="position:absolute;left:36.12px;top:554.95px" class="cls_011"><span class="cls_011">value 50 and the second gives the variable x the</span></div>
<div style="position:absolute;left:287.87px;top:557.45px" class="cls_011"><span class="cls_011">message is a pointer to a character. For now, we do</span></div>
<div style="position:absolute;left:36.12px;top:569.94px" class="cls_011"><span class="cls_011">value of y + 100.</span></div>
<div style="position:absolute;left:287.87px;top:572.43px" class="cls_011"><span class="cls_011">not need to worry too much about how this works.</span></div>
<div style="position:absolute;left:287.87px;top:587.42px" class="cls_011"><span class="cls_011">We will meet this later in the book when we look</span></div>
<div style="position:absolute;left:42.11px;top:595.41px" class="cls_031"><span class="cls_031">y = 50;</span></div>
<div style="position:absolute;left:287.87px;top:602.40px" class="cls_011"><span class="cls_011">at interfacing with textual LCD displays.</span></div>
<div style="position:absolute;left:42.11px;top:608.40px" class="cls_031"><span class="cls_031">x = y + 100;</span></div>
<div style="position:absolute;left:36.12px;top:635.37px" class="cls_005"><span class="cls_005">Strings</span></div>
<div style="position:absolute;left:287.87px;top:635.37px" class="cls_005"><span class="cls_005">Conditional Statements</span></div>
<div style="position:absolute;left:36.12px;top:658.85px" class="cls_011"><span class="cls_011">When programmers talk of Strings, they are</span></div>
<div style="position:absolute;left:299.86px;top:658.85px" class="cls_011"><span class="cls_011">Conditional statements are a means of making</span></div>
<div style="position:absolute;left:36.12px;top:673.84px" class="cls_011"><span class="cls_011">referring to a string of characters such as the</span></div>
<div style="position:absolute;left:287.87px;top:673.84px" class="cls_011"><span class="cls_011">decisions in a sketch. For instance, your sketch</span></div>
<div style="position:absolute;left:36.12px;top:688.82px" class="cls_011"><span class="cls_011">much-used message “Hello World.” In the world of</span></div>
<div style="position:absolute;left:287.87px;top:688.82px" class="cls_011"><span class="cls_011">may turn the LED on if the value of a temperature</span></div>
<div style="position:absolute;left:36.12px;top:703.81px" class="cls_011"><span class="cls_011">Arduino, there are a couple of situations where you</span></div>
<div style="position:absolute;left:287.87px;top:703.81px" class="cls_011"><span class="cls_011">variable falls below a certain threshold.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:31980px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background042.jpg" width=552 height=770></div>
<div style="position:absolute;left:302.23px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 2</span></div>
<div style="position:absolute;left:365.57px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    A Tour of Arduino</span></div>
<div style="position:absolute;left:503.23px;top:34.50px" class="cls_017"><span class="cls_017">25</span></div>
<div style="position:absolute;left:48.20px;top:69.16px" class="cls_011"><span class="cls_011">The code for this is shown here:</span></div>
<div style="position:absolute;left:299.96px;top:69.16px" class="cls_011"><span class="cls_011">Often, when using an if statement, you want to</span></div>
<div style="position:absolute;left:287.97px;top:84.15px" class="cls_011"><span class="cls_011">do one thing if the condition is true and a different</span></div>
<div style="position:absolute;left:42.21px;top:94.64px" class="cls_031"><span class="cls_031">if (temperature &lt; 15)</span></div>
<div style="position:absolute;left:287.97px;top:99.13px" class="cls_011"><span class="cls_011">thing if it is false. You can do this by using the else</span></div>
<div style="position:absolute;left:42.21px;top:107.62px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:287.97px;top:114.12px" class="cls_011"><span class="cls_011">keyword, as shown in the following example. Note</span></div>
<div style="position:absolute;left:54.07px;top:120.61px" class="cls_031"><span class="cls_031">digitalWrite(ledPort, HIGH);</span></div>
<div style="position:absolute;left:42.21px;top:133.60px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:287.97px;top:129.10px" class="cls_011"><span class="cls_011">the use of nested parentheses to make it clear what</span></div>
<div style="position:absolute;left:287.97px;top:144.09px" class="cls_011"><span class="cls_011">is being or’d with what.</span></div>
<div style="position:absolute;left:48.20px;top:162.57px" class="cls_011"><span class="cls_011">The line or lines of code inside the curly braces</span></div>
<div style="position:absolute;left:293.96px;top:169.56px" class="cls_031"><span class="cls_031">if ((temperature &lt; 15) || (temperature</span></div>
<div style="position:absolute;left:36.21px;top:177.55px" class="cls_011"><span class="cls_011">will only be executed if the condition after the if</span></div>
<div style="position:absolute;left:311.94px;top:182.55px" class="cls_031"><span class="cls_031">> 20))</span></div>
<div style="position:absolute;left:36.21px;top:192.54px" class="cls_011"><span class="cls_011">keyword is true.</span></div>
<div style="position:absolute;left:293.96px;top:195.54px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:305.83px;top:208.52px" class="cls_031"><span class="cls_031">digitalWrite(ledPort, HIGH);</span></div>
<div style="position:absolute;left:48.20px;top:211.52px" class="cls_011"><span class="cls_011">The condition has to be contained in</span></div>
<div style="position:absolute;left:293.96px;top:221.51px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:36.21px;top:226.51px" class="cls_011"><span class="cls_011">parentheses, and is what programmers call a</span></div>
<div style="position:absolute;left:293.96px;top:234.50px" class="cls_031"><span class="cls_031">else</span></div>
<div style="position:absolute;left:36.21px;top:241.49px" class="cls_011"><span class="cls_011">logical expression. A logical expression is like a</span></div>
<div style="position:absolute;left:293.96px;top:247.49px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:36.21px;top:256.48px" class="cls_011"><span class="cls_011">mathematical sentence that must always return one</span></div>
<div style="position:absolute;left:305.83px;top:260.47px" class="cls_031"><span class="cls_031">digitalWrite(ledPort, LOW);</span></div>
<div style="position:absolute;left:36.21px;top:271.46px" class="cls_011"><span class="cls_011">of two possible values: true or false.</span></div>
<div style="position:absolute;left:293.96px;top:273.46px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:48.20px;top:290.44px" class="cls_011"><span class="cls_011">The following expression will return true if the</span></div>
<div style="position:absolute;left:36.21px;top:305.43px" class="cls_011"><span class="cls_011">value in the temperature variable is less than 15:</span></div>
<div style="position:absolute;left:287.97px;top:307.93px" class="cls_021"><span class="cls_021">Summary</span></div>
<div style="position:absolute;left:42.21px;top:330.91px" class="cls_031"><span class="cls_031">(temperature &lt; 15)</span></div>
<div style="position:absolute;left:287.97px;top:334.40px" class="cls_011"><span class="cls_011">In this chapter, we have explored the hardware</span></div>
<div style="position:absolute;left:287.97px;top:349.39px" class="cls_011"><span class="cls_011">provided by the Arduino and refreshed our</span></div>
<div style="position:absolute;left:48.20px;top:356.88px" class="cls_011"><span class="cls_011">As well as &lt;, you have: >, &lt;=,  and >=.</span></div>
<div style="position:absolute;left:287.97px;top:364.37px" class="cls_011"><span class="cls_011">knowledge of a little elementary electronics.</span></div>
<div style="position:absolute;left:48.20px;top:375.86px" class="cls_011"><span class="cls_011">To see if two numbers are equal, you can use ==</span></div>
<div style="position:absolute;left:299.96px;top:383.35px" class="cls_011"><span class="cls_011">We have also started our exploration of the C</span></div>
<div style="position:absolute;left:36.21px;top:390.85px" class="cls_011"><span class="cls_011">and to test if they are not equal, you can use !=.</span></div>
<div style="position:absolute;left:287.97px;top:398.34px" class="cls_011"><span class="cls_011">programming language. Don’t worry if you found</span></div>
<div style="position:absolute;left:48.20px;top:409.83px" class="cls_011"><span class="cls_011">So the following expression would return true if</span></div>
<div style="position:absolute;left:287.97px;top:413.32px" class="cls_011"><span class="cls_011">some of this hard to follow. There is a lot to take in</span></div>
<div style="position:absolute;left:36.21px;top:424.81px" class="cls_011"><span class="cls_011">the temperature variable had a value that was</span></div>
<div style="position:absolute;left:287.97px;top:428.31px" class="cls_011"><span class="cls_011">if you are not familiar with electronics, and while</span></div>
<div style="position:absolute;left:36.21px;top:439.80px" class="cls_011"><span class="cls_011">anything except 15:</span></div>
<div style="position:absolute;left:287.97px;top:443.29px" class="cls_011"><span class="cls_011">the author’s goal is to explain how everything</span></div>
<div style="position:absolute;left:287.97px;top:458.28px" class="cls_011"><span class="cls_011">works, you are completely at liberty to simply start</span></div>
<div style="position:absolute;left:42.21px;top:465.27px" class="cls_031"><span class="cls_031">(temperature != 15)</span></div>
<div style="position:absolute;left:287.97px;top:473.26px" class="cls_011"><span class="cls_011">on the projects first and come back to the theory</span></div>
<div style="position:absolute;left:287.97px;top:488.25px" class="cls_011"><span class="cls_011">when you are ready.</span></div>
<div style="position:absolute;left:48.20px;top:491.25px" class="cls_011"><span class="cls_011">You can also make complex conditions using</span></div>
<div style="position:absolute;left:36.21px;top:506.23px" class="cls_011"><span class="cls_011">what are called logical operators. The principal</span></div>
<div style="position:absolute;left:299.96px;top:507.23px" class="cls_011"><span class="cls_011">In the next chapter we will get to grips with</span></div>
<div style="position:absolute;left:36.21px;top:521.22px" class="cls_011"><span class="cls_011">operators being && (and) and || (or).</span></div>
<div style="position:absolute;left:287.97px;top:522.22px" class="cls_011"><span class="cls_011">programming our Arduino board and embark on</span></div>
<div style="position:absolute;left:287.97px;top:537.20px" class="cls_011"><span class="cls_011">some more serious projects.</span></div>
<div style="position:absolute;left:48.20px;top:540.20px" class="cls_011"><span class="cls_011">So an example that turned the LED on if the</span></div>
<div style="position:absolute;left:36.21px;top:555.19px" class="cls_011"><span class="cls_011">temperature was less than 15 or greater than 20</span></div>
<div style="position:absolute;left:36.21px;top:570.17px" class="cls_011"><span class="cls_011">might look like this:</span></div>
<div style="position:absolute;left:42.21px;top:595.65px" class="cls_031"><span class="cls_031">if ((temperature &lt; 15) || (temperature</span></div>
<div style="position:absolute;left:60.19px;top:608.63px" class="cls_031"><span class="cls_031">> 20))</span></div>
<div style="position:absolute;left:42.21px;top:621.62px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:54.07px;top:634.61px" class="cls_031"><span class="cls_031">digitalWrite(ledPort, HIGH);</span></div>
<div style="position:absolute;left:42.21px;top:647.60px" class="cls_031"><span class="cls_031">}</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:32760px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background043.jpg" width=552 height=770></div>
<div style="position:absolute;left:196.00px;top:374.44px" class="cls_020"><span class="cls_020">This page intentionally left blank</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:33540px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background044.jpg" width=552 height=770></div>
<div style="position:absolute;left:196.50px;top:54.87px" class="cls_024"><span class="cls_024">C H A P T E R</span></div>
<div style="position:absolute;left:344.34px;top:54.87px" class="cls_024"><span class="cls_024">3</span></div>
<div style="position:absolute;left:184.80px;top:103.55px" class="cls_023"><span class="cls_023">LED Projects</span></div>
<div style="position:absolute;left:36.21px;top:223.00px" class="cls_016"><span class="cls_016">I</span><span class="cls_019">N THIS CHAPTER</span><span class="cls_016">,</span><span class="cls_011"> we are going to start building</span></div>
<div style="position:absolute;left:295.97px;top:228.10px" class="cls_028"><span class="cls_028">COMPONENTS AND EQUIPMENT</span></div>
<div style="position:absolute;left:36.21px;top:237.98px" class="cls_011"><span class="cls_011">some LED-based projects. We will keep the</span></div>
<div style="position:absolute;left:314.94px;top:251.48px" class="cls_029"><span class="cls_029">Description</span></div>
<div style="position:absolute;left:455.81px;top:251.48px" class="cls_029"><span class="cls_029">Appendix</span></div>
<div style="position:absolute;left:36.21px;top:252.97px" class="cls_011"><span class="cls_011">hardware fairly simple so that we can concentrate</span></div>
<div style="position:absolute;left:36.21px;top:267.95px" class="cls_011"><span class="cls_011">on the programming of the Arduino.</span></div>
<div style="position:absolute;left:315.94px;top:268.46px" class="cls_026"><span class="cls_026">Arduino Diecimila or</span></div>
<div style="position:absolute;left:315.94px;top:285.45px" class="cls_026"><span class="cls_026">Duemilanove board or clone</span></div>
<div style="position:absolute;left:476.19px;top:285.45px" class="cls_026"><span class="cls_026">1</span></div>
<div style="position:absolute;left:48.20px;top:286.93px" class="cls_011"><span class="cls_011">Programming microcontrollers can be a tricky</span></div>
<div style="position:absolute;left:36.21px;top:301.92px" class="cls_011"><span class="cls_011">business requiring an intimate knowledge of the</span></div>
<div style="position:absolute;left:297.96px;top:302.43px" class="cls_026"><span class="cls_026">D1</span></div>
<div style="position:absolute;left:315.94px;top:302.43px" class="cls_026"><span class="cls_026">5-mm red LED</span></div>
<div style="position:absolute;left:472.34px;top:302.43px" class="cls_026"><span class="cls_026">23</span></div>
<div style="position:absolute;left:36.21px;top:316.90px" class="cls_011"><span class="cls_011">inner workings of the device: fuses, registers, etc.</span></div>
<div style="position:absolute;left:297.96px;top:319.41px" class="cls_026"><span class="cls_026">R1</span></div>
<div style="position:absolute;left:315.94px;top:319.41px" class="cls_026"><span class="cls_026">270</span></div>
<div style="position:absolute;left:345.75px;top:319.41px" class="cls_026"><span class="cls_026">0.5W metal film resistor</span></div>
<div style="position:absolute;left:474.89px;top:319.41px" class="cls_026"><span class="cls_026">6</span></div>
<div style="position:absolute;left:36.21px;top:331.89px" class="cls_011"><span class="cls_011">This is, in part, because modern microcontrollers</span></div>
<div style="position:absolute;left:36.21px;top:346.87px" class="cls_011"><span class="cls_011">are almost infinitely configurable. Arduino</span></div>
<div style="position:absolute;left:297.96px;top:346.39px" class="cls_022"><span class="cls_022">■</span><span class="cls_030">   Almost any commonly available LED and 270</span></div>
<div style="position:absolute;left:36.21px;top:361.86px" class="cls_011"><span class="cls_011">standardizes its hardware configuration, which, in</span></div>
<div style="position:absolute;left:325.46px;top:360.37px" class="cls_030"><span class="cls_030">resistor will be fine.</span></div>
<div style="position:absolute;left:36.21px;top:376.84px" class="cls_011"><span class="cls_011">return for a small loss of flexibility, makes the</span></div>
<div style="position:absolute;left:297.96px;top:378.36px" class="cls_022"><span class="cls_022">■</span><span class="cls_030">   No tools other than a pair of pliers or wire</span></div>
<div style="position:absolute;left:36.21px;top:391.83px" class="cls_011"><span class="cls_011">devices a great deal easier to program.</span></div>
<div style="position:absolute;left:314.94px;top:392.34px" class="cls_030"><span class="cls_030">cutters are required.</span></div>
<div style="position:absolute;left:287.97px;top:427.71px" class="cls_005"><span class="cls_005">Hardware</span></div>
<div style="position:absolute;left:36.21px;top:430.30px" class="cls_027"><span class="cls_027">Project 2</span></div>
<div style="position:absolute;left:287.97px;top:451.18px" class="cls_011"><span class="cls_011">The hardware is exactly the same as Project 1. So,</span></div>
<div style="position:absolute;left:36.21px;top:450.28px" class="cls_021"><span class="cls_021">Morse Code S.O.S. Flasher</span></div>
<div style="position:absolute;left:287.97px;top:466.17px" class="cls_011"><span class="cls_011">you can either just plug the resistor and LED</span></div>
<div style="position:absolute;left:36.21px;top:476.75px" class="cls_011"><span class="cls_011">Morse code used to be a vital method of</span></div>
<div style="position:absolute;left:287.97px;top:481.15px" class="cls_011"><span class="cls_011">directly into the Arduino connectors or use a</span></div>
<div style="position:absolute;left:36.21px;top:491.73px" class="cls_011"><span class="cls_011">communication in the 19th and 20th centuries. Its</span></div>
<div style="position:absolute;left:287.97px;top:496.14px" class="cls_011"><span class="cls_011">breadboard (see Chapter 1).</span></div>
<div style="position:absolute;left:36.21px;top:506.72px" class="cls_011"><span class="cls_011">coding of letters as a series of long and short dots</span></div>
<div style="position:absolute;left:36.21px;top:521.70px" class="cls_011"><span class="cls_011">meant that it could be sent over telegraph wires,</span></div>
<div style="position:absolute;left:287.97px;top:529.11px" class="cls_005"><span class="cls_005">Software</span></div>
<div style="position:absolute;left:36.21px;top:536.69px" class="cls_011"><span class="cls_011">over a radio link, and using signaling lights. The</span></div>
<div style="position:absolute;left:36.21px;top:551.67px" class="cls_011"><span class="cls_011">letters S.O.S. (Save Our Souls) is still recognized</span></div>
<div style="position:absolute;left:287.97px;top:552.58px" class="cls_011"><span class="cls_011">Rather than start typing this project in from</span></div>
<div style="position:absolute;left:36.21px;top:566.66px" class="cls_011"><span class="cls_011">as an international signal of distress.</span></div>
<div style="position:absolute;left:287.97px;top:567.57px" class="cls_011"><span class="cls_011">scratch, we will use Project 1 as a starting point.</span></div>
<div style="position:absolute;left:287.97px;top:582.55px" class="cls_011"><span class="cls_011">So if you have not already done so, please</span></div>
<div style="position:absolute;left:48.20px;top:585.64px" class="cls_011"><span class="cls_011">In this project, we will make our LED flash the</span></div>
<div style="position:absolute;left:287.97px;top:597.54px" class="cls_011"><span class="cls_011">complete Project 1.</span></div>
<div style="position:absolute;left:36.21px;top:600.63px" class="cls_011"><span class="cls_011">sequence S.O.S. over and over again.</span></div>
<div style="position:absolute;left:299.96px;top:616.52px" class="cls_011"><span class="cls_011">If you have not already done so, download the</span></div>
<div style="position:absolute;left:48.20px;top:619.61px" class="cls_011"><span class="cls_011">For this project, you will need just the same</span></div>
<div style="position:absolute;left:287.97px;top:631.51px" class="cls_011"><span class="cls_011">project code from </span><A HREF="http://www.arduinoevilgenius.com;/">www.arduinoevilgenius.com;</A> </div>
<div style="position:absolute;left:36.21px;top:634.59px" class="cls_011"><span class="cls_011">components as for Project 1.</span></div>
<div style="position:absolute;left:287.97px;top:646.49px" class="cls_011"><span class="cls_011">then you can also just load the completed sketch</span></div>
<div style="position:absolute;left:287.97px;top:661.48px" class="cls_011"><span class="cls_011">for Project 1 from your Arduino Sketchbook and</span></div>
<div style="position:absolute;left:287.97px;top:676.46px" class="cls_011"><span class="cls_011">download it to the board (see Chapter 1). However,</span></div>
<div style="position:absolute;left:503.34px;top:718.82px" class="cls_017"><span class="cls_017">27</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:34320px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background045.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">28</span></div>
<div style="position:absolute;left:77.20px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:36.12px;top:69.16px" class="cls_011"><span class="cls_011">it will help you understand Arduino better if you</span></div>
<div style="position:absolute;left:305.73px;top:75.12px" class="cls_031"><span class="cls_031">delay(200);</span></div>
<div style="position:absolute;left:36.12px;top:84.15px" class="cls_011"><span class="cls_011">modify the sketch from Project 1 as suggested</span></div>
<div style="position:absolute;left:305.73px;top:88.10px" class="cls_031"><span class="cls_031">digitalWrite(ledPin, HIGH);</span></div>
<div style="position:absolute;left:36.12px;top:99.13px" class="cls_011"><span class="cls_011">next.</span></div>
<div style="position:absolute;left:311.85px;top:101.09px" class="cls_031"><span class="cls_031">// third dot</span></div>
<div style="position:absolute;left:305.73px;top:114.08px" class="cls_031"><span class="cls_031">delay(200);</span></div>
<div style="position:absolute;left:48.11px;top:118.11px" class="cls_011"><span class="cls_011">Modify the loop function of Project 1 so that it</span></div>
<div style="position:absolute;left:305.73px;top:127.06px" class="cls_031"><span class="cls_031">digitalWrite(ledPin, LOW);</span></div>
<div style="position:absolute;left:36.12px;top:133.10px" class="cls_011"><span class="cls_011">now appears as shown here. Note that copy and</span></div>
<div style="position:absolute;left:305.73px;top:140.05px" class="cls_031"><span class="cls_031">delay(1000);</span></div>
<div style="position:absolute;left:36.12px;top:148.08px" class="cls_011"><span class="cls_011">paste is highly recommended in this kind of</span></div>
<div style="position:absolute;left:311.85px;top:153.04px" class="cls_031"><span class="cls_031">// wait 1 second before we start</span></div>
<div style="position:absolute;left:36.12px;top:163.07px" class="cls_011"><span class="cls_011">situation:</span></div>
<div style="position:absolute;left:328.46px;top:166.03px" class="cls_031"><span class="cls_031">again</span></div>
<div style="position:absolute;left:42.11px;top:188.54px" class="cls_031"><span class="cls_031">void loop()</span></div>
<div style="position:absolute;left:293.87px;top:192.00px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:42.11px;top:201.53px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:53.98px;top:214.52px" class="cls_031"><span class="cls_031">digitalWrite(ledPin, HIGH);</span></div>
<div style="position:absolute;left:299.86px;top:220.98px" class="cls_011"><span class="cls_011">This would all work, and feel free to try it;</span></div>
<div style="position:absolute;left:60.09px;top:227.51px" class="cls_031"><span class="cls_031">// S (...) first dot</span></div>
<div style="position:absolute;left:287.87px;top:235.97px" class="cls_011"><span class="cls_011">however, we are not going to leave it there. We are</span></div>
<div style="position:absolute;left:53.98px;top:240.49px" class="cls_031"><span class="cls_031">delay(200);</span></div>
<div style="position:absolute;left:53.98px;top:253.48px" class="cls_031"><span class="cls_031">digitalWrite(ledPin, LOW);</span></div>
<div style="position:absolute;left:287.87px;top:250.95px" class="cls_011"><span class="cls_011">going to alter our sketch to improve it, and at the</span></div>
<div style="position:absolute;left:53.98px;top:266.47px" class="cls_031"><span class="cls_031">delay(200);</span></div>
<div style="position:absolute;left:287.87px;top:265.94px" class="cls_011"><span class="cls_011">same time make it a lot shorter.</span></div>
<div style="position:absolute;left:53.98px;top:279.46px" class="cls_031"><span class="cls_031">digitalWrite(ledPin, HIGH);</span></div>
<div style="position:absolute;left:299.86px;top:284.92px" class="cls_011"><span class="cls_011">We can reduce the size of the sketch by creating</span></div>
<div style="position:absolute;left:60.09px;top:292.44px" class="cls_031"><span class="cls_031">// second dot</span></div>
<div style="position:absolute;left:287.87px;top:299.91px" class="cls_011"><span class="cls_011">our own function to replace the four lines of code</span></div>
<div style="position:absolute;left:53.98px;top:305.43px" class="cls_031"><span class="cls_031">delay(200);</span></div>
<div style="position:absolute;left:53.98px;top:318.42px" class="cls_031"><span class="cls_031">digitalWrite(ledPin, LOW);</span></div>
<div style="position:absolute;left:287.87px;top:314.89px" class="cls_011"><span class="cls_011">involved in any flash with one line.</span></div>
<div style="position:absolute;left:53.98px;top:331.40px" class="cls_031"><span class="cls_031">delay(200);</span></div>
<div style="position:absolute;left:299.86px;top:333.87px" class="cls_011"><span class="cls_011">After the loop function’s final curly brace, add</span></div>
<div style="position:absolute;left:53.98px;top:344.39px" class="cls_031"><span class="cls_031">digitalWrite(ledPin, HIGH);</span></div>
<div style="position:absolute;left:287.87px;top:348.86px" class="cls_011"><span class="cls_011">the following code:</span></div>
<div style="position:absolute;left:60.09px;top:357.38px" class="cls_031"><span class="cls_031">// third dot</span></div>
<div style="position:absolute;left:53.98px;top:370.36px" class="cls_031"><span class="cls_031">delay(200);</span></div>
<div style="position:absolute;left:293.87px;top:374.33px" class="cls_031"><span class="cls_031">void flash(int duration)</span></div>
<div style="position:absolute;left:53.98px;top:383.35px" class="cls_031"><span class="cls_031">digitalWrite(ledPin, LOW);</span></div>
<div style="position:absolute;left:293.87px;top:387.32px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:53.98px;top:396.34px" class="cls_031"><span class="cls_031">delay(500);</span></div>
<div style="position:absolute;left:305.73px;top:400.31px" class="cls_031"><span class="cls_031">digitalWrite(ledPin, HIGH);</span></div>
<div style="position:absolute;left:53.98px;top:409.33px" class="cls_031"><span class="cls_031">digitalWrite(ledPin, HIGH);</span></div>
<div style="position:absolute;left:305.73px;top:413.30px" class="cls_031"><span class="cls_031">delay(duration);</span></div>
<div style="position:absolute;left:60.09px;top:422.31px" class="cls_031"><span class="cls_031">// O (—-) first dash</span></div>
<div style="position:absolute;left:305.73px;top:426.28px" class="cls_031"><span class="cls_031">digitalWrite(ledPin, LOW);</span></div>
<div style="position:absolute;left:53.98px;top:435.30px" class="cls_031"><span class="cls_031">delay(500);</span></div>
<div style="position:absolute;left:305.73px;top:439.27px" class="cls_031"><span class="cls_031">delay(duration);</span></div>
<div style="position:absolute;left:53.98px;top:448.29px" class="cls_031"><span class="cls_031">digitalWrite(ledPin, LOW);</span></div>
<div style="position:absolute;left:293.87px;top:452.26px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:53.98px;top:461.27px" class="cls_031"><span class="cls_031">delay(500);</span></div>
<div style="position:absolute;left:53.98px;top:474.26px" class="cls_031"><span class="cls_031">digitalWrite(ledPin, HIGH);</span></div>
<div style="position:absolute;left:299.86px;top:481.23px" class="cls_011"><span class="cls_011">Now modify the loop function so that it looks</span></div>
<div style="position:absolute;left:60.09px;top:487.25px" class="cls_031"><span class="cls_031">// second dash</span></div>
<div style="position:absolute;left:53.98px;top:500.23px" class="cls_031"><span class="cls_031">delay(500);</span></div>
<div style="position:absolute;left:287.87px;top:496.22px" class="cls_011"><span class="cls_011">like this:</span></div>
<div style="position:absolute;left:53.98px;top:513.22px" class="cls_031"><span class="cls_031">digitalWrite(ledPin, LOW);</span></div>
<div style="position:absolute;left:293.87px;top:521.69px" class="cls_031"><span class="cls_031">void loop()</span></div>
<div style="position:absolute;left:53.98px;top:526.21px" class="cls_031"><span class="cls_031">delay(500);</span></div>
<div style="position:absolute;left:293.87px;top:534.68px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:53.98px;top:539.20px" class="cls_031"><span class="cls_031">digitalWrite(ledPin, HIGH);</span></div>
<div style="position:absolute;left:305.73px;top:547.66px" class="cls_031"><span class="cls_031">flash(200); flash(200); flash(200);</span></div>
<div style="position:absolute;left:60.09px;top:552.18px" class="cls_031"><span class="cls_031">// third dash</span></div>
<div style="position:absolute;left:311.85px;top:560.65px" class="cls_031"><span class="cls_031">// S</span></div>
<div style="position:absolute;left:53.98px;top:565.17px" class="cls_031"><span class="cls_031">delay(500);</span></div>
<div style="position:absolute;left:305.73px;top:573.64px" class="cls_031"><span class="cls_031">delay(300);</span></div>
<div style="position:absolute;left:53.98px;top:578.16px" class="cls_031"><span class="cls_031">digitalWrite(ledPin, LOW);</span></div>
<div style="position:absolute;left:311.85px;top:586.63px" class="cls_031"><span class="cls_031">// otherwise the flashes run</span></div>
<div style="position:absolute;left:53.98px;top:591.14px" class="cls_031"><span class="cls_031">delay(500);</span></div>
<div style="position:absolute;left:311.85px;top:599.61px" class="cls_031"><span class="cls_031">together</span></div>
<div style="position:absolute;left:53.98px;top:604.13px" class="cls_031"><span class="cls_031">digitalWrite(ledPin, HIGH);</span></div>
<div style="position:absolute;left:305.73px;top:612.60px" class="cls_031"><span class="cls_031">flash(500); flash(500); flash(500);</span></div>
<div style="position:absolute;left:60.09px;top:617.12px" class="cls_031"><span class="cls_031">// S (...) first dot</span></div>
<div style="position:absolute;left:311.85px;top:625.59px" class="cls_031"><span class="cls_031">// O</span></div>
<div style="position:absolute;left:53.98px;top:630.10px" class="cls_031"><span class="cls_031">delay(200);</span></div>
<div style="position:absolute;left:305.73px;top:638.57px" class="cls_031"><span class="cls_031">flash(200); flash(200); flash(200);</span></div>
<div style="position:absolute;left:53.98px;top:643.09px" class="cls_031"><span class="cls_031">digitalWrite(ledPin, LOW);</span></div>
<div style="position:absolute;left:311.85px;top:651.56px" class="cls_031"><span class="cls_031">// S</span></div>
<div style="position:absolute;left:53.98px;top:656.08px" class="cls_031"><span class="cls_031">delay(200);</span></div>
<div style="position:absolute;left:305.73px;top:664.55px" class="cls_031"><span class="cls_031">delay(1000);</span></div>
<div style="position:absolute;left:53.98px;top:669.06px" class="cls_031"><span class="cls_031">digitalWrite(ledPin, HIGH);</span></div>
<div style="position:absolute;left:311.85px;top:677.53px" class="cls_031"><span class="cls_031">// wait 1 second before we start</span></div>
<div style="position:absolute;left:60.09px;top:682.05px" class="cls_031"><span class="cls_031">// second dot</span></div>
<div style="position:absolute;left:311.85px;top:690.52px" class="cls_031"><span class="cls_031">again</span></div>
<div style="position:absolute;left:53.98px;top:695.04px" class="cls_031"><span class="cls_031">delay(200);</span></div>
<div style="position:absolute;left:293.87px;top:703.51px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:53.98px;top:708.02px" class="cls_031"><span class="cls_031">digitalWrite(ledPin, LOW);</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:35100px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background046.jpg" width=552 height=770></div>
<div style="position:absolute;left:327.93px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 3</span></div>
<div style="position:absolute;left:391.41px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    LED Projects</span></div>
<div style="position:absolute;left:502.91px;top:34.50px" class="cls_017"><span class="cls_017">29</span></div>
<div style="position:absolute;left:43.21px;top:76.46px" class="cls_032"><span class="cls_032">LISTING PROJECT 2</span></div>
<div style="position:absolute;left:52.20px;top:98.70px" class="cls_031"><span class="cls_031">int ledPin = 13;</span></div>
<div style="position:absolute;left:52.20px;top:124.68px" class="cls_031"><span class="cls_031">void setup()</span></div>
<div style="position:absolute;left:265.78px;top:124.68px" class="cls_031"><span class="cls_031">// run once, when the sketch starts</span></div>
<div style="position:absolute;left:52.20px;top:137.67px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:64.06px;top:150.65px" class="cls_031"><span class="cls_031">pinMode(ledPin, OUTPUT);</span></div>
<div style="position:absolute;left:265.26px;top:150.65px" class="cls_031"><span class="cls_031">// sets the digital pin as output</span></div>
<div style="position:absolute;left:52.20px;top:163.64px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.20px;top:189.61px" class="cls_031"><span class="cls_031">void loop()</span></div>
<div style="position:absolute;left:52.20px;top:202.60px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:64.06px;top:215.59px" class="cls_031"><span class="cls_031">flash(200); flash(200); flash(200);</span></div>
<div style="position:absolute;left:265.82px;top:215.59px" class="cls_031"><span class="cls_031">// S</span></div>
<div style="position:absolute;left:64.06px;top:228.58px" class="cls_031"><span class="cls_031">delay(300);</span></div>
<div style="position:absolute;left:265.78px;top:228.58px" class="cls_031"><span class="cls_031">// otherwise the flashes run together</span></div>
<div style="position:absolute;left:64.06px;top:241.57px" class="cls_031"><span class="cls_031">flash(500); flash(500); flash(500);</span></div>
<div style="position:absolute;left:265.82px;top:241.57px" class="cls_031"><span class="cls_031">// O</span></div>
<div style="position:absolute;left:64.06px;top:254.55px" class="cls_031"><span class="cls_031">flash(200); flash(200); flash(200);</span></div>
<div style="position:absolute;left:265.82px;top:254.55px" class="cls_031"><span class="cls_031">// S</span></div>
<div style="position:absolute;left:64.06px;top:267.54px" class="cls_031"><span class="cls_031">delay(1000);</span></div>
<div style="position:absolute;left:265.25px;top:267.54px" class="cls_031"><span class="cls_031">// wait 1 second before we start again</span></div>
<div style="position:absolute;left:52.20px;top:280.53px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.20px;top:306.50px" class="cls_031"><span class="cls_031">void flash(int duration)</span></div>
<div style="position:absolute;left:52.20px;top:319.49px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:64.06px;top:332.48px" class="cls_031"><span class="cls_031">digitalWrite(ledPin, HIGH);</span></div>
<div style="position:absolute;left:64.06px;top:345.46px" class="cls_031"><span class="cls_031">delay(duration);</span></div>
<div style="position:absolute;left:64.06px;top:358.45px" class="cls_031"><span class="cls_031">digitalWrite(ledPin, LOW);</span></div>
<div style="position:absolute;left:64.06px;top:371.44px" class="cls_031"><span class="cls_031">delay(duration);</span></div>
<div style="position:absolute;left:52.20px;top:384.42px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:48.20px;top:425.41px" class="cls_011"><span class="cls_011">The whole final listing is shown in Listing</span></div>
<div style="position:absolute;left:287.97px;top:425.72px" class="cls_021"><span class="cls_021">Loops</span></div>
<div style="position:absolute;left:36.21px;top:440.40px" class="cls_011"><span class="cls_011">Project 2.</span></div>
<div style="position:absolute;left:287.97px;top:452.19px" class="cls_011"><span class="cls_011">Loops allow us to repeat a group of commands a</span></div>
<div style="position:absolute;left:48.20px;top:459.38px" class="cls_011"><span class="cls_011">This makes the sketch a lot smaller and a lot</span></div>
<div style="position:absolute;left:287.97px;top:467.18px" class="cls_011"><span class="cls_011">certain number of times or until some condition is</span></div>
<div style="position:absolute;left:36.21px;top:474.36px" class="cls_011"><span class="cls_011">easier to read.</span></div>
<div style="position:absolute;left:287.97px;top:482.16px" class="cls_011"><span class="cls_011">met.</span></div>
<div style="position:absolute;left:299.96px;top:501.15px" class="cls_011"><span class="cls_011">In Project 2, we only want to flash three dots for</span></div>
<div style="position:absolute;left:36.21px;top:507.33px" class="cls_005"><span class="cls_005">Putting It All Together</span></div>
<div style="position:absolute;left:287.97px;top:516.13px" class="cls_011"><span class="cls_011">an S, so it is no great hardship to repeat the flash</span></div>
<div style="position:absolute;left:36.21px;top:530.81px" class="cls_011"><span class="cls_011">That concludes Project 2. We will now cover some</span></div>
<div style="position:absolute;left:287.97px;top:531.12px" class="cls_011"><span class="cls_011">command three times. However, it would be far</span></div>
<div style="position:absolute;left:36.21px;top:545.79px" class="cls_011"><span class="cls_011">more background on programming the Arduino</span></div>
<div style="position:absolute;left:287.97px;top:546.10px" class="cls_011"><span class="cls_011">less convenient if we needed to flash the LED 100</span></div>
<div style="position:absolute;left:36.21px;top:560.78px" class="cls_011"><span class="cls_011">before we go on to look at Project 3, where we</span></div>
<div style="position:absolute;left:287.97px;top:561.09px" class="cls_011"><span class="cls_011">or 1000 times. In that case we can use the for</span></div>
<div style="position:absolute;left:36.21px;top:575.76px" class="cls_011"><span class="cls_011">will use our same hardware to write a Morse code</span></div>
<div style="position:absolute;left:287.97px;top:576.07px" class="cls_011"><span class="cls_011">language command in C.</span></div>
<div style="position:absolute;left:36.21px;top:590.75px" class="cls_011"><span class="cls_011">translator, where we can type sentences on our</span></div>
<div style="position:absolute;left:293.96px;top:601.55px" class="cls_031"><span class="cls_031">for (int i = 0; i &lt; 100; i ++)</span></div>
<div style="position:absolute;left:36.21px;top:605.73px" class="cls_011"><span class="cls_011">computer and have them flashed as Morse code. In</span></div>
<div style="position:absolute;left:293.96px;top:614.53px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:36.21px;top:620.72px" class="cls_011"><span class="cls_011">Project 4, we will improve the brightness of our</span></div>
<div style="position:absolute;left:305.83px;top:627.52px" class="cls_031"><span class="cls_031">flash(200);</span></div>
<div style="position:absolute;left:36.21px;top:635.70px" class="cls_011"><span class="cls_011">flashing by replacing our red LED with a high-</span></div>
<div style="position:absolute;left:293.96px;top:640.51px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:36.21px;top:650.69px" class="cls_011"><span class="cls_011">power Luxeon-type LED.</span></div>
<div style="position:absolute;left:48.20px;top:669.67px" class="cls_011"><span class="cls_011">But first, we need a little more theory in order</span></div>
<div style="position:absolute;left:299.96px;top:669.48px" class="cls_011"><span class="cls_011">The for loop is a bit like a function that takes</span></div>
<div style="position:absolute;left:36.21px;top:684.66px" class="cls_011"><span class="cls_011">to understand Projects 3 and 4.</span></div>
<div style="position:absolute;left:287.97px;top:684.47px" class="cls_011"><span class="cls_011">three arguments, although here, those arguments</span></div>
<div style="position:absolute;left:287.97px;top:699.45px" class="cls_011"><span class="cls_011">are separated by semicolons rather than the usual</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:35880px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background047.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">30</span></div>
<div style="position:absolute;left:78.18px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:36.12px;top:69.16px" class="cls_011"><span class="cls_011">commas. This is just a quirk of the C language.</span></div>
<div style="position:absolute;left:287.87px;top:69.16px" class="cls_011"><span class="cls_011">contrast, an array contains a list of values, and you</span></div>
<div style="position:absolute;left:36.12px;top:84.15px" class="cls_011"><span class="cls_011">The compiler will soon tell you when you get it</span></div>
<div style="position:absolute;left:287.87px;top:84.14px" class="cls_011"><span class="cls_011">can access any one of those values by its position</span></div>
<div style="position:absolute;left:36.12px;top:99.13px" class="cls_011"><span class="cls_011">wrong.</span></div>
<div style="position:absolute;left:287.87px;top:99.13px" class="cls_011"><span class="cls_011">in the list.</span></div>
<div style="position:absolute;left:48.11px;top:118.11px" class="cls_011"><span class="cls_011">The first thing in the parentheses after “for” is a</span></div>
<div style="position:absolute;left:299.86px;top:118.11px" class="cls_011"><span class="cls_011">C, in common with the majority of programming</span></div>
<div style="position:absolute;left:36.12px;top:133.10px" class="cls_011"><span class="cls_011">variable declaration. This specifies a variable to be</span></div>
<div style="position:absolute;left:287.87px;top:133.10px" class="cls_011"><span class="cls_011">languages, begins its index positions at 0 rather</span></div>
<div style="position:absolute;left:36.12px;top:148.08px" class="cls_011"><span class="cls_011">used as a counter variable and gives it an initial</span></div>
<div style="position:absolute;left:287.87px;top:148.08px" class="cls_011"><span class="cls_011">than 1. This means that the first element is actually</span></div>
<div style="position:absolute;left:36.12px;top:163.07px" class="cls_011"><span class="cls_011">value—in this case, 0.</span></div>
<div style="position:absolute;left:287.87px;top:163.07px" class="cls_011"><span class="cls_011">element zero.</span></div>
<div style="position:absolute;left:48.11px;top:182.05px" class="cls_011"><span class="cls_011">The second part is a condition that must be true</span></div>
<div style="position:absolute;left:299.86px;top:182.05px" class="cls_011"><span class="cls_011">To illustrate the use of arrays, we could change</span></div>
<div style="position:absolute;left:36.12px;top:197.03px" class="cls_011"><span class="cls_011">for us to stay in the loop. In this case, we will stay</span></div>
<div style="position:absolute;left:287.87px;top:197.03px" class="cls_011"><span class="cls_011">our Morse code example to use an array of flash</span></div>
<div style="position:absolute;left:36.12px;top:212.02px" class="cls_011"><span class="cls_011">in the loop as long as “i” is less than 100, but as</span></div>
<div style="position:absolute;left:287.87px;top:212.02px" class="cls_011"><span class="cls_011">durations. We can then use a for loop to step</span></div>
<div style="position:absolute;left:36.12px;top:227.00px" class="cls_011"><span class="cls_011">soon as “i” is 100 or more, we will stop doing the</span></div>
<div style="position:absolute;left:287.87px;top:227.00px" class="cls_011"><span class="cls_011">through each of the items in the array.</span></div>
<div style="position:absolute;left:36.12px;top:241.99px" class="cls_011"><span class="cls_011">things inside the loop.</span></div>
<div style="position:absolute;left:299.86px;top:245.99px" class="cls_011"><span class="cls_011">First let’s create an array of ints containing the</span></div>
<div style="position:absolute;left:48.11px;top:260.97px" class="cls_011"><span class="cls_011">The final part is what to do every time you have</span></div>
<div style="position:absolute;left:287.87px;top:260.97px" class="cls_011"><span class="cls_011">durations:</span></div>
<div style="position:absolute;left:36.12px;top:275.96px" class="cls_011"><span class="cls_011">done all the things in the loop. In this case, that is</span></div>
<div style="position:absolute;left:293.87px;top:286.45px" class="cls_031"><span class="cls_031">int durations[] = {200, 200, 200, 500,</span></div>
<div style="position:absolute;left:36.12px;top:290.94px" class="cls_011"><span class="cls_011">increment “i” by 1 so that it can, after 100 trips</span></div>
<div style="position:absolute;left:311.85px;top:299.44px" class="cls_031"><span class="cls_031">500, 500, 200, 200, 200}</span></div>
<div style="position:absolute;left:36.12px;top:305.93px" class="cls_011"><span class="cls_011">around the loop, cease to be less than 100 and</span></div>
<div style="position:absolute;left:36.12px;top:320.91px" class="cls_011"><span class="cls_011">cause the loop to exit.</span></div>
<div style="position:absolute;left:299.86px;top:325.41px" class="cls_011"><span class="cls_011">You indicate that a variable contains an array by</span></div>
<div style="position:absolute;left:48.11px;top:339.89px" class="cls_011"><span class="cls_011">Another way of looping in C is to use the while</span></div>
<div style="position:absolute;left:287.87px;top:340.40px" class="cls_011"><span class="cls_011">placing [] after the variable name. If you are</span></div>
<div style="position:absolute;left:36.12px;top:354.88px" class="cls_011"><span class="cls_011">command. The same example shown previously</span></div>
<div style="position:absolute;left:287.87px;top:355.38px" class="cls_011"><span class="cls_011">setting the contents of the array at the same time</span></div>
<div style="position:absolute;left:36.12px;top:369.86px" class="cls_011"><span class="cls_011">could be accomplished using a while command,</span></div>
<div style="position:absolute;left:287.87px;top:370.37px" class="cls_011"><span class="cls_011">you are defining it, as in the previous example, you</span></div>
<div style="position:absolute;left:36.12px;top:384.85px" class="cls_011"><span class="cls_011">as shown here:</span></div>
<div style="position:absolute;left:287.87px;top:385.35px" class="cls_011"><span class="cls_011">do not need to specify the size of the array. If you</span></div>
<div style="position:absolute;left:287.87px;top:400.34px" class="cls_011"><span class="cls_011">are not setting its initial contents, then you need to</span></div>
<div style="position:absolute;left:42.11px;top:410.33px" class="cls_031"><span class="cls_031">int i = 0;</span></div>
<div style="position:absolute;left:287.87px;top:415.32px" class="cls_011"><span class="cls_011">specify the size of the array inside the square</span></div>
<div style="position:absolute;left:42.11px;top:423.32px" class="cls_031"><span class="cls_031">while (i &lt; 100)</span></div>
<div style="position:absolute;left:287.87px;top:430.31px" class="cls_011"><span class="cls_011">brackets. For example:</span></div>
<div style="position:absolute;left:42.11px;top:436.30px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:53.98px;top:449.29px" class="cls_031"><span class="cls_031">flash(200);</span></div>
<div style="position:absolute;left:293.87px;top:455.78px" class="cls_031"><span class="cls_031">int durations[10];</span></div>
<div style="position:absolute;left:53.98px;top:462.28px" class="cls_031"><span class="cls_031">i ++;</span></div>
<div style="position:absolute;left:42.11px;top:475.26px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:299.86px;top:481.76px" class="cls_011"><span class="cls_011">Now we can modify our loop method to use the</span></div>
<div style="position:absolute;left:287.87px;top:496.74px" class="cls_011"><span class="cls_011">array:</span></div>
<div style="position:absolute;left:48.11px;top:504.24px" class="cls_011"><span class="cls_011">The expression in parentheses after while must</span></div>
<div style="position:absolute;left:36.12px;top:519.22px" class="cls_011"><span class="cls_011">be true to stay in the loop. When it is no longer</span></div>
<div style="position:absolute;left:293.87px;top:522.22px" class="cls_031"><span class="cls_031">void loop()</span></div>
<div style="position:absolute;left:36.12px;top:534.21px" class="cls_011"><span class="cls_011">true, the sketch will continue running the</span></div>
<div style="position:absolute;left:311.85px;top:535.21px" class="cls_031"><span class="cls_031">// run over and over again</span></div>
<div style="position:absolute;left:293.87px;top:548.19px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:36.12px;top:549.19px" class="cls_011"><span class="cls_011">commands after the final curly brace.</span></div>
<div style="position:absolute;left:305.73px;top:561.18px" class="cls_031"><span class="cls_031">for (int i = 0; i &lt; 9; i++)</span></div>
<div style="position:absolute;left:48.11px;top:568.17px" class="cls_011"><span class="cls_011">The curly braces are used to bracket together a</span></div>
<div style="position:absolute;left:305.73px;top:574.17px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:36.12px;top:583.16px" class="cls_011"><span class="cls_011">group of commands. In programming parlance,</span></div>
<div style="position:absolute;left:317.60px;top:587.15px" class="cls_031"><span class="cls_031">flash(durations[i]);</span></div>
<div style="position:absolute;left:36.12px;top:598.14px" class="cls_011"><span class="cls_011">they are known as a block.</span></div>
<div style="position:absolute;left:305.73px;top:600.14px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:305.73px;top:613.13px" class="cls_031"><span class="cls_031">delay(1000);</span></div>
<div style="position:absolute;left:311.85px;top:626.11px" class="cls_031"><span class="cls_031">// wait 1 second before we start</span></div>
<div style="position:absolute;left:311.85px;top:639.10px" class="cls_031"><span class="cls_031">// again</span></div>
<div style="position:absolute;left:36.12px;top:638.61px" class="cls_021"><span class="cls_021">Arrays</span></div>
<div style="position:absolute;left:293.87px;top:652.09px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:36.12px;top:665.08px" class="cls_011"><span class="cls_011">Arrays are a way of containing a list of values.</span></div>
<div style="position:absolute;left:36.12px;top:680.06px" class="cls_011"><span class="cls_011">The variables we have met so far have only</span></div>
<div style="position:absolute;left:36.12px;top:695.05px" class="cls_011"><span class="cls_011">contained a single value, usually an int. By</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:36660px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background048.jpg" width=552 height=770></div>
<div style="position:absolute;left:330.34px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 3</span></div>
<div style="position:absolute;left:393.82px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    LED Projects</span></div>
<div style="position:absolute;left:505.33px;top:34.50px" class="cls_017"><span class="cls_017">31</span></div>
<div style="position:absolute;left:48.20px;top:69.16px" class="cls_011"><span class="cls_011">An obvious advantage of this approach is that it</span></div>
<div style="position:absolute;left:287.97px;top:69.16px" class="cls_011"><span class="cls_011">computer to the Arduino board through the USB</span></div>
<div style="position:absolute;left:36.21px;top:84.15px" class="cls_011"><span class="cls_011">is easy to change the message by simply altering</span></div>
<div style="position:absolute;left:287.97px;top:84.14px" class="cls_011"><span class="cls_011">cable.</span></div>
<div style="position:absolute;left:36.21px;top:99.13px" class="cls_011"><span class="cls_011">the durations array. In Project 3, we will take the</span></div>
<div style="position:absolute;left:299.96px;top:103.12px" class="cls_011"><span class="cls_011">For this project, you will need just the same</span></div>
<div style="position:absolute;left:36.21px;top:114.12px" class="cls_011"><span class="cls_011">use of arrays a stage further to make a more</span></div>
<div style="position:absolute;left:287.97px;top:118.11px" class="cls_011"><span class="cls_011">components as for Project 1 and 2. In fact, the</span></div>
<div style="position:absolute;left:36.21px;top:129.10px" class="cls_011"><span class="cls_011">general-purpose Morse code flasher.</span></div>
<div style="position:absolute;left:287.97px;top:133.09px" class="cls_011"><span class="cls_011">hardware is exactly the same; we are just going to</span></div>
<div style="position:absolute;left:287.97px;top:148.08px" class="cls_011"><span class="cls_011">modify the sketch of Project 1.</span></div>
<div style="position:absolute;left:36.21px;top:167.57px" class="cls_027"><span class="cls_027">Project 3</span></div>
<div style="position:absolute;left:295.97px;top:180.76px" class="cls_028"><span class="cls_028">COMPONENTS AND EQUIPMENT</span></div>
<div style="position:absolute;left:36.21px;top:187.55px" class="cls_021"><span class="cls_021">Morse Code Translator</span></div>
<div style="position:absolute;left:314.94px;top:204.14px" class="cls_029"><span class="cls_029">Description</span></div>
<div style="position:absolute;left:450.78px;top:204.14px" class="cls_029"><span class="cls_029">Appendix A</span></div>
<div style="position:absolute;left:36.21px;top:214.02px" class="cls_011"><span class="cls_011">In this project, we are going to use the same</span></div>
<div style="position:absolute;left:314.94px;top:224.12px" class="cls_026"><span class="cls_026">Arduino Diecimila or</span></div>
<div style="position:absolute;left:36.21px;top:229.00px" class="cls_011"><span class="cls_011">hardware as for Projects 1 and 2, but we are going</span></div>
<div style="position:absolute;left:314.94px;top:237.11px" class="cls_026"><span class="cls_026">Duemilanove board or clone</span></div>
<div style="position:absolute;left:476.19px;top:237.11px" class="cls_026"><span class="cls_026">1</span></div>
<div style="position:absolute;left:36.21px;top:243.99px" class="cls_011"><span class="cls_011">to write a new sketch that will let us type in a</span></div>
<div style="position:absolute;left:297.96px;top:254.09px" class="cls_026"><span class="cls_026">D1</span></div>
<div style="position:absolute;left:314.94px;top:254.09px" class="cls_026"><span class="cls_026">5-mm Red LED</span></div>
<div style="position:absolute;left:472.34px;top:254.09px" class="cls_026"><span class="cls_026">23</span></div>
<div style="position:absolute;left:36.21px;top:258.97px" class="cls_011"><span class="cls_011">sentence on our computer and have our Arduino</span></div>
<div style="position:absolute;left:297.96px;top:271.07px" class="cls_026"><span class="cls_026">R1</span></div>
<div style="position:absolute;left:314.94px;top:271.07px" class="cls_026"><span class="cls_026">270 </span><span class="cls_033">Ω</span><span class="cls_026"> 0.5W metal film resistor</span></div>
<div style="position:absolute;left:474.89px;top:271.07px" class="cls_026"><span class="cls_026">6</span></div>
<div style="position:absolute;left:36.21px;top:273.96px" class="cls_011"><span class="cls_011">board convert that into the appropriate Morse code</span></div>
<div style="position:absolute;left:36.21px;top:288.94px" class="cls_011"><span class="cls_011">dots and dashes.</span></div>
<div style="position:absolute;left:48.20px;top:307.93px" class="cls_011"><span class="cls_011">Figure 3-1 shows the Morse code translator in</span></div>
<div style="position:absolute;left:287.97px;top:315.92px" class="cls_005"><span class="cls_005">Hardware</span></div>
<div style="position:absolute;left:36.21px;top:322.91px" class="cls_011"><span class="cls_011">action. The contents of the message box are being</span></div>
<div style="position:absolute;left:36.21px;top:337.90px" class="cls_011"><span class="cls_011">flashed as dots and dashes on the LED.</span></div>
<div style="position:absolute;left:287.97px;top:339.40px" class="cls_011"><span class="cls_011">Please refer back to Project 1 for the hardware</span></div>
<div style="position:absolute;left:48.20px;top:356.88px" class="cls_011"><span class="cls_011">To do this, we will make use of what we have</span></div>
<div style="position:absolute;left:287.97px;top:354.38px" class="cls_011"><span class="cls_011">construction for this project.</span></div>
<div style="position:absolute;left:36.21px;top:371.86px" class="cls_011"><span class="cls_011">learned about arrays and strings, and also learn</span></div>
<div style="position:absolute;left:299.96px;top:373.36px" class="cls_011"><span class="cls_011">You can either just plug the resistor and LED</span></div>
<div style="position:absolute;left:36.21px;top:386.85px" class="cls_011"><span class="cls_011">something about sending messages from our</span></div>
<div style="position:absolute;left:287.97px;top:388.35px" class="cls_011"><span class="cls_011">directly into the Arduino connectors, or use the</span></div>
<div style="position:absolute;left:42.21px;top:709.86px" class="cls_025"><span class="cls_025">Figure 3-1</span></div>
<div style="position:absolute;left:102.15px;top:710.85px" class="cls_026"><span class="cls_026">Morse code translator.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:37440px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background049.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">32</span></div>
<div style="position:absolute;left:77.11px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:36.12px;top:69.16px" class="cls_011"><span class="cls_011">breadboard (see Chapter 1). You can even just</span></div>
<div style="position:absolute;left:294.87px;top:76.46px" class="cls_032"><span class="cls_032">TABLE 3-1</span></div>
<div style="position:absolute;left:353.65px;top:76.46px" class="cls_026"><span class="cls_026">Morse Code Letters</span></div>
<div style="position:absolute;left:36.12px;top:84.15px" class="cls_011"><span class="cls_011">change the ledPin variable in the sketch to be pin</span></div>
<div style="position:absolute;left:36.12px;top:99.13px" class="cls_011"><span class="cls_011">13 so that you use the built-in LED and do not</span></div>
<div style="position:absolute;left:294.87px;top:100.24px" class="cls_026"><span class="cls_026">A</span></div>
<div style="position:absolute;left:327.90px;top:100.24px" class="cls_026"><span class="cls_026">.-</span></div>
<div style="position:absolute;left:369.24px;top:100.24px" class="cls_026"><span class="cls_026">N</span></div>
<div style="position:absolute;left:405.82px;top:100.24px" class="cls_026"><span class="cls_026">-.</span></div>
<div style="position:absolute;left:447.50px;top:100.24px" class="cls_026"><span class="cls_026">0</span></div>
<div style="position:absolute;left:476.77px;top:100.24px" class="cls_026"><span class="cls_026">——-</span></div>
<div style="position:absolute;left:36.12px;top:114.12px" class="cls_011"><span class="cls_011">need any external components at all.</span></div>
<div style="position:absolute;left:294.87px;top:116.22px" class="cls_026"><span class="cls_026">B</span></div>
<div style="position:absolute;left:325.75px;top:116.22px" class="cls_026"><span class="cls_026">-…</span></div>
<div style="position:absolute;left:368.97px;top:116.22px" class="cls_026"><span class="cls_026">O</span></div>
<div style="position:absolute;left:402.88px;top:116.22px" class="cls_026"><span class="cls_026">—-</span></div>
<div style="position:absolute;left:449.10px;top:116.22px" class="cls_026"><span class="cls_026">1</span></div>
<div style="position:absolute;left:477.50px;top:116.22px" class="cls_026"><span class="cls_026">.——</span></div>
<div style="position:absolute;left:294.87px;top:132.21px" class="cls_026"><span class="cls_026">C</span></div>
<div style="position:absolute;left:324.96px;top:132.21px" class="cls_026"><span class="cls_026">-.-.</span></div>
<div style="position:absolute;left:369.79px;top:132.21px" class="cls_026"><span class="cls_026">P</span></div>
<div style="position:absolute;left:402.89px;top:132.21px" class="cls_026"><span class="cls_026">.--.</span></div>
<div style="position:absolute;left:448.02px;top:132.21px" class="cls_026"><span class="cls_026">2</span></div>
<div style="position:absolute;left:478.98px;top:132.21px" class="cls_026"><span class="cls_026">..---</span></div>
<div style="position:absolute;left:36.12px;top:147.09px" class="cls_005"><span class="cls_005">Software</span></div>
<div style="position:absolute;left:294.87px;top:148.19px" class="cls_026"><span class="cls_026">D</span></div>
<div style="position:absolute;left:326.79px;top:148.19px" class="cls_026"><span class="cls_026">-..</span></div>
<div style="position:absolute;left:368.97px;top:148.19px" class="cls_026"><span class="cls_026">Q</span></div>
<div style="position:absolute;left:402.15px;top:148.19px" class="cls_026"><span class="cls_026">--.-</span></div>
<div style="position:absolute;left:447.96px;top:148.19px" class="cls_026"><span class="cls_026">3</span></div>
<div style="position:absolute;left:479.76px;top:148.19px" class="cls_026"><span class="cls_026">…--</span></div>
<div style="position:absolute;left:294.87px;top:164.18px" class="cls_026"><span class="cls_026">E</span></div>
<div style="position:absolute;left:369.54px;top:164.18px" class="cls_026"><span class="cls_026">R</span></div>
<div style="position:absolute;left:404.72px;top:164.18px" class="cls_026"><span class="cls_026">.-.</span></div>
<div style="position:absolute;left:447.70px;top:164.18px" class="cls_026"><span class="cls_026">4</span></div>
<div style="position:absolute;left:480.49px;top:164.18px" class="cls_026"><span class="cls_026">….-</span></div>
<div style="position:absolute;left:36.12px;top:170.56px" class="cls_011"><span class="cls_011">The letters in Morse code are shown in Table 3-1.</span></div>
<div style="position:absolute;left:294.87px;top:180.16px" class="cls_026"><span class="cls_026">F</span></div>
<div style="position:absolute;left:325.69px;top:180.16px" class="cls_026"><span class="cls_026">..-.</span></div>
<div style="position:absolute;left:369.91px;top:180.16px" class="cls_026"><span class="cls_026">S</span></div>
<div style="position:absolute;left:405.51px;top:180.16px" class="cls_026"><span class="cls_026">…</span></div>
<div style="position:absolute;left:447.96px;top:180.16px" class="cls_026"><span class="cls_026">5</span></div>
<div style="position:absolute;left:481.23px;top:180.16px" class="cls_026"><span class="cls_026">…..</span></div>
<div style="position:absolute;left:48.11px;top:189.54px" class="cls_011"><span class="cls_011">Some of the rules of Morse code are that a dash</span></div>
<div style="position:absolute;left:294.87px;top:196.15px" class="cls_026"><span class="cls_026">G</span></div>
<div style="position:absolute;left:326.06px;top:196.15px" class="cls_026"><span class="cls_026">--.</span></div>
<div style="position:absolute;left:369.88px;top:196.15px" class="cls_026"><span class="cls_026">T</span></div>
<div style="position:absolute;left:406.92px;top:196.15px" class="cls_026"><span class="cls_026">-</span></div>
<div style="position:absolute;left:447.81px;top:196.15px" class="cls_026"><span class="cls_026">6</span></div>
<div style="position:absolute;left:480.49px;top:196.15px" class="cls_026"><span class="cls_026">-….</span></div>
<div style="position:absolute;left:36.12px;top:204.53px" class="cls_011"><span class="cls_011">is three times as long as a dot, the time between</span></div>
<div style="position:absolute;left:294.87px;top:212.13px" class="cls_026"><span class="cls_026">H</span></div>
<div style="position:absolute;left:326.48px;top:212.13px" class="cls_026"><span class="cls_026">….</span></div>
<div style="position:absolute;left:369.38px;top:212.13px" class="cls_026"><span class="cls_026">U</span></div>
<div style="position:absolute;left:404.72px;top:212.13px" class="cls_026"><span class="cls_026">..-</span></div>
<div style="position:absolute;left:448.04px;top:212.13px" class="cls_026"><span class="cls_026">7</span></div>
<div style="position:absolute;left:479.76px;top:212.13px" class="cls_026"><span class="cls_026">--…</span></div>
<div style="position:absolute;left:36.12px;top:219.51px" class="cls_011"><span class="cls_011">each dash or dot is equal to the duration of a dot,</span></div>
<div style="position:absolute;left:294.87px;top:228.12px" class="cls_026"><span class="cls_026">I</span></div>
<div style="position:absolute;left:369.42px;top:228.12px" class="cls_026"><span class="cls_026">V</span></div>
<div style="position:absolute;left:403.67px;top:228.12px" class="cls_026"><span class="cls_026">…-</span></div>
<div style="position:absolute;left:447.88px;top:228.12px" class="cls_026"><span class="cls_026">8</span></div>
<div style="position:absolute;left:478.98px;top:228.12px" class="cls_026"><span class="cls_026">---..</span></div>
<div style="position:absolute;left:36.12px;top:234.50px" class="cls_011"><span class="cls_011">the space between two letters is the same length as</span></div>
<div style="position:absolute;left:294.87px;top:244.10px" class="cls_026"><span class="cls_026">J</span></div>
<div style="position:absolute;left:324.23px;top:244.10px" class="cls_026"><span class="cls_026">.---</span></div>
<div style="position:absolute;left:367.81px;top:244.10px" class="cls_026"><span class="cls_026">W</span></div>
<div style="position:absolute;left:403.99px;top:244.10px" class="cls_026"><span class="cls_026">.--</span></div>
<div style="position:absolute;left:447.81px;top:244.10px" class="cls_026"><span class="cls_026">9</span></div>
<div style="position:absolute;left:478.24px;top:244.10px" class="cls_026"><span class="cls_026">----.</span></div>
<div style="position:absolute;left:36.12px;top:249.48px" class="cls_011"><span class="cls_011">a dash, and the space between two words is the</span></div>
<div style="position:absolute;left:294.87px;top:260.09px" class="cls_026"><span class="cls_026">K</span></div>
<div style="position:absolute;left:326.06px;top:260.09px" class="cls_026"><span class="cls_026">-.-</span></div>
<div style="position:absolute;left:369.53px;top:260.09px" class="cls_026"><span class="cls_026">X</span></div>
<div style="position:absolute;left:402.89px;top:260.09px" class="cls_026"><span class="cls_026">-..-</span></div>
<div style="position:absolute;left:36.12px;top:264.47px" class="cls_011"><span class="cls_011">same duration as seven dots.</span></div>
<div style="position:absolute;left:294.87px;top:276.07px" class="cls_026"><span class="cls_026">L</span></div>
<div style="position:absolute;left:325.69px;top:276.07px" class="cls_026"><span class="cls_026">.-..</span></div>
<div style="position:absolute;left:369.57px;top:276.07px" class="cls_026"><span class="cls_026">Y</span></div>
<div style="position:absolute;left:402.15px;top:276.07px" class="cls_026"><span class="cls_026">-.--</span></div>
<div style="position:absolute;left:48.11px;top:283.45px" class="cls_011"><span class="cls_011">For the sake of this project, we will not worry</span></div>
<div style="position:absolute;left:294.87px;top:292.06px" class="cls_026"><span class="cls_026">M</span></div>
<div style="position:absolute;left:327.16px;top:292.06px" class="cls_026"><span class="cls_026">--</span></div>
<div style="position:absolute;left:369.67px;top:292.06px" class="cls_026"><span class="cls_026">Z</span></div>
<div style="position:absolute;left:402.88px;top:292.06px" class="cls_026"><span class="cls_026">--..</span></div>
<div style="position:absolute;left:36.12px;top:298.44px" class="cls_011"><span class="cls_011">about punctuation, although it would be an</span></div>
<div style="position:absolute;left:36.12px;top:313.42px" class="cls_011"><span class="cls_011">interesting exercise for you to try adding this to the</span></div>
<div style="position:absolute;left:299.86px;top:323.78px" class="cls_011"><span class="cls_011">The sketch for this is shown in Listing Project 3.</span></div>
<div style="position:absolute;left:36.12px;top:328.41px" class="cls_011"><span class="cls_011">sketch. For a full list of all the Morse characters,</span></div>
<div style="position:absolute;left:287.87px;top:338.76px" class="cls_011"><span class="cls_011">An explanation of how it all works follows.</span></div>
<div style="position:absolute;left:36.12px;top:343.39px" class="cls_011"><span class="cls_011">see </span><A HREF="http://en.wikipedia.org/wiki/morse_code./">http://en.wikipedia.org/wiki/Morse_code.</A> </div>
<div style="position:absolute;left:43.11px;top:386.36px" class="cls_032"><span class="cls_032">LISTING PROJECT 3</span></div>
<div style="position:absolute;left:52.10px;top:408.60px" class="cls_031"><span class="cls_031">int ledPin = 12;</span></div>
<div style="position:absolute;left:52.10px;top:434.58px" class="cls_031"><span class="cls_031">char* letters[] = {</span></div>
<div style="position:absolute;left:63.97px;top:447.57px" class="cls_031"><span class="cls_031">".-", "-...", "-.-.", "-..", ".", "..-.", "--.", "</span></div>
<div style="position:absolute;left:359.05px;top:447.57px" class="cls_031"><span class="cls_031">", "..",</span></div>
<div style="position:absolute;left:426.47px;top:447.57px" class="cls_031"><span class="cls_031">// A-I</span></div>
<div style="position:absolute;left:63.97px;top:460.55px" class="cls_031"><span class="cls_031">".---", "-.-", ".-..", "--", "-.", "---", ".--.", "--.-", ".-.",</span></div>
<div style="position:absolute;left:425.40px;top:460.55px" class="cls_031"><span class="cls_031">// J-R</span></div>
<div style="position:absolute;left:63.97px;top:473.54px" class="cls_031"><span class="cls_031">"...", "-", "..-", "...-", ".--", "-..-", "-.--", "--.."</span></div>
<div style="position:absolute;left:423.23px;top:473.54px" class="cls_031"><span class="cls_031">// S-Z</span></div>
<div style="position:absolute;left:52.10px;top:486.53px" class="cls_031"><span class="cls_031">};</span></div>
<div style="position:absolute;left:52.10px;top:512.50px" class="cls_031"><span class="cls_031">char* numbers[] = {"-----", ".----", "..---", "...--", "</span></div>
<div style="position:absolute;left:379.55px;top:512.50px" class="cls_031"><span class="cls_031">-", "</span></div>
<div style="position:absolute;left:434.03px;top:512.50px" class="cls_031"><span class="cls_031">", "-</span></div>
<div style="position:absolute;left:483.12px;top:512.50px" class="cls_031"><span class="cls_031">",</span></div>
<div style="position:absolute;left:70.08px;top:525.49px" class="cls_031"><span class="cls_031">"--...", "---..", "----."};</span></div>
<div style="position:absolute;left:52.10px;top:551.46px" class="cls_031"><span class="cls_031">int dotDelay = 200;</span></div>
<div style="position:absolute;left:52.10px;top:577.44px" class="cls_031"><span class="cls_031">void setup()</span></div>
<div style="position:absolute;left:52.10px;top:590.42px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:63.97px;top:603.41px" class="cls_031"><span class="cls_031">pinMode(ledPin, OUTPUT);</span></div>
<div style="position:absolute;left:63.97px;top:616.40px" class="cls_031"><span class="cls_031">Serial.begin(9600);</span></div>
<div style="position:absolute;left:52.10px;top:629.38px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.10px;top:655.36px" class="cls_031"><span class="cls_031">void loop()</span></div>
<div style="position:absolute;left:52.10px;top:668.35px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:63.97px;top:681.33px" class="cls_031"><span class="cls_031">char ch;</span></div>
<div style="position:absolute;left:63.97px;top:694.32px" class="cls_031"><span class="cls_031">if (Serial.available())</span></div>
<div style="position:absolute;left:224.18px;top:694.32px" class="cls_031"><span class="cls_031">// is there anything to be read from USB?</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:38220px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background050.jpg" width=552 height=770></div>
<div style="position:absolute;left:328.36px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 3</span></div>
<div style="position:absolute;left:391.84px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    LED Projects</span></div>
<div style="position:absolute;left:503.34px;top:34.50px" class="cls_017"><span class="cls_017">33</span></div>
<div style="position:absolute;left:43.21px;top:76.46px" class="cls_032"><span class="cls_032">LISTING PROJECT 3 (continued)</span></div>
<div style="position:absolute;left:64.06px;top:98.70px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.93px;top:111.69px" class="cls_031"><span class="cls_031">ch = Serial.read();</span></div>
<div style="position:absolute;left:262.56px;top:111.69px" class="cls_031"><span class="cls_031">// read a single letter</span></div>
<div style="position:absolute;left:75.93px;top:124.68px" class="cls_031"><span class="cls_031">if (ch >= 'a' && ch &lt;= 'z')</span></div>
<div style="position:absolute;left:75.93px;top:137.66px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:87.79px;top:150.65px" class="cls_031"><span class="cls_031">flashSequence(letters[ch - 'a']);</span></div>
<div style="position:absolute;left:75.93px;top:163.64px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:75.93px;top:176.63px" class="cls_031"><span class="cls_031">else if (ch >= 'A' && ch &lt;= 'Z')</span></div>
<div style="position:absolute;left:75.93px;top:189.61px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:87.79px;top:202.60px" class="cls_031"><span class="cls_031">flashSequence(letters[ch - 'A']);</span></div>
<div style="position:absolute;left:75.93px;top:215.59px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:75.93px;top:228.58px" class="cls_031"><span class="cls_031">else if (ch >= '0' && ch &lt;= '9')</span></div>
<div style="position:absolute;left:75.93px;top:241.57px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:87.79px;top:254.55px" class="cls_031"><span class="cls_031">flashSequence(numbers[ch - '0']);</span></div>
<div style="position:absolute;left:75.93px;top:267.54px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:75.93px;top:280.53px" class="cls_031"><span class="cls_031">else if (ch == ' ')</span></div>
<div style="position:absolute;left:75.93px;top:293.51px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:81.86px;top:306.50px" class="cls_031"><span class="cls_031">delay(dotDelay * 4);</span></div>
<div style="position:absolute;left:262.02px;top:306.50px" class="cls_031"><span class="cls_031">// gap between words</span></div>
<div style="position:absolute;left:75.93px;top:319.49px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:64.06px;top:332.47px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.20px;top:345.46px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.20px;top:371.43px" class="cls_031"><span class="cls_031">void flashSequence(char* sequence)</span></div>
<div style="position:absolute;left:52.20px;top:384.42px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:70.00px;top:397.41px" class="cls_031"><span class="cls_031">int i = 0;</span></div>
<div style="position:absolute;left:70.00px;top:410.40px" class="cls_031"><span class="cls_031">while (sequence[i] != NULL)</span></div>
<div style="position:absolute;left:70.00px;top:423.38px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:93.73px;top:436.37px" class="cls_031"><span class="cls_031">flashDotOrDash(sequence[i]);</span></div>
<div style="position:absolute;left:93.73px;top:449.36px" class="cls_031"><span class="cls_031">i++;</span></div>
<div style="position:absolute;left:70.00px;top:462.34px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:70.00px;top:475.33px" class="cls_031"><span class="cls_031">delay(dotDelay * 3);</span></div>
<div style="position:absolute;left:262.02px;top:475.33px" class="cls_031"><span class="cls_031">// gap between letters</span></div>
<div style="position:absolute;left:52.20px;top:488.32px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.20px;top:514.29px" class="cls_031"><span class="cls_031">void flashDotOrDash(char dotOrDash)</span></div>
<div style="position:absolute;left:52.20px;top:527.28px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:64.06px;top:540.27px" class="cls_031"><span class="cls_031">digitalWrite(ledPin, HIGH);</span></div>
<div style="position:absolute;left:64.06px;top:553.25px" class="cls_031"><span class="cls_031">if (dotOrDash == '.')</span></div>
<div style="position:absolute;left:64.06px;top:566.24px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.93px;top:579.23px" class="cls_031"><span class="cls_031">delay(dotDelay);</span></div>
<div style="position:absolute;left:64.06px;top:592.22px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:64.06px;top:605.20px" class="cls_031"><span class="cls_031">else // must be a -</span></div>
<div style="position:absolute;left:64.06px;top:618.19px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.93px;top:631.18px" class="cls_031"><span class="cls_031">delay(dotDelay * 3);</span></div>
<div style="position:absolute;left:64.06px;top:644.16px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:64.06px;top:657.15px" class="cls_031"><span class="cls_031">digitalWrite(ledPin, LOW);</span></div>
<div style="position:absolute;left:64.06px;top:670.14px" class="cls_031"><span class="cls_031">delay(dotDelay);</span></div>
<div style="position:absolute;left:263.09px;top:670.14px" class="cls_031"><span class="cls_031">// gap between flashes</span></div>
<div style="position:absolute;left:52.20px;top:683.12px" class="cls_031"><span class="cls_031">}</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:39000px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background051.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">34</span></div>
<div style="position:absolute;left:77.77px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:48.11px;top:69.16px" class="cls_011"><span class="cls_011">We keep track of our dots and dashes using</span></div>
<div style="position:absolute;left:287.87px;top:69.15px" class="cls_011"><span class="cls_011">At first sight, it might look strange to be</span></div>
<div style="position:absolute;left:36.12px;top:84.15px" class="cls_011"><span class="cls_011">arrays of strings. We have two of these, one for</span></div>
<div style="position:absolute;left:287.87px;top:84.14px" class="cls_011"><span class="cls_011">subtracting one letter from another, but it is</span></div>
<div style="position:absolute;left:36.12px;top:99.13px" class="cls_011"><span class="cls_011">letters and one for numerals. So to find out what</span></div>
<div style="position:absolute;left:287.87px;top:99.12px" class="cls_011"><span class="cls_011">perfectly acceptable to do this in C. So, for</span></div>
<div style="position:absolute;left:36.12px;top:114.12px" class="cls_011"><span class="cls_011">we need to flash for the first letter of the alphabet</span></div>
<div style="position:absolute;left:287.87px;top:114.11px" class="cls_011"><span class="cls_011">example, “a” - “a” is 0, whereas “d” - “a” will give</span></div>
<div style="position:absolute;left:36.12px;top:129.10px" class="cls_011"><span class="cls_011">(A), we will get the string letters[0]—remember,</span></div>
<div style="position:absolute;left:287.87px;top:129.09px" class="cls_011"><span class="cls_011">us the answer 3. So, if the letter that we read from</span></div>
<div style="position:absolute;left:36.12px;top:144.09px" class="cls_011"><span class="cls_011">the first element of an array is element 0, not</span></div>
<div style="position:absolute;left:287.87px;top:144.08px" class="cls_011"><span class="cls_011">the USB connections was f, we will calculate “f” -</span></div>
<div style="position:absolute;left:36.12px;top:159.07px" class="cls_011"><span class="cls_011">element 1.</span></div>
<div style="position:absolute;left:287.87px;top:159.06px" class="cls_011"><span class="cls_011">“a,” which gives us 5 as the position of the letters</span></div>
<div style="position:absolute;left:287.87px;top:174.05px" class="cls_011"><span class="cls_011">array. Looking up letters[5] will give us the string</span></div>
<div style="position:absolute;left:48.11px;top:178.05px" class="cls_011"><span class="cls_011">The variable dotDelay is defined, so if we want</span></div>
<div style="position:absolute;left:287.87px;top:189.03px" class="cls_011"><span class="cls_011">“..-.”. We pass this string to a function called</span></div>
<div style="position:absolute;left:36.12px;top:193.04px" class="cls_011"><span class="cls_011">to make our Morse code flash faster or slower, we</span></div>
<div style="position:absolute;left:287.87px;top:204.02px" class="cls_011"><span class="cls_011">flashSequence.</span></div>
<div style="position:absolute;left:36.12px;top:208.02px" class="cls_011"><span class="cls_011">can change this value, as all the durations are</span></div>
<div style="position:absolute;left:36.12px;top:223.01px" class="cls_011"><span class="cls_011">defined as multiples of the time for a dot.</span></div>
<div style="position:absolute;left:299.86px;top:223.00px" class="cls_011"><span class="cls_011">The flashSequence function is going to loop</span></div>
<div style="position:absolute;left:287.87px;top:237.98px" class="cls_011"><span class="cls_011">over each of the parts of the sequence and flash it</span></div>
<div style="position:absolute;left:48.11px;top:241.99px" class="cls_011"><span class="cls_011">The setup function is much the same as for our</span></div>
<div style="position:absolute;left:287.87px;top:252.97px" class="cls_011"><span class="cls_011">as either a dash or a dot. Strings in C all have a</span></div>
<div style="position:absolute;left:36.12px;top:256.97px" class="cls_011"><span class="cls_011">earlier projects; however, this time we are getting</span></div>
<div style="position:absolute;left:287.87px;top:267.95px" class="cls_011"><span class="cls_011">special code on the end of them that marks the end</span></div>
<div style="position:absolute;left:36.12px;top:271.96px" class="cls_011"><span class="cls_011">communications from the USB port, so we must</span></div>
<div style="position:absolute;left:287.87px;top:282.94px" class="cls_011"><span class="cls_011">of the string, and this is called NULL. So, the first</span></div>
<div style="position:absolute;left:36.12px;top:286.94px" class="cls_011"><span class="cls_011">add the command:</span></div>
<div style="position:absolute;left:287.87px;top:297.92px" class="cls_011"><span class="cls_011">thing flashSequence does is to define a variable</span></div>
<div style="position:absolute;left:42.11px;top:312.42px" class="cls_031"><span class="cls_031">Serial.begin(9600);</span></div>
<div style="position:absolute;left:287.87px;top:312.91px" class="cls_011"><span class="cls_011">called “i.” This is going to indicate the current</span></div>
<div style="position:absolute;left:287.87px;top:327.89px" class="cls_011"><span class="cls_011">position in the string of dots and dashes, starting at</span></div>
<div style="position:absolute;left:48.11px;top:338.40px" class="cls_011"><span class="cls_011">This tells the Arduino board to set the</span></div>
<div style="position:absolute;left:287.87px;top:342.88px" class="cls_011"><span class="cls_011">position 0. The while loop will keep going until we</span></div>
<div style="position:absolute;left:36.12px;top:353.38px" class="cls_011"><span class="cls_011">communications speed through USB to be 9600</span></div>
<div style="position:absolute;left:287.87px;top:357.86px" class="cls_011"><span class="cls_011">reach the NULL on the end of the string.</span></div>
<div style="position:absolute;left:36.12px;top:368.37px" class="cls_011"><span class="cls_011">baud. This is not very fast, but fast enough for our</span></div>
<div style="position:absolute;left:299.86px;top:376.85px" class="cls_011"><span class="cls_011">Inside the while loop, we first flash the current</span></div>
<div style="position:absolute;left:36.12px;top:383.35px" class="cls_011"><span class="cls_011">Morse code messages. It is also a good speed to set</span></div>
<div style="position:absolute;left:287.87px;top:391.83px" class="cls_011"><span class="cls_011">dot or dash using a function that we are going to</span></div>
<div style="position:absolute;left:36.12px;top:398.34px" class="cls_011"><span class="cls_011">it to because that is the default speed used by the</span></div>
<div style="position:absolute;left:287.87px;top:406.82px" class="cls_011"><span class="cls_011">discuss in a moment and then add 1 to “i” and go</span></div>
<div style="position:absolute;left:36.12px;top:413.32px" class="cls_011"><span class="cls_011">Arduino software on your computer.</span></div>
<div style="position:absolute;left:287.87px;top:421.80px" class="cls_011"><span class="cls_011">back round the loop flashing each dot or dash in</span></div>
<div style="position:absolute;left:48.11px;top:432.31px" class="cls_011"><span class="cls_011">In the loop function, we are going to repeatedly</span></div>
<div style="position:absolute;left:287.87px;top:436.79px" class="cls_011"><span class="cls_011">turn until we reach the end of the string.</span></div>
<div style="position:absolute;left:36.12px;top:447.29px" class="cls_011"><span class="cls_011">see if we have been sent any letters over the USB</span></div>
<div style="position:absolute;left:299.86px;top:455.77px" class="cls_011"><span class="cls_011">The final function that we have defined is</span></div>
<div style="position:absolute;left:36.12px;top:462.28px" class="cls_011"><span class="cls_011">connection and if we have to process the letter. The</span></div>
<div style="position:absolute;left:287.87px;top:470.75px" class="cls_011"><span class="cls_011">flashDotOrDash’; this just turns the LED on and</span></div>
<div style="position:absolute;left:36.12px;top:477.26px" class="cls_011"><span class="cls_011">Arduino function Serial.available() will be true if</span></div>
<div style="position:absolute;left:287.87px;top:485.74px" class="cls_011"><span class="cls_011">then uses an if statement to either delay for the</span></div>
<div style="position:absolute;left:36.12px;top:492.25px" class="cls_011"><span class="cls_011">there is a character to be turned into Morse code</span></div>
<div style="position:absolute;left:287.87px;top:500.72px" class="cls_011"><span class="cls_011">duration of a single dot if the character is a dot, or</span></div>
<div style="position:absolute;left:36.12px;top:507.23px" class="cls_011"><span class="cls_011">and the Serial.read() function will give us that</span></div>
<div style="position:absolute;left:287.87px;top:515.71px" class="cls_011"><span class="cls_011">for three times that duration if the character is a</span></div>
<div style="position:absolute;left:36.12px;top:522.22px" class="cls_011"><span class="cls_011">character, which we assign to a variable called</span></div>
<div style="position:absolute;left:287.87px;top:530.69px" class="cls_011"><span class="cls_011">dash, before it turns the LED off again.</span></div>
<div style="position:absolute;left:36.12px;top:537.20px" class="cls_011"><span class="cls_011">“ch” that we defined just inside the loop.</span></div>
<div style="position:absolute;left:48.11px;top:556.18px" class="cls_011"><span class="cls_011">We then have a series of if statements that</span></div>
<div style="position:absolute;left:287.87px;top:563.68px" class="cls_005"><span class="cls_005">Putting It All Together</span></div>
<div style="position:absolute;left:36.12px;top:571.17px" class="cls_011"><span class="cls_011">determine whether the character is an uppercase</span></div>
<div style="position:absolute;left:36.12px;top:586.15px" class="cls_011"><span class="cls_011">letter, a lowercase letter, or a space character</span></div>
<div style="position:absolute;left:299.86px;top:587.16px" class="cls_011"><span class="cls_011">Load the completed sketch for Project 3 from</span></div>
<div style="position:absolute;left:36.12px;top:601.14px" class="cls_011"><span class="cls_011">separating two words. Looking at the first if</span></div>
<div style="position:absolute;left:287.87px;top:602.14px" class="cls_011"><span class="cls_011">your Arduino Sketchbook and download it onto</span></div>
<div style="position:absolute;left:36.12px;top:616.12px" class="cls_011"><span class="cls_011">statement, we are testing to see if the character’s</span></div>
<div style="position:absolute;left:287.87px;top:617.13px" class="cls_011"><span class="cls_011">your board (see Chapter 1).</span></div>
<div style="position:absolute;left:36.12px;top:631.11px" class="cls_011"><span class="cls_011">value is greater than or equal to “a” and less than</span></div>
<div style="position:absolute;left:299.86px;top:636.11px" class="cls_011"><span class="cls_011">To use the Morse code translator, we need to</span></div>
<div style="position:absolute;left:36.12px;top:646.09px" class="cls_011"><span class="cls_011">or equal to “z.” If that is the case, we can find the</span></div>
<div style="position:absolute;left:287.87px;top:651.09px" class="cls_011"><span class="cls_011">use a part of the Arduino software called the Serial</span></div>
<div style="position:absolute;left:36.12px;top:661.08px" class="cls_011"><span class="cls_011">sequence of dashes and dots to flash using the</span></div>
<div style="position:absolute;left:287.87px;top:666.08px" class="cls_011"><span class="cls_011">Monitor. This window allows you to type messages</span></div>
<div style="position:absolute;left:36.12px;top:676.06px" class="cls_011"><span class="cls_011">letter array that we defined at the top of the sketch.</span></div>
<div style="position:absolute;left:287.87px;top:681.06px" class="cls_011"><span class="cls_011">that are sent to the Arduino board as well as see</span></div>
<div style="position:absolute;left:36.12px;top:691.05px" class="cls_011"><span class="cls_011">We determine which sequence from the array to</span></div>
<div style="position:absolute;left:287.87px;top:696.05px" class="cls_011"><span class="cls_011">any messages that the Arduino board chooses to</span></div>
<div style="position:absolute;left:36.12px;top:706.03px" class="cls_011"><span class="cls_011">use by subtracting “a” from the character in ch.</span></div>
<div style="position:absolute;left:287.87px;top:711.03px" class="cls_011"><span class="cls_011">reply with.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:39780px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background052.jpg" width=552 height=770></div>
<div style="position:absolute;left:328.27px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 3</span></div>
<div style="position:absolute;left:391.75px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    LED Projects</span></div>
<div style="position:absolute;left:503.25px;top:34.50px" class="cls_017"><span class="cls_017">35</span></div>
<div style="position:absolute;left:42.21px;top:175.35px" class="cls_025"><span class="cls_025">Figure 3-2</span></div>
<div style="position:absolute;left:102.15px;top:176.34px" class="cls_026"><span class="cls_026">Launching the Serial Monitor.</span></div>
<div style="position:absolute;left:48.20px;top:205.23px" class="cls_011"><span class="cls_011">The Serial Monitor is launched by clicking the</span></div>
<div style="position:absolute;left:287.97px;top:205.14px" class="cls_027"><span class="cls_027">Project 4</span></div>
<div style="position:absolute;left:36.21px;top:220.21px" class="cls_011"><span class="cls_011">rightmost icon shown highlighted in Figure 3-2.</span></div>
<div style="position:absolute;left:287.97px;top:225.12px" class="cls_021"><span class="cls_021">High-Brightness Morse</span></div>
<div style="position:absolute;left:48.20px;top:239.20px" class="cls_011"><span class="cls_011">The Serial Monitor (see Figure 3-3) has two</span></div>
<div style="position:absolute;left:287.97px;top:243.10px" class="cls_021"><span class="cls_021">Code Translator</span></div>
<div style="position:absolute;left:36.21px;top:254.18px" class="cls_011"><span class="cls_011">parts. At the top, there is a field into which a line</span></div>
<div style="position:absolute;left:36.21px;top:269.17px" class="cls_011"><span class="cls_011">of text can be typed that will be sent to the board</span></div>
<div style="position:absolute;left:287.97px;top:269.57px" class="cls_011"><span class="cls_011">The little LED on Project 3 is unlikely to be</span></div>
<div style="position:absolute;left:36.21px;top:284.15px" class="cls_011"><span class="cls_011">when you either click Send or press </span><span class="cls_034">RETURN</span><span class="cls_011">.</span></div>
<div style="position:absolute;left:287.97px;top:284.56px" class="cls_011"><span class="cls_011">visible from the ship on the horizon being lured by</span></div>
<div style="position:absolute;left:287.97px;top:299.54px" class="cls_011"><span class="cls_011">our bogus Evil Genius distress message. So in this</span></div>
<div style="position:absolute;left:48.20px;top:303.13px" class="cls_011"><span class="cls_011">Below that is a larger area in which any</span></div>
<div style="position:absolute;left:287.97px;top:314.53px" class="cls_011"><span class="cls_011">project, we are going to up the power and use a</span></div>
<div style="position:absolute;left:36.21px;top:318.12px" class="cls_011"><span class="cls_011">messages coming from the Arduino board will be</span></div>
<div style="position:absolute;left:287.97px;top:329.51px" class="cls_011"><span class="cls_011">1W Luxeon LED. These LEDs are extremely</span></div>
<div style="position:absolute;left:36.21px;top:333.10px" class="cls_011"><span class="cls_011">displayed. Right at the bottom of the window is a</span></div>
<div style="position:absolute;left:287.97px;top:344.50px" class="cls_011"><span class="cls_011">bright and all the light comes from a tiny little area</span></div>
<div style="position:absolute;left:36.21px;top:348.09px" class="cls_011"><span class="cls_011">drop-down list where you can select the speed at</span></div>
<div style="position:absolute;left:287.97px;top:359.48px" class="cls_011"><span class="cls_011">in the center, so to avoid any possibility of retina</span></div>
<div style="position:absolute;left:36.21px;top:363.07px" class="cls_011"><span class="cls_011">which the data is sent. Whatever you select here</span></div>
<div style="position:absolute;left:287.97px;top:374.47px" class="cls_011"><span class="cls_011">damage, do not stare directly into it.</span></div>
<div style="position:absolute;left:36.21px;top:378.06px" class="cls_011"><span class="cls_011">must match the baud rate that you specify in your</span></div>
<div style="position:absolute;left:36.21px;top:393.04px" class="cls_011"><span class="cls_011">script’s startup message. We use 9600, which is the</span></div>
<div style="position:absolute;left:299.96px;top:393.45px" class="cls_011"><span class="cls_011">We also look at how, with a bit of soldering, we</span></div>
<div style="position:absolute;left:36.21px;top:408.03px" class="cls_011"><span class="cls_011">default, so there is no need to change anything</span></div>
<div style="position:absolute;left:287.97px;top:408.44px" class="cls_011"><span class="cls_011">can make this project into a shield that can be</span></div>
<div style="position:absolute;left:36.21px;top:423.01px" class="cls_011"><span class="cls_011">here.</span></div>
<div style="position:absolute;left:287.97px;top:423.42px" class="cls_011"><span class="cls_011">plugged into our Arduino board.</span></div>
<div style="position:absolute;left:48.20px;top:442.00px" class="cls_011"><span class="cls_011">So, all we need to do is launch the Serial</span></div>
<div style="position:absolute;left:36.21px;top:456.98px" class="cls_011"><span class="cls_011">Monitor and type some text into the Send field and</span></div>
<div style="position:absolute;left:295.97px;top:463.89px" class="cls_028"><span class="cls_028">COMPONENTS AND EQUIPMENT</span></div>
<div style="position:absolute;left:36.21px;top:471.97px" class="cls_011"><span class="cls_011">press</span><span class="cls_034"> RETURN</span><span class="cls_011">. We should then have our message</span></div>
<div style="position:absolute;left:36.21px;top:486.95px" class="cls_011"><span class="cls_011">flashed to us in Morse code.</span></div>
<div style="position:absolute;left:314.94px;top:487.26px" class="cls_029"><span class="cls_029">Description</span></div>
<div style="position:absolute;left:450.78px;top:487.26px" class="cls_029"><span class="cls_029">Appendix A</span></div>
<div style="position:absolute;left:314.94px;top:507.24px" class="cls_026"><span class="cls_026">Arduino Diecimila or</span></div>
<div style="position:absolute;left:314.94px;top:520.23px" class="cls_026"><span class="cls_026">Duemilanove board or clone</span></div>
<div style="position:absolute;left:476.19px;top:520.23px" class="cls_026"><span class="cls_026">1</span></div>
<div style="position:absolute;left:297.96px;top:537.21px" class="cls_026"><span class="cls_026">D1</span></div>
<div style="position:absolute;left:314.94px;top:537.21px" class="cls_026"><span class="cls_026">Luxeon 1W LED</span></div>
<div style="position:absolute;left:471.82px;top:537.21px" class="cls_026"><span class="cls_026">30</span></div>
<div style="position:absolute;left:297.96px;top:554.20px" class="cls_026"><span class="cls_026">R1</span></div>
<div style="position:absolute;left:314.94px;top:554.20px" class="cls_026"><span class="cls_026">270</span></div>
<div style="position:absolute;left:344.75px;top:554.20px" class="cls_026"><span class="cls_026">0.5W metal film resistor</span></div>
<div style="position:absolute;left:474.89px;top:554.20px" class="cls_026"><span class="cls_026">6</span></div>
<div style="position:absolute;left:297.96px;top:571.18px" class="cls_026"><span class="cls_026">R2  4</span></div>
<div style="position:absolute;left:333.90px;top:571.18px" class="cls_026"><span class="cls_026">1W resistor</span></div>
<div style="position:absolute;left:473.27px;top:571.18px" class="cls_026"><span class="cls_026">16</span></div>
<div style="position:absolute;left:297.96px;top:588.16px" class="cls_026"><span class="cls_026">T1</span></div>
<div style="position:absolute;left:314.94px;top:588.16px" class="cls_026"><span class="cls_026">BD139 power transistor</span></div>
<div style="position:absolute;left:473.27px;top:588.16px" class="cls_026"><span class="cls_026">41</span></div>
<div style="position:absolute;left:314.94px;top:605.15px" class="cls_026"><span class="cls_026">Protoshield kit (optional)</span></div>
<div style="position:absolute;left:475.04px;top:605.15px" class="cls_026"><span class="cls_026">3</span></div>
<div style="position:absolute;left:42.21px;top:675.49px" class="cls_025"><span class="cls_025">Figure 3-3</span></div>
<div style="position:absolute;left:102.15px;top:676.48px" class="cls_026"><span class="cls_026">The Serial Monitor window.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:40560px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background053.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">36</span></div>
<div style="position:absolute;left:77.50px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:36.12px;top:70.07px" class="cls_005"><span class="cls_005">Hardware</span></div>
<div style="position:absolute;left:299.86px;top:69.16px" class="cls_011"><span class="cls_011">This transistor has three leads: the emitter, the</span></div>
<div style="position:absolute;left:287.87px;top:84.14px" class="cls_011"><span class="cls_011">collector, and the base. And the basic principle is</span></div>
<div style="position:absolute;left:36.12px;top:93.55px" class="cls_011"><span class="cls_011">The LED we used in Project 3 used about 10 mA</span></div>
<div style="position:absolute;left:287.87px;top:99.13px" class="cls_011"><span class="cls_011">that a small current flowing through the base will</span></div>
<div style="position:absolute;left:36.12px;top:108.53px" class="cls_011"><span class="cls_011">at 2V. We can use this to calculate power using the</span></div>
<div style="position:absolute;left:287.87px;top:114.11px" class="cls_011"><span class="cls_011">allow a much bigger current to flow between the</span></div>
<div style="position:absolute;left:36.12px;top:123.52px" class="cls_011"><span class="cls_011">formula:</span></div>
<div style="position:absolute;left:287.87px;top:129.10px" class="cls_011"><span class="cls_011">collector and the emitter.</span></div>
<div style="position:absolute;left:53.10px;top:142.50px" class="cls_011"><span class="cls_011">P   I V</span></div>
<div style="position:absolute;left:299.86px;top:148.08px" class="cls_011"><span class="cls_011">Just how much bigger the current is depends on</span></div>
<div style="position:absolute;left:48.11px;top:161.48px" class="cls_011"><span class="cls_011">Power equals the voltage across something</span></div>
<div style="position:absolute;left:287.87px;top:163.06px" class="cls_011"><span class="cls_011">the transistor, but it is typically a factor of 100. So</span></div>
<div style="position:absolute;left:36.12px;top:176.47px" class="cls_011"><span class="cls_011">times the current flowing through it, and the unit</span></div>
<div style="position:absolute;left:287.87px;top:178.05px" class="cls_011"><span class="cls_011">a current of 10 mA flowing through the base could</span></div>
<div style="position:absolute;left:36.12px;top:191.45px" class="cls_011"><span class="cls_011">of power is the watt. So that LED would be</span></div>
<div style="position:absolute;left:287.87px;top:193.03px" class="cls_011"><span class="cls_011">cause up to 1 A to flow through the collector. So, if</span></div>
<div style="position:absolute;left:36.12px;top:206.44px" class="cls_011"><span class="cls_011">approximately 20 mW, or a fiftieth of the power of</span></div>
<div style="position:absolute;left:287.87px;top:208.02px" class="cls_011"><span class="cls_011">we kept the 270    resistor that we used to drive</span></div>
<div style="position:absolute;left:36.12px;top:221.42px" class="cls_011"><span class="cls_011">our 1W Luxeon LED. While an Arduino will cope</span></div>
<div style="position:absolute;left:287.87px;top:223.00px" class="cls_011"><span class="cls_011">the LED at 10 mA, we could expect it to be more</span></div>
<div style="position:absolute;left:36.12px;top:236.41px" class="cls_011"><span class="cls_011">just fine driving a 20 mW LED, it will not be able</span></div>
<div style="position:absolute;left:287.87px;top:237.99px" class="cls_011"><span class="cls_011">than enough to allow the transistor to switch the</span></div>
<div style="position:absolute;left:36.12px;top:251.39px" class="cls_011"><span class="cls_011">to directly drive the 1W LED.</span></div>
<div style="position:absolute;left:287.87px;top:252.97px" class="cls_011"><span class="cls_011">350mA needed by the Luxeon LED.</span></div>
<div style="position:absolute;left:48.11px;top:270.37px" class="cls_011"><span class="cls_011">This is a common problem in electronics, and</span></div>
<div style="position:absolute;left:299.86px;top:271.95px" class="cls_011"><span class="cls_011">The schematic diagram for our control circuit is</span></div>
<div style="position:absolute;left:36.12px;top:285.36px" class="cls_011"><span class="cls_011">can be summed up as getting a small current to</span></div>
<div style="position:absolute;left:287.87px;top:286.94px" class="cls_011"><span class="cls_011">shown in Figure 3-5.</span></div>
<div style="position:absolute;left:36.12px;top:300.34px" class="cls_011"><span class="cls_011">control a bigger current, something that is known</span></div>
<div style="position:absolute;left:299.86px;top:305.92px" class="cls_011"><span class="cls_011">The 270</span></div>
<div style="position:absolute;left:346.26px;top:305.92px" class="cls_011"><span class="cls_011">resistor (R1) limits the current that</span></div>
<div style="position:absolute;left:36.12px;top:315.33px" class="cls_011"><span class="cls_011">as amplification. The most commonly used</span></div>
<div style="position:absolute;left:287.87px;top:320.91px" class="cls_011"><span class="cls_011">flows through the base. We can calculate the current</span></div>
<div style="position:absolute;left:36.12px;top:330.31px" class="cls_011"><span class="cls_011">electronic component for amplification is the</span></div>
<div style="position:absolute;left:287.87px;top:335.89px" class="cls_011"><span class="cls_011">using the formula I   V/R. V will be 4.4V rather</span></div>
<div style="position:absolute;left:36.12px;top:345.30px" class="cls_011"><span class="cls_011">transistor, so that is what we will use to switch our</span></div>
<div style="position:absolute;left:287.87px;top:350.88px" class="cls_011"><span class="cls_011">than 5V because transistors normally have a voltage</span></div>
<div style="position:absolute;left:36.12px;top:360.28px" class="cls_011"><span class="cls_011">Luxeon LED on and off.</span></div>
<div style="position:absolute;left:287.87px;top:365.86px" class="cls_011"><span class="cls_011">of 0.6V between the base and emitter, and the highest</span></div>
<div style="position:absolute;left:48.11px;top:379.26px" class="cls_011"><span class="cls_011">The basic operation of a transistor is shown in</span></div>
<div style="position:absolute;left:287.87px;top:380.85px" class="cls_011"><span class="cls_011">voltage the Arduino can supply from an output pin is</span></div>
<div style="position:absolute;left:36.12px;top:394.25px" class="cls_011"><span class="cls_011">Figure 3-4. There are many different types of</span></div>
<div style="position:absolute;left:287.87px;top:395.83px" class="cls_011"><span class="cls_011">5V. So, the current will be 4.4/270</span></div>
<div style="position:absolute;left:447.33px;top:395.83px" class="cls_011"><span class="cls_011">16 mA.</span></div>
<div style="position:absolute;left:36.12px;top:409.23px" class="cls_011"><span class="cls_011">transistors, and probably the most common and the</span></div>
<div style="position:absolute;left:299.86px;top:414.81px" class="cls_011"><span class="cls_011">R2 limits the current flowing through the LED</span></div>
<div style="position:absolute;left:36.12px;top:424.22px" class="cls_011"><span class="cls_011">type that we are going to use is called an NPN</span></div>
<div style="position:absolute;left:287.87px;top:429.80px" class="cls_011"><span class="cls_011">to around 350 mA. We came up with the figure of</span></div>
<div style="position:absolute;left:36.12px;top:439.20px" class="cls_011"><span class="cls_011">bipolar transistor.</span></div>
<div style="position:absolute;left:287.87px;top:444.78px" class="cls_011"><span class="cls_011">4</span></div>
<div style="position:absolute;left:307.96px;top:444.78px" class="cls_011"><span class="cls_011">by using the formula R    V/I. V will be</span></div>
<div style="position:absolute;left:42.11px;top:711.23px" class="cls_025"><span class="cls_025">Figure 3-4</span></div>
<div style="position:absolute;left:102.05px;top:712.21px" class="cls_026"><span class="cls_026">The operation of an NPN bipolar transistor.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:41340px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background054.jpg" width=552 height=770></div>
<div style="position:absolute;left:328.38px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 3</span></div>
<div style="position:absolute;left:391.86px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    LED Projects</span></div>
<div style="position:absolute;left:503.36px;top:34.50px" class="cls_017"><span class="cls_017">37</span></div>
<div style="position:absolute;left:287.97px;top:69.16px" class="cls_011"><span class="cls_011">to current times voltage. In this case, the base current</span></div>
<div style="position:absolute;left:287.97px;top:84.14px" class="cls_011"><span class="cls_011">is small enough to ignore, so the power will just be</span></div>
<div style="position:absolute;left:287.97px;top:99.13px" class="cls_011"><span class="cls_011">0.6V * 350 mA, or 210 mW. It is always a good idea</span></div>
<div style="position:absolute;left:287.97px;top:114.11px" class="cls_011"><span class="cls_011">to pick a transistor that can easily cope with the</span></div>
<div style="position:absolute;left:287.97px;top:129.10px" class="cls_011"><span class="cls_011">power. In this case, we are going to use a BD139</span></div>
<div style="position:absolute;left:287.97px;top:144.08px" class="cls_011"><span class="cls_011">that has a power rating of over 12W. In Chapter 10,</span></div>
<div style="position:absolute;left:287.97px;top:159.07px" class="cls_011"><span class="cls_011">you can find a table of commonly used transistors.</span></div>
<div style="position:absolute;left:299.96px;top:178.05px" class="cls_011"><span class="cls_011">Now we need to put out components into the</span></div>
<div style="position:absolute;left:287.97px;top:193.03px" class="cls_011"><span class="cls_011">breadboard according to the layout shown in</span></div>
<div style="position:absolute;left:287.97px;top:208.02px" class="cls_011"><span class="cls_011">Figure 3-6, with the corresponding photograph of</span></div>
<div style="position:absolute;left:287.97px;top:223.00px" class="cls_011"><span class="cls_011">Figure 3-8. It is crucial to correctly identify the</span></div>
<div style="position:absolute;left:287.97px;top:237.99px" class="cls_011"><span class="cls_011">leads of the transistor and the LED. The metallic</span></div>
<div style="position:absolute;left:287.97px;top:252.97px" class="cls_011"><span class="cls_011">side of the transistor should be facing the board.</span></div>
<div style="position:absolute;left:287.97px;top:267.96px" class="cls_011"><span class="cls_011">The LED will have a little    symbol next to the</span></div>
<div style="position:absolute;left:42.21px;top:277.05px" class="cls_025"><span class="cls_025">Figure 3-5</span></div>
<div style="position:absolute;left:102.15px;top:278.04px" class="cls_026"><span class="cls_026">The schematic diagram for high-</span></div>
<div style="position:absolute;left:287.97px;top:282.94px" class="cls_011"><span class="cls_011">positive connection.</span></div>
<div style="position:absolute;left:102.15px;top:292.02px" class="cls_026"><span class="cls_026">power LED driving.</span></div>
<div style="position:absolute;left:299.96px;top:301.93px" class="cls_011"><span class="cls_011">Later in this project we are going to show you</span></div>
<div style="position:absolute;left:36.21px;top:317.07px" class="cls_011"><span class="cls_011">roughly 5 - 3 - 0.6</span></div>
<div style="position:absolute;left:136.42px;top:317.07px" class="cls_011"><span class="cls_011">1.4 V. 5V is the supply</span></div>
<div style="position:absolute;left:287.97px;top:316.91px" class="cls_011"><span class="cls_011">how you can move the project from the breadboard</span></div>
<div style="position:absolute;left:36.21px;top:332.05px" class="cls_011"><span class="cls_011">voltage, the LED drops roughly 3V and the</span></div>
<div style="position:absolute;left:287.97px;top:331.90px" class="cls_011"><span class="cls_011">to a more permanent design using the Arduino</span></div>
<div style="position:absolute;left:36.21px;top:347.04px" class="cls_011"><span class="cls_011">transistor 0.6V, so the resistance should be</span></div>
<div style="position:absolute;left:287.97px;top:346.88px" class="cls_011"><span class="cls_011">Protoshield. This requires some soldering, so if</span></div>
<div style="position:absolute;left:36.21px;top:362.02px" class="cls_011"><span class="cls_011">1.4V/350 mA</span></div>
<div style="position:absolute;left:112.12px;top:362.02px" class="cls_011"><span class="cls_011">4</span></div>
<div style="position:absolute;left:129.18px;top:362.02px" class="cls_011"><span class="cls_011">. We must also use a resistor</span></div>
<div style="position:absolute;left:287.97px;top:361.87px" class="cls_011"><span class="cls_011">you think you might go on to make a shield and</span></div>
<div style="position:absolute;left:36.21px;top:377.01px" class="cls_011"><span class="cls_011">that can cope with this relatively high current. The</span></div>
<div style="position:absolute;left:287.97px;top:376.85px" class="cls_011"><span class="cls_011">have the facilities to solder, I would solder some</span></div>
<div style="position:absolute;left:36.21px;top:391.99px" class="cls_011"><span class="cls_011">power that the resistor will burn off as heat is</span></div>
<div style="position:absolute;left:287.97px;top:391.84px" class="cls_011"><span class="cls_011">leads onto the Luxeon LED. Solder short lengths</span></div>
<div style="position:absolute;left:36.21px;top:406.98px" class="cls_011"><span class="cls_011">equal to the voltage across it multiplied by the</span></div>
<div style="position:absolute;left:287.97px;top:406.82px" class="cls_011"><span class="cls_011">of solid-core wire to two of the six tags around the</span></div>
<div style="position:absolute;left:36.21px;top:421.96px" class="cls_011"><span class="cls_011">current flowing through it. In this case, that is 350</span></div>
<div style="position:absolute;left:287.97px;top:421.81px" class="cls_011"><span class="cls_011">edge. They should be marked    and -. It is a good</span></div>
<div style="position:absolute;left:36.21px;top:436.95px" class="cls_011"><span class="cls_011">mA * 1.4 V, which is 490 mW. To be on the safe</span></div>
<div style="position:absolute;left:287.97px;top:436.79px" class="cls_011"><span class="cls_011">idea to color-code your leads with red for positive</span></div>
<div style="position:absolute;left:36.21px;top:451.93px" class="cls_011"><span class="cls_011">side, we have selected a 1W resistor.</span></div>
<div style="position:absolute;left:287.97px;top:451.78px" class="cls_011"><span class="cls_011">and blue or black for negative.</span></div>
<div style="position:absolute;left:48.20px;top:470.91px" class="cls_011"><span class="cls_011">In the same way, when choosing a transistor, we</span></div>
<div style="position:absolute;left:299.96px;top:470.76px" class="cls_011"><span class="cls_011">If you do not want to solder, that’s fine; you just</span></div>
<div style="position:absolute;left:36.21px;top:485.90px" class="cls_011"><span class="cls_011">need to make sure it can handle the power. When it</span></div>
<div style="position:absolute;left:287.97px;top:485.74px" class="cls_011"><span class="cls_011">need to carefully twist the solid-core wire around</span></div>
<div style="position:absolute;left:36.21px;top:500.88px" class="cls_011"><span class="cls_011">is turned on, the transistor will consume power equal</span></div>
<div style="position:absolute;left:287.97px;top:500.73px" class="cls_011"><span class="cls_011">the connectors as shown in Figure 3-7.</span></div>
<div style="position:absolute;left:42.21px;top:709.86px" class="cls_025"><span class="cls_025">Figure 3-6</span></div>
<div style="position:absolute;left:102.15px;top:710.85px" class="cls_026"><span class="cls_026">Project 4 breadboard layout.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:42120px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background055.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">38</span></div>
<div style="position:absolute;left:77.18px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:299.86px;top:69.16px" class="cls_011"><span class="cls_011">The LED actually has a very wide angle of</span></div>
<div style="position:absolute;left:287.87px;top:84.14px" class="cls_011"><span class="cls_011">view, so one variation on this project would be to</span></div>
<div style="position:absolute;left:287.87px;top:99.13px" class="cls_011"><span class="cls_011">adapt an LED torch where the LED has a reflector</span></div>
<div style="position:absolute;left:287.87px;top:114.11px" class="cls_011"><span class="cls_011">to focus the beam.</span></div>
<div style="position:absolute;left:287.87px;top:147.09px" class="cls_005"><span class="cls_005">Making a Shield</span></div>
<div style="position:absolute;left:287.87px;top:170.56px" class="cls_011"><span class="cls_011">This is the first project that we have made that has</span></div>
<div style="position:absolute;left:287.87px;top:185.55px" class="cls_011"><span class="cls_011">enough components to justify making an Arduino</span></div>
<div style="position:absolute;left:42.11px;top:200.92px" class="cls_025"><span class="cls_025">Figure 3-7</span></div>
<div style="position:absolute;left:102.05px;top:201.91px" class="cls_026"><span class="cls_026">Attaching leads to the Luxeon LED</span></div>
<div style="position:absolute;left:287.87px;top:200.53px" class="cls_011"><span class="cls_011">Shield circuit board to sit on top of the Arduino</span></div>
<div style="position:absolute;left:102.05px;top:215.90px" class="cls_026"><span class="cls_026">without soldering.</span></div>
<div style="position:absolute;left:287.87px;top:215.52px" class="cls_011"><span class="cls_011">board itself. We are also going to use this hardware</span></div>
<div style="position:absolute;left:287.87px;top:230.50px" class="cls_011"><span class="cls_011">with minor modifications in Project 6, so perhaps</span></div>
<div style="position:absolute;left:48.11px;top:240.79px" class="cls_011"><span class="cls_011">Figure 3-8 shows the fully assembled</span></div>
<div style="position:absolute;left:287.87px;top:245.49px" class="cls_011"><span class="cls_011">it is time to make ourselves a Luxeon LED Shield.</span></div>
<div style="position:absolute;left:36.12px;top:255.78px" class="cls_011"><span class="cls_011">breadboard.</span></div>
<div style="position:absolute;left:299.86px;top:264.47px" class="cls_011"><span class="cls_011">Making your own circuit boards at home is</span></div>
<div style="position:absolute;left:287.87px;top:279.45px" class="cls_011"><span class="cls_011">perfectly possible, but requires the use of noxious</span></div>
<div style="position:absolute;left:36.12px;top:288.75px" class="cls_005"><span class="cls_005">Software</span></div>
<div style="position:absolute;left:287.87px;top:294.44px" class="cls_011"><span class="cls_011">chemicals and a fair amount of equipment. But</span></div>
<div style="position:absolute;left:287.87px;top:309.42px" class="cls_011"><span class="cls_011">fortunately, there is another great piece of Arduino-</span></div>
<div style="position:absolute;left:36.12px;top:312.22px" class="cls_011"><span class="cls_011">The only change in the software from Project 3 is</span></div>
<div style="position:absolute;left:287.87px;top:324.41px" class="cls_011"><span class="cls_011">related open-source hardware called the Arduino</span></div>
<div style="position:absolute;left:36.12px;top:327.21px" class="cls_011"><span class="cls_011">that we are using digital output pin 11 rather than</span></div>
<div style="position:absolute;left:287.87px;top:339.39px" class="cls_011"><span class="cls_011">Protoshield. If you shop around, these can be</span></div>
<div style="position:absolute;left:36.12px;top:342.19px" class="cls_011"><span class="cls_011">pin 12.</span></div>
<div style="position:absolute;left:287.87px;top:354.38px" class="cls_011"><span class="cls_011">obtained for $10 or less and will provide you with</span></div>
<div style="position:absolute;left:287.87px;top:369.36px" class="cls_011"><span class="cls_011">a kit of all you need to make a basic shield. That</span></div>
<div style="position:absolute;left:36.12px;top:375.16px" class="cls_005"><span class="cls_005">Putting It All Together</span></div>
<div style="position:absolute;left:287.87px;top:384.35px" class="cls_011"><span class="cls_011">includes the board itself; the header connector pins</span></div>
<div style="position:absolute;left:36.12px;top:398.64px" class="cls_011"><span class="cls_011">Load the completed sketch for Project 4 from your</span></div>
<div style="position:absolute;left:287.87px;top:399.33px" class="cls_011"><span class="cls_011">that fit into the Arduino; and some LEDs,</span></div>
<div style="position:absolute;left:36.12px;top:413.63px" class="cls_011"><span class="cls_011">Arduino Sketchbook and download it onto your</span></div>
<div style="position:absolute;left:287.87px;top:414.32px" class="cls_011"><span class="cls_011">switches, and resistors. Please be aware that there</span></div>
<div style="position:absolute;left:36.12px;top:428.61px" class="cls_011"><span class="cls_011">board (see Chapter 1).</span></div>
<div style="position:absolute;left:287.87px;top:429.30px" class="cls_011"><span class="cls_011">are several variations of the Protoshield board, so</span></div>
<div style="position:absolute;left:287.87px;top:444.29px" class="cls_011"><span class="cls_011">you may have to adapt the following design if your</span></div>
<div style="position:absolute;left:48.11px;top:447.59px" class="cls_011"><span class="cls_011">Again, testing the project is the same as for</span></div>
<div style="position:absolute;left:287.87px;top:459.27px" class="cls_011"><span class="cls_011">board is slightly different.</span></div>
<div style="position:absolute;left:36.12px;top:462.58px" class="cls_011"><span class="cls_011">Project 3. You will need to open the Serial Monitor</span></div>
<div style="position:absolute;left:36.12px;top:477.56px" class="cls_011"><span class="cls_011">window and just start typing.</span></div>
<div style="position:absolute;left:42.11px;top:710.63px" class="cls_025"><span class="cls_025">Figure 3-8</span></div>
<div style="position:absolute;left:102.05px;top:711.61px" class="cls_026"><span class="cls_026">Photograph of complete breadboard for Project 4.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:42900px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background056.jpg" width=552 height=770></div>
<div style="position:absolute;left:327.95px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 3</span></div>
<div style="position:absolute;left:391.43px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    LED Projects</span></div>
<div style="position:absolute;left:502.93px;top:34.50px" class="cls_017"><span class="cls_017">39</span></div>
<div style="position:absolute;left:48.20px;top:69.16px" class="cls_011"><span class="cls_011">The components for a Protoshield are shown in</span></div>
<div style="position:absolute;left:36.21px;top:84.15px" class="cls_011"><span class="cls_011">Figure 3-9, the most important part being the</span></div>
<div style="position:absolute;left:36.21px;top:99.13px" class="cls_011"><span class="cls_011">Protoshield circuit board (PCB). It is possible to</span></div>
<div style="position:absolute;left:36.21px;top:114.12px" class="cls_011"><span class="cls_011">just buy the Protoshield circuit board on its own,</span></div>
<div style="position:absolute;left:36.21px;top:129.10px" class="cls_011"><span class="cls_011">which for many projects will be all you need.</span></div>
<div style="position:absolute;left:48.20px;top:148.08px" class="cls_011"><span class="cls_011">We are not going to solder all the components</span></div>
<div style="position:absolute;left:36.21px;top:163.07px" class="cls_011"><span class="cls_011">that came with our kit onto the board. We are just</span></div>
<div style="position:absolute;left:36.21px;top:178.05px" class="cls_011"><span class="cls_011">going to add the power LED, its resistor, and just</span></div>
<div style="position:absolute;left:36.21px;top:193.04px" class="cls_011"><span class="cls_011">the bottom pins that connect to the Arduino board,</span></div>
<div style="position:absolute;left:36.21px;top:208.02px" class="cls_011"><span class="cls_011">as this is going to be a top shield and will not have</span></div>
<div style="position:absolute;left:36.21px;top:223.01px" class="cls_011"><span class="cls_011">any other shields on top of it.</span></div>
<div style="position:absolute;left:48.20px;top:241.99px" class="cls_011"><span class="cls_011">A good guide for assembling circuit boards is to</span></div>
<div style="position:absolute;left:36.21px;top:256.97px" class="cls_011"><span class="cls_011">solder in place the lowest components first. So in</span></div>
<div style="position:absolute;left:36.21px;top:271.96px" class="cls_011"><span class="cls_011">this case we will solder the resistors, the LED, the</span></div>
<div style="position:absolute;left:36.21px;top:286.94px" class="cls_011"><span class="cls_011">reset switch, and then the bottom pin connectors.</span></div>
<div style="position:absolute;left:293.96px;top:286.44px" class="cls_025"><span class="cls_025">Figure 3-10</span></div>
<div style="position:absolute;left:353.90px;top:287.43px" class="cls_026"><span class="cls_026">The underside of the Protoshield.</span></div>
<div style="position:absolute;left:48.20px;top:305.93px" class="cls_011"><span class="cls_011">The 1K resistor, LED, and switch are all pushed</span></div>
<div style="position:absolute;left:299.96px;top:316.31px" class="cls_011"><span class="cls_011">A good way to ensure that the headers are in the</span></div>
<div style="position:absolute;left:36.21px;top:320.91px" class="cls_011"><span class="cls_011">through from the top of the board and soldered</span></div>
<div style="position:absolute;left:287.97px;top:331.30px" class="cls_011"><span class="cls_011">right place is to fit the sections of header into an</span></div>
<div style="position:absolute;left:36.21px;top:335.90px" class="cls_011"><span class="cls_011">underneath (Figure 3-10). The short part of the</span></div>
<div style="position:absolute;left:287.97px;top:346.28px" class="cls_011"><span class="cls_011">Arduino board and then place the shield on top and</span></div>
<div style="position:absolute;left:36.21px;top:350.88px" class="cls_011"><span class="cls_011">connector pins will be pushed up from underneath</span></div>
<div style="position:absolute;left:287.97px;top:361.27px" class="cls_011"><span class="cls_011">solder the pins while it’s still plugged into the</span></div>
<div style="position:absolute;left:36.21px;top:365.87px" class="cls_011"><span class="cls_011">the board and soldered on top.</span></div>
<div style="position:absolute;left:287.97px;top:376.25px" class="cls_011"><span class="cls_011">Arduino board. This will also ensure that the pins</span></div>
<div style="position:absolute;left:48.20px;top:384.85px" class="cls_011"><span class="cls_011">When soldering the connector pins, make sure</span></div>
<div style="position:absolute;left:287.97px;top:391.24px" class="cls_011"><span class="cls_011">are straight.</span></div>
<div style="position:absolute;left:36.21px;top:399.83px" class="cls_011"><span class="cls_011">they are lined up correctly, as there are two parallel</span></div>
<div style="position:absolute;left:299.96px;top:410.22px" class="cls_011"><span class="cls_011">When all the components have been soldered in</span></div>
<div style="position:absolute;left:36.21px;top:414.82px" class="cls_011"><span class="cls_011">rows for the connectors: one for the connection to</span></div>
<div style="position:absolute;left:287.97px;top:425.21px" class="cls_011"><span class="cls_011">place, you should have a board that looks like</span></div>
<div style="position:absolute;left:36.21px;top:429.80px" class="cls_011"><span class="cls_011">the pins below and one for the sockets, which we</span></div>
<div style="position:absolute;left:287.97px;top:440.19px" class="cls_011"><span class="cls_011">Figure 3-11.</span></div>
<div style="position:absolute;left:36.21px;top:444.79px" class="cls_011"><span class="cls_011">are not using, that are intended to connect to</span></div>
<div style="position:absolute;left:36.21px;top:459.77px" class="cls_011"><span class="cls_011">further shields.</span></div>
<div style="position:absolute;left:299.96px;top:459.17px" class="cls_011"><span class="cls_011">We can now add our components for this</span></div>
<div style="position:absolute;left:287.97px;top:474.16px" class="cls_011"><span class="cls_011">project, which we can take from the breadboard.</span></div>
<div style="position:absolute;left:287.97px;top:489.14px" class="cls_011"><span class="cls_011">First, line up all the components in their intended</span></div>
<div style="position:absolute;left:287.97px;top:504.13px" class="cls_011"><span class="cls_011">places according to the layout of Figure 3-12 to</span></div>
<div style="position:absolute;left:287.97px;top:519.11px" class="cls_011"><span class="cls_011">make sure everything fits in the available space.</span></div>
<div style="position:absolute;left:299.96px;top:538.09px" class="cls_011"><span class="cls_011">This kind of board is double-sided—that is, you</span></div>
<div style="position:absolute;left:287.97px;top:553.08px" class="cls_011"><span class="cls_011">can solder to the top or bottom of the board. As</span></div>
<div style="position:absolute;left:287.97px;top:568.06px" class="cls_011"><span class="cls_011">you can see from the layout in Figure 3-12, some</span></div>
<div style="position:absolute;left:287.97px;top:583.05px" class="cls_011"><span class="cls_011">of the connections are in strips like a breadboard.</span></div>
<div style="position:absolute;left:299.96px;top:602.03px" class="cls_011"><span class="cls_011">We are going to mount all the components on</span></div>
<div style="position:absolute;left:287.97px;top:617.02px" class="cls_011"><span class="cls_011">the top side, with the leads pushed through and</span></div>
<div style="position:absolute;left:287.97px;top:632.00px" class="cls_011"><span class="cls_011">soldered on the underside where they emerge from</span></div>
<div style="position:absolute;left:287.97px;top:646.99px" class="cls_011"><span class="cls_011">the board. The leads of the components underneath</span></div>
<div style="position:absolute;left:287.97px;top:661.97px" class="cls_011"><span class="cls_011">can then be connected up and excess leads snipped</span></div>
<div style="position:absolute;left:287.97px;top:676.96px" class="cls_011"><span class="cls_011">off. If necessary, lengths of solid-core wire can be</span></div>
<div style="position:absolute;left:287.97px;top:691.94px" class="cls_011"><span class="cls_011">used where the leads will not reach.</span></div>
<div style="position:absolute;left:42.21px;top:709.03px" class="cls_025"><span class="cls_025">Figure 3-9</span></div>
<div style="position:absolute;left:102.15px;top:710.02px" class="cls_026"><span class="cls_026">Protoshield in kit form.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:43680px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background057.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">40</span></div>
<div style="position:absolute;left:78.86px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:42.11px;top:292.83px" class="cls_025"><span class="cls_025">Figure 3-11</span></div>
<div style="position:absolute;left:102.05px;top:293.82px" class="cls_026"><span class="cls_026">Assembled basic Protoshield.</span></div>
<div style="position:absolute;left:293.87px;top:292.83px" class="cls_025"><span class="cls_025">Figure 3-12</span></div>
<div style="position:absolute;left:353.81px;top:293.82px" class="cls_026"><span class="cls_026">Project 4 Protoshield layout.</span></div>
<div style="position:absolute;left:48.11px;top:322.71px" class="cls_011"><span class="cls_011">Figure 3-13 shows the completed shield. Power</span></div>
<div style="position:absolute;left:287.87px;top:323.02px" class="cls_021"><span class="cls_021">Summary</span></div>
<div style="position:absolute;left:36.12px;top:337.70px" class="cls_011"><span class="cls_011">up your board and test it out. If it does not work as</span></div>
<div style="position:absolute;left:287.87px;top:349.50px" class="cls_011"><span class="cls_011">So, we have made a start on some simple LED</span></div>
<div style="position:absolute;left:36.12px;top:352.68px" class="cls_011"><span class="cls_011">soon as you power it up, disconnect it from the</span></div>
<div style="position:absolute;left:287.87px;top:364.48px" class="cls_011"><span class="cls_011">Projects and discovered how to use high power</span></div>
<div style="position:absolute;left:36.12px;top:367.67px" class="cls_011"><span class="cls_011">power right away and carefully check the shield</span></div>
<div style="position:absolute;left:287.87px;top:379.47px" class="cls_011"><span class="cls_011">Luxeon LEDs. We have also learnt a bit more</span></div>
<div style="position:absolute;left:36.12px;top:382.65px" class="cls_011"><span class="cls_011">for any short circuits or broken connections using a</span></div>
<div style="position:absolute;left:287.87px;top:394.45px" class="cls_011"><span class="cls_011">about programming our Arduino board in C.</span></div>
<div style="position:absolute;left:36.12px;top:397.64px" class="cls_011"><span class="cls_011">multimeter.</span></div>
<div style="position:absolute;left:299.86px;top:413.43px" class="cls_011"><span class="cls_011">In the next chapter, we are going to extend this</span></div>
<div style="position:absolute;left:48.11px;top:416.62px" class="cls_011"><span class="cls_011">Congratulations! You have created your first</span></div>
<div style="position:absolute;left:287.87px;top:428.42px" class="cls_011"><span class="cls_011">by looking at some more LED-based projects</span></div>
<div style="position:absolute;left:36.12px;top:431.61px" class="cls_011"><span class="cls_011">Arduino Shield, and it is one that we can reuse in</span></div>
<div style="position:absolute;left:287.87px;top:443.40px" class="cls_011"><span class="cls_011">including a model traffic signal and a high power</span></div>
<div style="position:absolute;left:36.12px;top:446.59px" class="cls_011"><span class="cls_011">later projects.</span></div>
<div style="position:absolute;left:287.87px;top:458.39px" class="cls_011"><span class="cls_011">strobe light.</span></div>
<div style="position:absolute;left:42.11px;top:710.03px" class="cls_025"><span class="cls_025">Figure 3-13</span></div>
<div style="position:absolute;left:102.05px;top:711.01px" class="cls_026"><span class="cls_026">Complete Luxeon shield attached to an Arduino board.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:44460px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background058.jpg" width=552 height=770></div>
<div style="position:absolute;left:195.94px;top:54.87px" class="cls_024"><span class="cls_024">C H A P T E R</span></div>
<div style="position:absolute;left:343.78px;top:54.87px" class="cls_024"><span class="cls_024">4</span></div>
<div style="position:absolute;left:144.92px;top:103.55px" class="cls_023"><span class="cls_023">More LED Projects</span></div>
<div style="position:absolute;left:36.21px;top:223.00px" class="cls_016"><span class="cls_016">I</span><span class="cls_019">N THIS CHAPTER</span><span class="cls_016">,</span><span class="cls_011"> we are going to build on those</span></div>
<div style="position:absolute;left:293.96px;top:227.96px" class="cls_031"><span class="cls_031">int ledPin = 10;</span></div>
<div style="position:absolute;left:36.21px;top:237.98px" class="cls_011"><span class="cls_011">versatile little components, LEDs, and learn a bit</span></div>
<div style="position:absolute;left:293.96px;top:240.95px" class="cls_031"><span class="cls_031">int switchPin = 11;</span></div>
<div style="position:absolute;left:36.21px;top:252.97px" class="cls_011"><span class="cls_011">more about digital inputs and outputs, including</span></div>
<div style="position:absolute;left:293.96px;top:266.93px" class="cls_031"><span class="cls_031">void setup()</span></div>
<div style="position:absolute;left:36.21px;top:267.95px" class="cls_011"><span class="cls_011">how to use push-button switches.</span></div>
<div style="position:absolute;left:293.96px;top:279.91px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:48.20px;top:286.93px" class="cls_011"><span class="cls_011">The projects that we are going to build in this</span></div>
<div style="position:absolute;left:305.83px;top:292.90px" class="cls_031"><span class="cls_031">pinMode(ledPin, OUTPUT);</span></div>
<div style="position:absolute;left:36.21px;top:301.92px" class="cls_011"><span class="cls_011">chapter are a model traffic signal, two strobe light</span></div>
<div style="position:absolute;left:305.83px;top:305.89px" class="cls_031"><span class="cls_031">pinMode(switchPin, INPUT);</span></div>
<div style="position:absolute;left:36.21px;top:316.90px" class="cls_011"><span class="cls_011">projects, and a bright light module using high-</span></div>
<div style="position:absolute;left:293.96px;top:318.87px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:36.21px;top:331.89px" class="cls_011"><span class="cls_011">power Luxeon LEDs.</span></div>
<div style="position:absolute;left:287.97px;top:364.33px" class="cls_027"><span class="cls_027">Project 5</span></div>
<div style="position:absolute;left:36.21px;top:372.35px" class="cls_021"><span class="cls_021">Digital Inputs and Outputs</span></div>
<div style="position:absolute;left:287.97px;top:384.31px" class="cls_021"><span class="cls_021">Model Traffic Signal</span></div>
<div style="position:absolute;left:36.21px;top:398.83px" class="cls_011"><span class="cls_011">The digital pins 0 to 12 can all be used as either an</span></div>
<div style="position:absolute;left:287.97px;top:410.79px" class="cls_011"><span class="cls_011">So now we know how to set a digital pin to be an</span></div>
<div style="position:absolute;left:36.21px;top:413.81px" class="cls_011"><span class="cls_011">input or an output. This is set in your sketch. Since</span></div>
<div style="position:absolute;left:287.97px;top:425.77px" class="cls_011"><span class="cls_011">input, we can build a project for model traffic</span></div>
<div style="position:absolute;left:36.21px;top:428.80px" class="cls_011"><span class="cls_011">you are going to be connecting electronics to one</span></div>
<div style="position:absolute;left:287.97px;top:440.76px" class="cls_011"><span class="cls_011">signals using red, yellow, and green LEDs. Every</span></div>
<div style="position:absolute;left:36.21px;top:443.78px" class="cls_011"><span class="cls_011">of these pins, it is unlikely that you are going to</span></div>
<div style="position:absolute;left:287.97px;top:455.74px" class="cls_011"><span class="cls_011">time we press the button, the traffic signal will go</span></div>
<div style="position:absolute;left:36.21px;top:458.77px" class="cls_011"><span class="cls_011">want to change the mode of a pin. That is, once a</span></div>
<div style="position:absolute;left:287.97px;top:470.73px" class="cls_011"><span class="cls_011">to the next step in the sequence. In the UK, the</span></div>
<div style="position:absolute;left:36.21px;top:473.75px" class="cls_011"><span class="cls_011">pin is set to be an output, you are not going to</span></div>
<div style="position:absolute;left:287.97px;top:485.71px" class="cls_011"><span class="cls_011">sequence of such traffic signals is red, red and</span></div>
<div style="position:absolute;left:36.21px;top:488.74px" class="cls_011"><span class="cls_011">change it to be an input midway through a sketch.</span></div>
<div style="position:absolute;left:287.97px;top:500.70px" class="cls_011"><span class="cls_011">amber together, green, amber, and then back to red.</span></div>
<div style="position:absolute;left:48.20px;top:507.72px" class="cls_011"><span class="cls_011">For this reason, it is a convention to set the</span></div>
<div style="position:absolute;left:299.96px;top:519.68px" class="cls_011"><span class="cls_011">As a bonus, if we hold the button down, the</span></div>
<div style="position:absolute;left:36.21px;top:522.70px" class="cls_011"><span class="cls_011">direction of a digital pin in the setup function that</span></div>
<div style="position:absolute;left:287.97px;top:534.66px" class="cls_011"><span class="cls_011">lights will change in sequence by themselves with</span></div>
<div style="position:absolute;left:36.21px;top:537.69px" class="cls_011"><span class="cls_011">must be defined in every sketch.</span></div>
<div style="position:absolute;left:287.97px;top:549.65px" class="cls_011"><span class="cls_011">a delay between each step.</span></div>
<div style="position:absolute;left:48.20px;top:556.67px" class="cls_011"><span class="cls_011">For example, the following code sets digital pin</span></div>
<div style="position:absolute;left:299.96px;top:568.63px" class="cls_011"><span class="cls_011">The components for Project 5 are listed next.</span></div>
<div style="position:absolute;left:36.21px;top:571.65px" class="cls_011"><span class="cls_011">10 to be an output and digital pin 11 to be an</span></div>
<div style="position:absolute;left:287.97px;top:583.61px" class="cls_011"><span class="cls_011">When using LEDs, for best effect, try and pick</span></div>
<div style="position:absolute;left:36.21px;top:586.64px" class="cls_011"><span class="cls_011">input. Note how we use a variable declaration in</span></div>
<div style="position:absolute;left:287.97px;top:598.60px" class="cls_011"><span class="cls_011">LEDs of similar brightness.</span></div>
<div style="position:absolute;left:36.21px;top:601.62px" class="cls_011"><span class="cls_011">our sketch to make it easier to change the pin used</span></div>
<div style="position:absolute;left:36.21px;top:616.61px" class="cls_011"><span class="cls_011">for a particular purpose later on.</span></div>
<div style="position:absolute;left:504.65px;top:718.82px" class="cls_017"><span class="cls_017">41</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:45240px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background059.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">42</span></div>
<div style="position:absolute;left:77.79px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:287.87px;top:69.16px" class="cls_011"><span class="cls_011">resistor. The digital pin 5 is “pulled” down to GND</span></div>
<div style="position:absolute;left:44.12px;top:74.27px" class="cls_028"><span class="cls_028">COMPONENTS AND EQUIPMENT</span></div>
<div style="position:absolute;left:287.87px;top:84.15px" class="cls_011"><span class="cls_011">by R4 until the switch is pressed, which will make</span></div>
<div style="position:absolute;left:82.07px;top:97.64px" class="cls_029"><span class="cls_029">Description</span></div>
<div style="position:absolute;left:203.96px;top:97.64px" class="cls_029"><span class="cls_029">Appendix</span></div>
<div style="position:absolute;left:287.87px;top:99.13px" class="cls_011"><span class="cls_011">it go to 5V.</span></div>
<div style="position:absolute;left:82.07px;top:117.62px" class="cls_026"><span class="cls_026">Arduino Diecimila or</span></div>
<div style="position:absolute;left:299.86px;top:118.11px" class="cls_011"><span class="cls_011">A photograph of the project is shown in Figure</span></div>
<div style="position:absolute;left:82.07px;top:130.61px" class="cls_026"><span class="cls_026">Duemilanove board or clone</span></div>
<div style="position:absolute;left:224.34px;top:130.61px" class="cls_026"><span class="cls_026">1</span></div>
<div style="position:absolute;left:287.87px;top:133.10px" class="cls_011"><span class="cls_011">4-2 and the board layout in Figure 4-3.</span></div>
<div style="position:absolute;left:46.11px;top:147.59px" class="cls_026"><span class="cls_026">D1</span></div>
<div style="position:absolute;left:82.07px;top:147.59px" class="cls_026"><span class="cls_026">5-mm red LED</span></div>
<div style="position:absolute;left:220.49px;top:147.59px" class="cls_026"><span class="cls_026">23</span></div>
<div style="position:absolute;left:46.11px;top:164.58px" class="cls_026"><span class="cls_026">D2</span></div>
<div style="position:absolute;left:82.07px;top:164.58px" class="cls_026"><span class="cls_026">5-mm yellow LED</span></div>
<div style="position:absolute;left:220.35px;top:164.58px" class="cls_026"><span class="cls_026">24</span></div>
<div style="position:absolute;left:287.87px;top:166.07px" class="cls_005"><span class="cls_005">Software</span></div>
<div style="position:absolute;left:46.11px;top:181.56px" class="cls_026"><span class="cls_026">D3</span></div>
<div style="position:absolute;left:82.07px;top:181.56px" class="cls_026"><span class="cls_026">5-mm green LED</span></div>
<div style="position:absolute;left:220.50px;top:181.56px" class="cls_026"><span class="cls_026">25</span></div>
<div style="position:absolute;left:287.87px;top:189.54px" class="cls_011"><span class="cls_011">The sketch for Project 5 is shown in Listing</span></div>
<div style="position:absolute;left:46.11px;top:198.54px" class="cls_026"><span class="cls_026">R1-R3</span></div>
<div style="position:absolute;left:82.08px;top:198.54px" class="cls_026"><span class="cls_026">270</span></div>
<div style="position:absolute;left:111.88px;top:198.54px" class="cls_026"><span class="cls_026">0.5W metal film</span></div>
<div style="position:absolute;left:287.87px;top:204.53px" class="cls_011"><span class="cls_011">Project 5.</span></div>
<div style="position:absolute;left:82.07px;top:211.53px" class="cls_026"><span class="cls_026">resistor</span></div>
<div style="position:absolute;left:223.03px;top:211.53px" class="cls_026"><span class="cls_026">6</span></div>
<div style="position:absolute;left:299.86px;top:223.51px" class="cls_011"><span class="cls_011">The sketch is fairly self-explanatory. We only</span></div>
<div style="position:absolute;left:46.11px;top:228.51px" class="cls_026"><span class="cls_026">R4</span></div>
<div style="position:absolute;left:82.07px;top:228.51px" class="cls_026"><span class="cls_026">100 K</span></div>
<div style="position:absolute;left:117.53px;top:228.51px" class="cls_026"><span class="cls_026">0.5W metal film</span></div>
<div style="position:absolute;left:82.07px;top:241.50px" class="cls_026"><span class="cls_026">resistor</span></div>
<div style="position:absolute;left:221.57px;top:241.50px" class="cls_026"><span class="cls_026">13</span></div>
<div style="position:absolute;left:287.87px;top:238.50px" class="cls_011"><span class="cls_011">check to see if the switch is pressed once a second,</span></div>
<div style="position:absolute;left:287.87px;top:253.48px" class="cls_011"><span class="cls_011">so pressing the switch rapidly will not move the</span></div>
<div style="position:absolute;left:46.11px;top:258.48px" class="cls_026"><span class="cls_026">S1</span></div>
<div style="position:absolute;left:82.07px;top:258.48px" class="cls_026"><span class="cls_026">Miniature push to make</span></div>
<div style="position:absolute;left:82.07px;top:271.47px" class="cls_026"><span class="cls_026">switch</span></div>
<div style="position:absolute;left:220.09px;top:271.47px" class="cls_026"><span class="cls_026">48</span></div>
<div style="position:absolute;left:287.87px;top:268.47px" class="cls_011"><span class="cls_011">light sequence on. However, if we press and hold</span></div>
<div style="position:absolute;left:287.87px;top:283.45px" class="cls_011"><span class="cls_011">the switch, the lights will automatically sequence</span></div>
<div style="position:absolute;left:287.87px;top:298.44px" class="cls_011"><span class="cls_011">round.</span></div>
<div style="position:absolute;left:36.12px;top:304.84px" class="cls_005"><span class="cls_005">Hardware</span></div>
<div style="position:absolute;left:299.86px;top:317.42px" class="cls_011"><span class="cls_011">We use a separate function setLights to set the</span></div>
<div style="position:absolute;left:36.12px;top:328.32px" class="cls_011"><span class="cls_011">The schematic diagram for the project is shown in</span></div>
<div style="position:absolute;left:287.87px;top:332.40px" class="cls_011"><span class="cls_011">state of each LED, reducing three lines of code to</span></div>
<div style="position:absolute;left:36.12px;top:343.30px" class="cls_011"><span class="cls_011">Figure 4-1.</span></div>
<div style="position:absolute;left:287.87px;top:347.39px" class="cls_011"><span class="cls_011">one.</span></div>
<div style="position:absolute;left:48.11px;top:362.28px" class="cls_011"><span class="cls_011">The LEDs are connected in the same way as our</span></div>
<div style="position:absolute;left:36.12px;top:377.27px" class="cls_011"><span class="cls_011">earlier project, each with a current-limiting</span></div>
<div style="position:absolute;left:42.11px;top:709.86px" class="cls_025"><span class="cls_025">Figure 4-1</span></div>
<div style="position:absolute;left:102.05px;top:710.85px" class="cls_026"><span class="cls_026">Schematic diagram for Project 5.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:46020px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background060.jpg" width=552 height=770></div>
<div style="position:absolute;left:298.94px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 4</span></div>
<div style="position:absolute;left:363.00px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    More LED Projects</span></div>
<div style="position:absolute;left:502.66px;top:34.50px" class="cls_017"><span class="cls_017">43</span></div>
<div style="position:absolute;left:42.21px;top:308.82px" class="cls_025"><span class="cls_025">Figure 4-2</span></div>
<div style="position:absolute;left:102.15px;top:309.81px" class="cls_026"><span class="cls_026">Project 5. A model traffic signal.</span></div>
<div style="position:absolute;left:42.21px;top:575.56px" class="cls_025"><span class="cls_025">Figure 4-3</span></div>
<div style="position:absolute;left:102.15px;top:576.55px" class="cls_026"><span class="cls_026">Breadboard layout for Project 5.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:46800px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background061.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">44</span></div>
<div style="position:absolute;left:78.45px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:287.87px;top:70.07px" class="cls_005"><span class="cls_005">Putting It All Together</span></div>
<div style="position:absolute;left:43.11px;top:76.46px" class="cls_032"><span class="cls_032">LISTING PROJECT 5</span></div>
<div style="position:absolute;left:287.87px;top:93.55px" class="cls_011"><span class="cls_011">Load the completed sketch for Project 5 from your</span></div>
<div style="position:absolute;left:52.10px;top:98.70px" class="cls_031"><span class="cls_031">int redPin = 2;</span></div>
<div style="position:absolute;left:52.10px;top:110.94px" class="cls_031"><span class="cls_031">int yellowPin = 3;</span></div>
<div style="position:absolute;left:287.87px;top:108.53px" class="cls_011"><span class="cls_011">Arduino Sketchbook (see Chapter 1).</span></div>
<div style="position:absolute;left:52.10px;top:123.18px" class="cls_031"><span class="cls_031">int greenPin = 4;</span></div>
<div style="position:absolute;left:299.86px;top:127.51px" class="cls_011"><span class="cls_011">Test the project by holding down the button and</span></div>
<div style="position:absolute;left:52.10px;top:135.42px" class="cls_031"><span class="cls_031">int buttonPin = 5;</span></div>
<div style="position:absolute;left:287.87px;top:142.50px" class="cls_011"><span class="cls_011">make sure the LEDs all light in sequence.</span></div>
<div style="position:absolute;left:52.10px;top:159.89px" class="cls_031"><span class="cls_031">int state = 0;</span></div>
<div style="position:absolute;left:52.10px;top:184.37px" class="cls_031"><span class="cls_031">void setup()</span></div>
<div style="position:absolute;left:287.87px;top:180.96px" class="cls_027"><span class="cls_027">Project 6</span></div>
<div style="position:absolute;left:52.10px;top:196.61px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:63.97px;top:208.85px" class="cls_031"><span class="cls_031">pinMode(redPin, OUTPUT);</span></div>
<div style="position:absolute;left:287.87px;top:200.94px" class="cls_021"><span class="cls_021">Strobe Light</span></div>
<div style="position:absolute;left:63.97px;top:221.08px" class="cls_031"><span class="cls_031">pinMode(yellowPin, OUTPUT);</span></div>
<div style="position:absolute;left:287.87px;top:227.42px" class="cls_011"><span class="cls_011">This project uses the same high-brightness Luxeon</span></div>
<div style="position:absolute;left:63.97px;top:233.32px" class="cls_031"><span class="cls_031">pinMode(greenPin, OUTPUT);</span></div>
<div style="position:absolute;left:63.97px;top:245.56px" class="cls_031"><span class="cls_031">pinMode(buttonPin, INPUT);</span></div>
<div style="position:absolute;left:287.87px;top:242.40px" class="cls_011"><span class="cls_011">LED as the Morse code translator. It adds to that a</span></div>
<div style="position:absolute;left:52.10px;top:257.80px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:287.87px;top:257.39px" class="cls_011"><span class="cls_011">variable resistor, sometimes called a potentiometer.</span></div>
<div style="position:absolute;left:287.87px;top:272.37px" class="cls_011"><span class="cls_011">This provides us with a control that we can rotate</span></div>
<div style="position:absolute;left:52.10px;top:282.27px" class="cls_031"><span class="cls_031">void loop()</span></div>
<div style="position:absolute;left:287.87px;top:287.36px" class="cls_011"><span class="cls_011">to control the flashing rate of the strobe light.</span></div>
<div style="position:absolute;left:52.10px;top:294.51px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:63.97px;top:306.75px" class="cls_031"><span class="cls_031">if (digitalRead(buttonPin))</span></div>
<div style="position:absolute;left:63.97px;top:318.99px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:365.80px;top:320.33px" class="cls_029"><span class="cls_029">This is a strobe light; it flashes</span></div>
<div style="position:absolute;left:295.51px;top:322.35px" class="cls_035"><span class="cls_035">CAUTION</span></div>
<div style="position:absolute;left:75.83px;top:331.22px" class="cls_031"><span class="cls_031">if (state == 0)</span></div>
<div style="position:absolute;left:365.80px;top:333.31px" class="cls_029"><span class="cls_029">brightly. If you have a health</span></div>
<div style="position:absolute;left:75.83px;top:343.46px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:287.87px;top:346.30px" class="cls_029"><span class="cls_029">condition such as epilepsy, you may wish to skip</span></div>
<div style="position:absolute;left:87.70px;top:355.70px" class="cls_031"><span class="cls_031">setLights(HIGH, LOW, LOW);</span></div>
<div style="position:absolute;left:287.87px;top:359.29px" class="cls_029"><span class="cls_029">this project.</span></div>
<div style="position:absolute;left:87.70px;top:367.94px" class="cls_031"><span class="cls_031">state = 1;</span></div>
<div style="position:absolute;left:75.83px;top:380.18px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:75.83px;top:392.41px" class="cls_031"><span class="cls_031">else if (state == 1)</span></div>
<div style="position:absolute;left:295.88px;top:396.75px" class="cls_028"><span class="cls_028">COMPONENTS AND EQUIPMENT</span></div>
<div style="position:absolute;left:75.83px;top:404.65px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:87.70px;top:416.89px" class="cls_031"><span class="cls_031">setLights(HIGH, HIGH, LOW);</span></div>
<div style="position:absolute;left:314.85px;top:420.13px" class="cls_029"><span class="cls_029">Description</span></div>
<div style="position:absolute;left:455.72px;top:420.13px" class="cls_029"><span class="cls_029">Appendix</span></div>
<div style="position:absolute;left:87.70px;top:429.13px" class="cls_031"><span class="cls_031">state = 2;</span></div>
<div style="position:absolute;left:75.83px;top:441.37px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:314.85px;top:440.11px" class="cls_026"><span class="cls_026">Arduino Diecimila or</span></div>
<div style="position:absolute;left:75.83px;top:453.60px" class="cls_031"><span class="cls_031">else if (state == 2)</span></div>
<div style="position:absolute;left:314.85px;top:453.10px" class="cls_026"><span class="cls_026">Duemilanove board or clone</span></div>
<div style="position:absolute;left:476.09px;top:453.10px" class="cls_026"><span class="cls_026">1</span></div>
<div style="position:absolute;left:75.83px;top:465.84px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:297.86px;top:470.08px" class="cls_026"><span class="cls_026">D1</span></div>
<div style="position:absolute;left:314.85px;top:470.08px" class="cls_026"><span class="cls_026">Luxeon 1W LED</span></div>
<div style="position:absolute;left:471.72px;top:470.08px" class="cls_026"><span class="cls_026">30</span></div>
<div style="position:absolute;left:87.70px;top:478.08px" class="cls_031"><span class="cls_031">setLights(LOW, LOW, HIGH);</span></div>
<div style="position:absolute;left:297.86px;top:487.06px" class="cls_026"><span class="cls_026">R1</span></div>
<div style="position:absolute;left:314.85px;top:487.06px" class="cls_026"><span class="cls_026">270</span></div>
<div style="position:absolute;left:344.65px;top:487.06px" class="cls_026"><span class="cls_026">0.5W metal film resistor</span></div>
<div style="position:absolute;left:474.79px;top:487.06px" class="cls_026"><span class="cls_026">6</span></div>
<div style="position:absolute;left:87.70px;top:490.32px" class="cls_031"><span class="cls_031">state = 3;</span></div>
<div style="position:absolute;left:75.83px;top:502.56px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:297.86px;top:504.05px" class="cls_026"><span class="cls_026">R2  4</span></div>
<div style="position:absolute;left:333.80px;top:504.05px" class="cls_026"><span class="cls_026">1W resistor</span></div>
<div style="position:absolute;left:473.17px;top:504.05px" class="cls_026"><span class="cls_026">16</span></div>
<div style="position:absolute;left:75.83px;top:514.79px" class="cls_031"><span class="cls_031">else if (state == 3)</span></div>
<div style="position:absolute;left:297.86px;top:521.03px" class="cls_026"><span class="cls_026">T1</span></div>
<div style="position:absolute;left:314.84px;top:521.03px" class="cls_026"><span class="cls_026">BD139 power transistor</span></div>
<div style="position:absolute;left:473.17px;top:521.03px" class="cls_026"><span class="cls_026">41</span></div>
<div style="position:absolute;left:75.83px;top:527.03px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:87.70px;top:539.27px" class="cls_031"><span class="cls_031">setLights(LOW, HIGH, LOW);</span></div>
<div style="position:absolute;left:297.86px;top:538.01px" class="cls_026"><span class="cls_026">R3 100K linear potentiometer</span></div>
<div style="position:absolute;left:473.42px;top:538.01px" class="cls_026"><span class="cls_026">17</span></div>
<div style="position:absolute;left:87.70px;top:551.51px" class="cls_031"><span class="cls_031">state = 0;</span></div>
<div style="position:absolute;left:314.85px;top:555.00px" class="cls_026"><span class="cls_026">Protoshield kit (optional)</span></div>
<div style="position:absolute;left:474.95px;top:555.00px" class="cls_026"><span class="cls_026">3</span></div>
<div style="position:absolute;left:75.83px;top:563.74px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:314.85px;top:571.98px" class="cls_026"><span class="cls_026">2.1-mm power plug (optional)</span></div>
<div style="position:absolute;left:471.83px;top:571.98px" class="cls_026"><span class="cls_026">49</span></div>
<div style="position:absolute;left:75.83px;top:575.98px" class="cls_031"><span class="cls_031">delay(1000);</span></div>
<div style="position:absolute;left:63.97px;top:588.22px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:314.85px;top:588.96px" class="cls_026"><span class="cls_026">9V battery clip (optional)</span></div>
<div style="position:absolute;left:471.74px;top:588.96px" class="cls_026"><span class="cls_026">50</span></div>
<div style="position:absolute;left:52.10px;top:600.46px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.10px;top:624.93px" class="cls_031"><span class="cls_031">void setLights(int red, int yellow,</span></div>
<div style="position:absolute;left:287.87px;top:630.02px" class="cls_005"><span class="cls_005">Hardware</span></div>
<div style="position:absolute;left:70.08px;top:637.17px" class="cls_031"><span class="cls_031">int green)</span></div>
<div style="position:absolute;left:52.10px;top:649.41px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:287.87px;top:653.50px" class="cls_011"><span class="cls_011">The hardware for this project is basically the same</span></div>
<div style="position:absolute;left:63.97px;top:661.65px" class="cls_031"><span class="cls_031">digitalWrite(redPin, red);</span></div>
<div style="position:absolute;left:287.87px;top:668.49px" class="cls_011"><span class="cls_011">as for Project 4, but with the addition of a variable</span></div>
<div style="position:absolute;left:63.97px;top:673.89px" class="cls_031"><span class="cls_031">digitalWrite(yellowPin, yellow);</span></div>
<div style="position:absolute;left:63.97px;top:686.12px" class="cls_031"><span class="cls_031">digitalWrite(greenPin, green);</span></div>
<div style="position:absolute;left:287.87px;top:683.47px" class="cls_011"><span class="cls_011">resistor (see Figure 4-4).</span></div>
<div style="position:absolute;left:52.10px;top:698.36px" class="cls_031"><span class="cls_031">}</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:47580px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background062.jpg" width=552 height=770></div>
<div style="position:absolute;left:298.85px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 4</span></div>
<div style="position:absolute;left:362.91px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    More LED Projects</span></div>
<div style="position:absolute;left:502.57px;top:34.50px" class="cls_017"><span class="cls_017">45</span></div>
<div style="position:absolute;left:42.21px;top:310.02px" class="cls_025"><span class="cls_025">Figure 4-4</span></div>
<div style="position:absolute;left:102.15px;top:311.00px" class="cls_026"><span class="cls_026">Schematic diagram for Project 6.</span></div>
<div style="position:absolute;left:48.20px;top:353.88px" class="cls_011"><span class="cls_011">The Arduino is equipped with six analog input</span></div>
<div style="position:absolute;left:36.21px;top:368.87px" class="cls_011"><span class="cls_011">pins numbered Analog 0 to Analog 5. These</span></div>
<div style="position:absolute;left:36.21px;top:383.85px" class="cls_011"><span class="cls_011">measure the voltage at their input and give a</span></div>
<div style="position:absolute;left:36.21px;top:398.84px" class="cls_011"><span class="cls_011">number between 0 (0V) and 1023 (5V).</span></div>
<div style="position:absolute;left:48.20px;top:417.82px" class="cls_011"><span class="cls_011">We can use this to detect the position of a</span></div>
<div style="position:absolute;left:36.21px;top:432.81px" class="cls_011"><span class="cls_011">control knob by connecting a variable resistor</span></div>
<div style="position:absolute;left:36.21px;top:447.79px" class="cls_011"><span class="cls_011">acting as a potential divider to our analog pin.</span></div>
<div style="position:absolute;left:36.21px;top:462.78px" class="cls_011"><span class="cls_011">Figure 4-5 shows the internal structure of a</span></div>
<div style="position:absolute;left:36.21px;top:477.76px" class="cls_011"><span class="cls_011">variable resistor.</span></div>
<div style="position:absolute;left:48.20px;top:496.74px" class="cls_011"><span class="cls_011">A variable resistor is a component that is</span></div>
<div style="position:absolute;left:36.21px;top:511.73px" class="cls_011"><span class="cls_011">typically used for volume controls. It is</span></div>
<div style="position:absolute;left:36.21px;top:526.71px" class="cls_011"><span class="cls_011">constructed as a circular conductive track with a</span></div>
<div style="position:absolute;left:36.21px;top:541.70px" class="cls_011"><span class="cls_011">gap in it and connections at both ends. A slider</span></div>
<div style="position:absolute;left:36.21px;top:556.68px" class="cls_011"><span class="cls_011">provides a moveable third connection.</span></div>
<div style="position:absolute;left:48.20px;top:575.66px" class="cls_011"><span class="cls_011">You can use a variable resistor to provide a</span></div>
<div style="position:absolute;left:36.21px;top:590.65px" class="cls_011"><span class="cls_011">variable voltage by connecting one end of the</span></div>
<div style="position:absolute;left:36.21px;top:605.63px" class="cls_011"><span class="cls_011">resistor to 0V and the other end to 5V, and then the</span></div>
<div style="position:absolute;left:36.21px;top:620.62px" class="cls_011"><span class="cls_011">voltage at the slider will vary between 0 and 5V as</span></div>
<div style="position:absolute;left:36.21px;top:635.60px" class="cls_011"><span class="cls_011">you turn the knob.</span></div>
<div style="position:absolute;left:293.96px;top:641.93px" class="cls_025"><span class="cls_025">Figure 4-5</span></div>
<div style="position:absolute;left:353.90px;top:642.91px" class="cls_026"><span class="cls_026">The internal workings of a variable</span></div>
<div style="position:absolute;left:48.20px;top:654.59px" class="cls_011"><span class="cls_011">As you would expect, the breadboard layout</span></div>
<div style="position:absolute;left:353.90px;top:656.90px" class="cls_026"><span class="cls_026">resistor.</span></div>
<div style="position:absolute;left:36.21px;top:669.57px" class="cls_011"><span class="cls_011">(Figure 4-6) is similar to Project 4.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:48360px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background063.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">46</span></div>
<div style="position:absolute;left:78.18px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:42.11px;top:236.69px" class="cls_025"><span class="cls_025">Figure 4-6</span></div>
<div style="position:absolute;left:102.05px;top:237.68px" class="cls_026"><span class="cls_026">Breadboard layout for Project 6.</span></div>
<div style="position:absolute;left:36.12px;top:267.48px" class="cls_005"><span class="cls_005">Software</span></div>
<div style="position:absolute;left:287.87px;top:266.57px" class="cls_011"><span class="cls_011">second; the delays between turning the LED on</span></div>
<div style="position:absolute;left:287.87px;top:281.55px" class="cls_011"><span class="cls_011">and off will be 500 milliseconds and 25</span></div>
<div style="position:absolute;left:36.12px;top:290.95px" class="cls_011"><span class="cls_011">The listing for this project is shown here. The</span></div>
<div style="position:absolute;left:287.87px;top:296.54px" class="cls_011"><span class="cls_011">milliseconds, respectively.</span></div>
<div style="position:absolute;left:36.12px;top:305.94px" class="cls_011"><span class="cls_011">interesting parts are concerned with reading the</span></div>
<div style="position:absolute;left:299.86px;top:315.52px" class="cls_011"><span class="cls_011">So, if our analog input changes from 0 to 1023,</span></div>
<div style="position:absolute;left:36.12px;top:320.92px" class="cls_011"><span class="cls_011">value from the analog input and controlling the</span></div>
<div style="position:absolute;left:287.87px;top:330.50px" class="cls_011"><span class="cls_011">the calculation that we need to determine the flash</span></div>
<div style="position:absolute;left:36.12px;top:335.91px" class="cls_011"><span class="cls_011">rate of flashing.</span></div>
<div style="position:absolute;left:287.87px;top:345.49px" class="cls_011"><span class="cls_011">delay is roughly:</span></div>
<div style="position:absolute;left:48.11px;top:354.89px" class="cls_011"><span class="cls_011">For analog pins, it is not necessary to use the</span></div>
<div style="position:absolute;left:36.12px;top:369.88px" class="cls_011"><span class="cls_011">pinMode function, so we do not need to add</span></div>
<div style="position:absolute;left:293.87px;top:370.97px" class="cls_031"><span class="cls_031">flash_delay = (1023 - analog_value) / 2</span></div>
<div style="position:absolute;left:311.85px;top:383.95px" class="cls_031"><span class="cls_031">+ 25</span></div>
<div style="position:absolute;left:36.12px;top:384.86px" class="cls_011"><span class="cls_011">anything into the setup function.</span></div>
<div style="position:absolute;left:48.11px;top:403.84px" class="cls_011"><span class="cls_011">Let us say that we are going to vary the rate of</span></div>
<div style="position:absolute;left:299.86px;top:409.93px" class="cls_011"><span class="cls_011">So an analog_value of 0 would give a</span></div>
<div style="position:absolute;left:36.12px;top:418.83px" class="cls_011"><span class="cls_011">flashing between once a second and 20 times a</span></div>
<div style="position:absolute;left:287.87px;top:424.91px" class="cls_011"><span class="cls_011">flash_delay of 561 and an analog_value of 1023</span></div>
<div style="position:absolute;left:287.87px;top:439.90px" class="cls_011"><span class="cls_011">would give a delay of 25. We should actually be</span></div>
<div style="position:absolute;left:43.11px;top:451.10px" class="cls_032"><span class="cls_032">LISTING PROJECT 6</span></div>
<div style="position:absolute;left:287.87px;top:454.88px" class="cls_011"><span class="cls_011">dividing by slightly more than 2, but it makes</span></div>
<div style="position:absolute;left:52.10px;top:473.34px" class="cls_031"><span class="cls_031">int ledPin = 11;</span></div>
<div style="position:absolute;left:287.87px;top:469.87px" class="cls_011"><span class="cls_011">things easier if we keep everything as integers.</span></div>
<div style="position:absolute;left:52.10px;top:486.33px" class="cls_031"><span class="cls_031">int analogPin = 0;</span></div>
<div style="position:absolute;left:287.87px;top:502.84px" class="cls_005"><span class="cls_005">Putting It All Together</span></div>
<div style="position:absolute;left:52.10px;top:512.30px" class="cls_031"><span class="cls_031">void setup()</span></div>
<div style="position:absolute;left:52.10px;top:525.29px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:287.87px;top:526.32px" class="cls_011"><span class="cls_011">Load the completed sketch for Project 6 from your</span></div>
<div style="position:absolute;left:63.97px;top:538.27px" class="cls_031"><span class="cls_031">pinMode(ledPin, OUTPUT);</span></div>
<div style="position:absolute;left:287.87px;top:541.30px" class="cls_011"><span class="cls_011">Arduino Sketchbook and download it to the board</span></div>
<div style="position:absolute;left:52.10px;top:551.26px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:287.87px;top:556.29px" class="cls_011"><span class="cls_011">(see Chapter 1).</span></div>
<div style="position:absolute;left:52.10px;top:577.24px" class="cls_031"><span class="cls_031">void loop()</span></div>
<div style="position:absolute;left:299.86px;top:575.27px" class="cls_011"><span class="cls_011">You will find that turning the variable resistor</span></div>
<div style="position:absolute;left:52.10px;top:590.22px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:287.87px;top:590.25px" class="cls_011"><span class="cls_011">control clockwise will increase the rate of flashing</span></div>
<div style="position:absolute;left:63.97px;top:603.21px" class="cls_031"><span class="cls_031">int period = (1023 -</span></div>
<div style="position:absolute;left:287.87px;top:605.24px" class="cls_011"><span class="cls_011">as the voltage at the analog input increases.</span></div>
<div style="position:absolute;left:70.08px;top:616.20px" class="cls_031"><span class="cls_031">analogRead(analogPin)) / 2 + 25;</span></div>
<div style="position:absolute;left:287.87px;top:620.22px" class="cls_011"><span class="cls_011">Turning it counterclockwise will slow the rate of</span></div>
<div style="position:absolute;left:63.97px;top:629.18px" class="cls_031"><span class="cls_031">digitalWrite(ledPin, HIGH);</span></div>
<div style="position:absolute;left:287.87px;top:635.21px" class="cls_011"><span class="cls_011">flashing.</span></div>
<div style="position:absolute;left:63.97px;top:642.17px" class="cls_031"><span class="cls_031">delay(period);</span></div>
<div style="position:absolute;left:63.97px;top:655.16px" class="cls_031"><span class="cls_031">digitalWrite(ledPin, LOW);</span></div>
<div style="position:absolute;left:63.97px;top:668.14px" class="cls_031"><span class="cls_031">delay(period);</span></div>
<div style="position:absolute;left:52.10px;top:681.13px" class="cls_031"><span class="cls_031">}</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:49140px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background064.jpg" width=552 height=770></div>
<div style="position:absolute;left:298.96px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 4</span></div>
<div style="position:absolute;left:363.02px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    More LED Projects</span></div>
<div style="position:absolute;left:502.68px;top:34.50px" class="cls_017"><span class="cls_017">47</span></div>
<div style="position:absolute;left:36.21px;top:70.07px" class="cls_005"><span class="cls_005">Making a Shield</span></div>
<div style="position:absolute;left:36.21px;top:93.55px" class="cls_011"><span class="cls_011">If you want to make a shield for this project, you</span></div>
<div style="position:absolute;left:36.21px;top:108.53px" class="cls_011"><span class="cls_011">can either adapt the shield for Project 4 or create a</span></div>
<div style="position:absolute;left:36.21px;top:123.52px" class="cls_011"><span class="cls_011">new shield from scratch.</span></div>
<div style="position:absolute;left:48.20px;top:142.50px" class="cls_011"><span class="cls_011">The layout of components on the Protoshield is</span></div>
<div style="position:absolute;left:36.21px;top:157.48px" class="cls_011"><span class="cls_011">shown in Figure 4-7.</span></div>
<div style="position:absolute;left:48.20px;top:176.47px" class="cls_011"><span class="cls_011">This is basically the same as for Project 4,</span></div>
<div style="position:absolute;left:36.21px;top:191.45px" class="cls_011"><span class="cls_011">except that we have added the variable resistor.</span></div>
<div style="position:absolute;left:36.21px;top:206.44px" class="cls_011"><span class="cls_011">The pins on a variable resistor are too thick to fit</span></div>
<div style="position:absolute;left:36.21px;top:221.42px" class="cls_011"><span class="cls_011">into the holes on the Protoshield, so you can either</span></div>
<div style="position:absolute;left:293.96px;top:224.90px" class="cls_025"><span class="cls_025">Figure 4-8</span></div>
<div style="position:absolute;left:353.90px;top:225.89px" class="cls_026"><span class="cls_026">Creating a battery lead.</span></div>
<div style="position:absolute;left:36.21px;top:236.41px" class="cls_011"><span class="cls_011">attach it using wires or, as we have done here,</span></div>
<div style="position:absolute;left:36.21px;top:251.39px" class="cls_011"><span class="cls_011">carefully solder the leads to the top surface where</span></div>
<div style="position:absolute;left:36.21px;top:266.38px" class="cls_011"><span class="cls_011">they touch the board. To provide some mechanical</span></div>
<div style="position:absolute;left:287.97px;top:268.68px" class="cls_027"><span class="cls_027">Project 7</span></div>
<div style="position:absolute;left:36.21px;top:281.36px" class="cls_011"><span class="cls_011">strength, the variable resistor can be glued in place</span></div>
<div style="position:absolute;left:287.97px;top:288.66px" class="cls_021"><span class="cls_021">S.A.D. Light</span></div>
<div style="position:absolute;left:36.21px;top:296.35px" class="cls_011"><span class="cls_011">first with a drop of Super Glue. The wiring for the</span></div>
<div style="position:absolute;left:36.21px;top:311.33px" class="cls_011"><span class="cls_011">variable resistor to 5V, GND, and Analog 0 can be</span></div>
<div style="position:absolute;left:287.97px;top:315.13px" class="cls_011"><span class="cls_011">Seasonal affective disorder (S.A.D.) affects a great</span></div>
<div style="position:absolute;left:36.21px;top:326.32px" class="cls_011"><span class="cls_011">made underneath the board out of sight.</span></div>
<div style="position:absolute;left:287.97px;top:330.12px" class="cls_011"><span class="cls_011">number of people, and research has shown that</span></div>
<div style="position:absolute;left:48.20px;top:345.30px" class="cls_011"><span class="cls_011">Having made a shield, we can make the project</span></div>
<div style="position:absolute;left:287.97px;top:345.10px" class="cls_011"><span class="cls_011">exposure to a bright white light that mimics</span></div>
<div style="position:absolute;left:36.21px;top:360.28px" class="cls_011"><span class="cls_011">independent of our computer by powering it from a</span></div>
<div style="position:absolute;left:287.97px;top:360.09px" class="cls_011"><span class="cls_011">daylight for 10 or 20 minutes a day has a</span></div>
<div style="position:absolute;left:36.21px;top:375.27px" class="cls_011"><span class="cls_011">9V battery.</span></div>
<div style="position:absolute;left:287.97px;top:375.07px" class="cls_011"><span class="cls_011">beneficial effect. To use this project for such a</span></div>
<div style="position:absolute;left:287.97px;top:390.06px" class="cls_011"><span class="cls_011">purpose, I would suggest the use of some kind of</span></div>
<div style="position:absolute;left:48.20px;top:394.25px" class="cls_011"><span class="cls_011">To power the project from a battery, we need to</span></div>
<div style="position:absolute;left:287.97px;top:405.04px" class="cls_011"><span class="cls_011">diffuser such as frosted glass, as you should not</span></div>
<div style="position:absolute;left:36.21px;top:409.23px" class="cls_011"><span class="cls_011">make ourselves a small lead that has a PP3 battery</span></div>
<div style="position:absolute;left:287.97px;top:420.03px" class="cls_011"><span class="cls_011">stare directly at the point light sources of the</span></div>
<div style="position:absolute;left:36.21px;top:424.22px" class="cls_011"><span class="cls_011">clip on one end and a 2.1-mm power plug on the</span></div>
<div style="position:absolute;left:287.97px;top:435.01px" class="cls_011"><span class="cls_011">LEDs.</span></div>
<div style="position:absolute;left:36.21px;top:439.20px" class="cls_011"><span class="cls_011">other. Figure 4-8 shows the semi-assembled lead.</span></div>
<div style="position:absolute;left:299.96px;top:453.99px" class="cls_011"><span class="cls_011">This is another project based on the Luxeon</span></div>
<div style="position:absolute;left:287.97px;top:468.98px" class="cls_011"><span class="cls_011">high-brightness LEDs. We will use an analog input</span></div>
<div style="position:absolute;left:287.97px;top:483.96px" class="cls_011"><span class="cls_011">connected to a variable resistor to act as a timer</span></div>
<div style="position:absolute;left:287.97px;top:498.95px" class="cls_011"><span class="cls_011">control, turning the LED on for a given period set</span></div>
<div style="position:absolute;left:287.97px;top:513.93px" class="cls_011"><span class="cls_011">by the position of the variable resistor’s slider.</span></div>
<div style="position:absolute;left:287.97px;top:528.92px" class="cls_011"><span class="cls_011">We will also use an analog output to slowly raise</span></div>
<div style="position:absolute;left:287.97px;top:543.90px" class="cls_011"><span class="cls_011">the brightness of the LEDs as they turn on and</span></div>
<div style="position:absolute;left:287.97px;top:558.89px" class="cls_011"><span class="cls_011">then slowly decrease it as they turn off. To make</span></div>
<div style="position:absolute;left:287.97px;top:573.87px" class="cls_011"><span class="cls_011">the light bright enough to be of use as a S.A.D.</span></div>
<div style="position:absolute;left:287.97px;top:588.86px" class="cls_011"><span class="cls_011">light, we are going to use not just one Luxeon</span></div>
<div style="position:absolute;left:287.97px;top:603.84px" class="cls_011"><span class="cls_011">LED but six.</span></div>
<div style="position:absolute;left:299.96px;top:622.82px" class="cls_011"><span class="cls_011">At this point, the caring nature of this project</span></div>
<div style="position:absolute;left:287.97px;top:637.81px" class="cls_011"><span class="cls_011">may be causing the Evil Genius something of an</span></div>
<div style="position:absolute;left:287.97px;top:652.79px" class="cls_011"><span class="cls_011">identity crisis. But, fear not—in Project 8, we will</span></div>
<div style="position:absolute;left:287.97px;top:667.78px" class="cls_011"><span class="cls_011">turn this same hardware into a fearsome high-</span></div>
<div style="position:absolute;left:287.97px;top:682.76px" class="cls_011"><span class="cls_011">powered strobe light.</span></div>
<div style="position:absolute;left:42.21px;top:707.86px" class="cls_025"><span class="cls_025">Figure 4-7</span></div>
<div style="position:absolute;left:102.15px;top:708.85px" class="cls_026"><span class="cls_026">Protoshield layout for Project 6.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:49920px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background065.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">48</span></div>
<div style="position:absolute;left:77.86px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:299.86px;top:69.15px" class="cls_011"><span class="cls_011">Readers may wish to refer to Wikipedia for a</span></div>
<div style="position:absolute;left:44.12px;top:74.27px" class="cls_028"><span class="cls_028">COMPONENTS AND EQUIPMENT</span></div>
<div style="position:absolute;left:287.87px;top:84.14px" class="cls_011"><span class="cls_011">fuller description of PWM.</span></div>
<div style="position:absolute;left:76.08px;top:97.64px" class="cls_029"><span class="cls_029">Description</span></div>
<div style="position:absolute;left:203.96px;top:97.64px" class="cls_029"><span class="cls_029">Appendix</span></div>
<div style="position:absolute;left:299.86px;top:103.12px" class="cls_011"><span class="cls_011">The value of the output can be set using the</span></div>
<div style="position:absolute;left:76.08px;top:117.62px" class="cls_026"><span class="cls_026">Arduino Diecimila or</span></div>
<div style="position:absolute;left:287.87px;top:118.11px" class="cls_011"><span class="cls_011">function analogWrite, which requires an output</span></div>
<div style="position:absolute;left:76.08px;top:130.61px" class="cls_026"><span class="cls_026">Duemilanove board or clone</span></div>
<div style="position:absolute;left:224.34px;top:130.61px" class="cls_026"><span class="cls_026">1</span></div>
<div style="position:absolute;left:287.87px;top:133.09px" class="cls_011"><span class="cls_011">value between 0 and 255, where 0 will be off and</span></div>
<div style="position:absolute;left:46.11px;top:147.59px" class="cls_026"><span class="cls_026">D1-6</span></div>
<div style="position:absolute;left:76.08px;top:147.59px" class="cls_026"><span class="cls_026">Luxeon 1W LED</span></div>
<div style="position:absolute;left:219.97px;top:147.59px" class="cls_026"><span class="cls_026">30</span></div>
<div style="position:absolute;left:287.87px;top:148.08px" class="cls_011"><span class="cls_011">255 full power.</span></div>
<div style="position:absolute;left:46.11px;top:164.58px" class="cls_026"><span class="cls_026">R1-3</span></div>
<div style="position:absolute;left:76.08px;top:164.58px" class="cls_026"><span class="cls_026">1 K</span></div>
<div style="position:absolute;left:98.69px;top:164.58px" class="cls_026"><span class="cls_026">0.5W metal film resistor</span></div>
<div style="position:absolute;left:223.27px;top:164.58px" class="cls_026"><span class="cls_026">7</span></div>
<div style="position:absolute;left:299.86px;top:167.06px" class="cls_011"><span class="cls_011">As you can see from the schematic diagram in</span></div>
<div style="position:absolute;left:46.11px;top:181.56px" class="cls_026"><span class="cls_026">R4-5</span></div>
<div style="position:absolute;left:76.08px;top:181.56px" class="cls_026"><span class="cls_026">4</span></div>
<div style="position:absolute;left:95.03px;top:181.56px" class="cls_026"><span class="cls_026">2W resistor</span></div>
<div style="position:absolute;left:221.42px;top:181.56px" class="cls_026"><span class="cls_026">16</span></div>
<div style="position:absolute;left:287.87px;top:182.04px" class="cls_011"><span class="cls_011">Figure 4-9, the LEDs are arranged in two columns</span></div>
<div style="position:absolute;left:46.11px;top:198.54px" class="cls_026"><span class="cls_026">R6</span></div>
<div style="position:absolute;left:76.08px;top:198.54px" class="cls_026"><span class="cls_026">100K linear potentiometer</span></div>
<div style="position:absolute;left:221.66px;top:198.54px" class="cls_026"><span class="cls_026">17</span></div>
<div style="position:absolute;left:287.87px;top:197.03px" class="cls_011"><span class="cls_011">of three. The LEDs are also supplied from an</span></div>
<div style="position:absolute;left:46.11px;top:215.53px" class="cls_026"><span class="cls_026">IC1-2</span></div>
<div style="position:absolute;left:76.07px;top:215.53px" class="cls_026"><span class="cls_026">LM317 Voltage regulator</span></div>
<div style="position:absolute;left:220.18px;top:215.53px" class="cls_026"><span class="cls_026">45</span></div>
<div style="position:absolute;left:287.87px;top:212.01px" class="cls_011"><span class="cls_011">external 15V supply rather than the 5V supply that</span></div>
<div style="position:absolute;left:287.87px;top:227.00px" class="cls_011"><span class="cls_011">we used before. Since each LED consumes about</span></div>
<div style="position:absolute;left:46.11px;top:232.51px" class="cls_026"><span class="cls_026">T1-2</span></div>
<div style="position:absolute;left:76.08px;top:232.51px" class="cls_026"><span class="cls_026">2N7000 FET</span></div>
<div style="position:absolute;left:220.24px;top:232.51px" class="cls_026"><span class="cls_026">42</span></div>
<div style="position:absolute;left:287.87px;top:241.98px" class="cls_011"><span class="cls_011">300 mA, each column will draw about 300 mA</span></div>
<div style="position:absolute;left:76.08px;top:249.49px" class="cls_026"><span class="cls_026">Regulated 15V 1A power supply 51</span></div>
<div style="position:absolute;left:287.87px;top:256.97px" class="cls_011"><span class="cls_011">and so the supply must be capable of supplying</span></div>
<div style="position:absolute;left:76.08px;top:266.48px" class="cls_026"><span class="cls_026">Perf board</span></div>
<div style="position:absolute;left:220.46px;top:266.48px" class="cls_026"><span class="cls_026">53</span></div>
<div style="position:absolute;left:287.87px;top:271.95px" class="cls_011"><span class="cls_011">0.6A (1 A to be on the safe side).</span></div>
<div style="position:absolute;left:76.08px;top:283.46px" class="cls_026"><span class="cls_026">Three-way screw terminal</span></div>
<div style="position:absolute;left:220.55px;top:283.46px" class="cls_026"><span class="cls_026">52</span></div>
<div style="position:absolute;left:299.86px;top:290.94px" class="cls_011"><span class="cls_011">This is the most complex schematic so far in our</span></div>
<div style="position:absolute;left:287.87px;top:305.92px" class="cls_011"><span class="cls_011">projects. We are using two integrated-circuit</span></div>
<div style="position:absolute;left:63.09px;top:314.43px" class="cls_030"><span class="cls_030">Please note this is one of the projects in this</span></div>
<div style="position:absolute;left:46.11px;top:316.43px" class="cls_022"><span class="cls_022">■</span></div>
<div style="position:absolute;left:287.87px;top:320.91px" class="cls_011"><span class="cls_011">variable voltage regulators to limit the current</span></div>
<div style="position:absolute;left:63.09px;top:328.42px" class="cls_030"><span class="cls_030">book that requires soldering.</span></div>
<div style="position:absolute;left:287.87px;top:335.89px" class="cls_011"><span class="cls_011">flowing to the LEDs. The output of the voltage</span></div>
<div style="position:absolute;left:46.11px;top:342.40px" class="cls_022"><span class="cls_022">■</span><span class="cls_030">   You are going to need six Luxeon LEDs for</span></div>
<div style="position:absolute;left:287.87px;top:350.88px" class="cls_011"><span class="cls_011">regulators will normally be 1.25V above whatever</span></div>
<div style="position:absolute;left:63.09px;top:356.39px" class="cls_030"><span class="cls_030">this project. If you want to save some money,</span></div>
<div style="position:absolute;left:287.87px;top:365.86px" class="cls_011"><span class="cls_011">the voltage is at the Ref pin of the chip. This</span></div>
<div style="position:absolute;left:63.09px;top:370.38px" class="cls_030"><span class="cls_030">look at online auctions, where ten of these</span></div>
<div style="position:absolute;left:287.87px;top:380.85px" class="cls_011"><span class="cls_011">means that if we drive our LEDs through a 4</span></div>
<div style="position:absolute;left:63.09px;top:384.36px" class="cls_030"><span class="cls_030">should be available for $10 to $20.</span></div>
<div style="position:absolute;left:287.87px;top:395.83px" class="cls_011"><span class="cls_011">resistor, there will be a current of roughly I    V/R,</span></div>
<div style="position:absolute;left:287.87px;top:410.82px" class="cls_011"><span class="cls_011">or 1.25 / 4</span></div>
<div style="position:absolute;left:349.07px;top:410.82px" class="cls_011"><span class="cls_011">312 mA flowing through it (which is</span></div>
<div style="position:absolute;left:36.12px;top:419.73px" class="cls_005"><span class="cls_005">Hardware</span></div>
<div style="position:absolute;left:287.87px;top:425.80px" class="cls_011"><span class="cls_011">about right).</span></div>
<div style="position:absolute;left:36.12px;top:443.21px" class="cls_011"><span class="cls_011">Some of the digital pins, namely digital pins 5, 6,</span></div>
<div style="position:absolute;left:299.86px;top:444.78px" class="cls_011"><span class="cls_011">The FET (field effect transistor) is like our</span></div>
<div style="position:absolute;left:36.12px;top:458.19px" class="cls_011"><span class="cls_011">9, 10, and 11, can provide a variable output rather</span></div>
<div style="position:absolute;left:287.87px;top:459.77px" class="cls_011"><span class="cls_011">normal bipolar transistor, in that it can act as a</span></div>
<div style="position:absolute;left:36.12px;top:473.18px" class="cls_011"><span class="cls_011">than just 5V or nothing. These are the pins with</span></div>
<div style="position:absolute;left:287.87px;top:474.75px" class="cls_011"><span class="cls_011">switch, but it has a very high off resistance. So</span></div>
<div style="position:absolute;left:36.12px;top:488.16px" class="cls_011"><span class="cls_011">PWM next to them on the board. This is the reason</span></div>
<div style="position:absolute;left:287.87px;top:489.74px" class="cls_011"><span class="cls_011">when it is not triggered by a voltage at its gate, it’s</span></div>
<div style="position:absolute;left:36.12px;top:503.15px" class="cls_011"><span class="cls_011">that we have switched to using pin 11 for our</span></div>
<div style="position:absolute;left:287.87px;top:504.72px" class="cls_011"><span class="cls_011">as if it isn’t there in the circuit. However, when it</span></div>
<div style="position:absolute;left:36.12px;top:518.13px" class="cls_011"><span class="cls_011">output control.</span></div>
<div style="position:absolute;left:287.87px;top:519.71px" class="cls_011"><span class="cls_011">is turned on, it will pull down the voltage at the</span></div>
<div style="position:absolute;left:287.87px;top:534.69px" class="cls_011"><span class="cls_011">regulator’s Ref pin to a low enough voltage to</span></div>
<div style="position:absolute;left:48.11px;top:537.11px" class="cls_011"><span class="cls_011">PWM stands for Pulse Width Modulation, and</span></div>
<div style="position:absolute;left:287.87px;top:549.68px" class="cls_011"><span class="cls_011">prevent any current flowing into the LEDs turning</span></div>
<div style="position:absolute;left:36.12px;top:552.10px" class="cls_011"><span class="cls_011">refers to the means of controlling the amount of</span></div>
<div style="position:absolute;left:287.87px;top:564.66px" class="cls_011"><span class="cls_011">them off. Both of the FETs are controlled from the</span></div>
<div style="position:absolute;left:36.12px;top:567.08px" class="cls_011"><span class="cls_011">power at the output. It does so by rapidly turning</span></div>
<div style="position:absolute;left:287.87px;top:579.65px" class="cls_011"><span class="cls_011">same digital pin 11.</span></div>
<div style="position:absolute;left:36.12px;top:582.07px" class="cls_011"><span class="cls_011">the output on and off.</span></div>
<div style="position:absolute;left:299.86px;top:598.63px" class="cls_011"><span class="cls_011">The completed LED module is shown in Figure</span></div>
<div style="position:absolute;left:48.11px;top:601.05px" class="cls_011"><span class="cls_011">The pulses are always delivered at the same rate</span></div>
<div style="position:absolute;left:287.87px;top:613.61px" class="cls_011"><span class="cls_011">4-10 and the perf board layout in Figure 4-11.</span></div>
<div style="position:absolute;left:36.12px;top:616.03px" class="cls_011"><span class="cls_011">(roughly 500 per second), but the length of the</span></div>
<div style="position:absolute;left:36.12px;top:631.02px" class="cls_011"><span class="cls_011">pulses is varied. If the pulse is long, our LED will</span></div>
<div style="position:absolute;left:299.86px;top:632.60px" class="cls_011"><span class="cls_011">The module is built on perf (perforated) board.</span></div>
<div style="position:absolute;left:36.12px;top:646.00px" class="cls_011"><span class="cls_011">be on all the time. If, however, the pulses are short,</span></div>
<div style="position:absolute;left:287.87px;top:647.58px" class="cls_011"><span class="cls_011">The perf board is just a board with holes in it. It</span></div>
<div style="position:absolute;left:36.12px;top:660.99px" class="cls_011"><span class="cls_011">the LED is only actually lit for a small portion of</span></div>
<div style="position:absolute;left:287.87px;top:662.57px" class="cls_011"><span class="cls_011">has no connections at all. So it acts as a structure</span></div>
<div style="position:absolute;left:36.12px;top:675.97px" class="cls_011"><span class="cls_011">the time. This happens too fast for the observer to</span></div>
<div style="position:absolute;left:287.87px;top:677.55px" class="cls_011"><span class="cls_011">on which to fit your components, but you have to</span></div>
<div style="position:absolute;left:36.12px;top:690.96px" class="cls_011"><span class="cls_011">even tell that the LED is flickering, and it just</span></div>
<div style="position:absolute;left:287.87px;top:692.54px" class="cls_011"><span class="cls_011">wire them up on the underside of the board, either</span></div>
<div style="position:absolute;left:36.12px;top:705.94px" class="cls_011"><span class="cls_011">appears that the LED is brighter or dimmer.</span></div>
<div style="position:absolute;left:287.87px;top:707.52px" class="cls_011"><span class="cls_011">by connecting their leads together or adding wires.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:50700px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background066.jpg" width=552 height=770></div>
<div style="position:absolute;left:298.53px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 4</span></div>
<div style="position:absolute;left:362.59px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    More LED Projects</span></div>
<div style="position:absolute;left:502.25px;top:34.50px" class="cls_017"><span class="cls_017">49</span></div>
<div style="position:absolute;left:42.21px;top:316.64px" class="cls_025"><span class="cls_025">Figure 4-9</span></div>
<div style="position:absolute;left:102.15px;top:317.63px" class="cls_026"><span class="cls_026">Schematic diagram for Project 7.</span></div>
<div style="position:absolute;left:48.20px;top:350.52px" class="cls_011"><span class="cls_011">It is easier to solder two wires onto each LED</span></div>
<div style="position:absolute;left:299.96px;top:350.52px" class="cls_011"><span class="cls_011">The LEDs will get hot, so it is a good idea to</span></div>
<div style="position:absolute;left:36.21px;top:365.50px" class="cls_011"><span class="cls_011">before fitting them onto the board. It is a good idea</span></div>
<div style="position:absolute;left:287.97px;top:365.50px" class="cls_011"><span class="cls_011">leave a gap between them and the perf board using</span></div>
<div style="position:absolute;left:36.21px;top:380.49px" class="cls_011"><span class="cls_011">to color-code those leads—red for positive and</span></div>
<div style="position:absolute;left:287.97px;top:380.49px" class="cls_011"><span class="cls_011">the insulation on the wire to act as a spacer. The</span></div>
<div style="position:absolute;left:36.21px;top:395.47px" class="cls_011"><span class="cls_011">black or blue for negative—so that you get the</span></div>
<div style="position:absolute;left:287.97px;top:395.47px" class="cls_011"><span class="cls_011">voltage regulator will also get hot but should be</span></div>
<div style="position:absolute;left:36.21px;top:410.46px" class="cls_011"><span class="cls_011">LEDs in the correct way round.</span></div>
<div style="position:absolute;left:287.97px;top:410.46px" class="cls_011"><span class="cls_011">okay without a heatsink. The voltage regulator</span></div>
<div style="position:absolute;left:42.21px;top:707.86px" class="cls_025"><span class="cls_025">Figure 4-10</span></div>
<div style="position:absolute;left:102.15px;top:708.85px" class="cls_026"><span class="cls_026">Project 7. High-power light module.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:51480px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background067.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">50</span></div>
<div style="position:absolute;left:78.27px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:42.11px;top:411.15px" class="cls_025"><span class="cls_025">Figure 4-11</span></div>
<div style="position:absolute;left:102.05px;top:412.14px" class="cls_026"><span class="cls_026">Perf board layout.</span></div>
<div style="position:absolute;left:36.12px;top:441.03px" class="cls_011"><span class="cls_011">integrator circuits (ICs) actually have built-in</span></div>
<div style="position:absolute;left:299.86px;top:441.03px" class="cls_011"><span class="cls_011">You may remember that analog inputs can also</span></div>
<div style="position:absolute;left:36.12px;top:456.02px" class="cls_011"><span class="cls_011">thermal protection and will automatically reduce</span></div>
<div style="position:absolute;left:287.87px;top:456.01px" class="cls_011"><span class="cls_011">be used as digital outputs by adding 14 to their pin</span></div>
<div style="position:absolute;left:36.12px;top:471.00px" class="cls_011"><span class="cls_011">the current if they start to get too hot.</span></div>
<div style="position:absolute;left:287.87px;top:471.00px" class="cls_011"><span class="cls_011">number. So in order to have 5V at one end of our</span></div>
<div style="position:absolute;left:287.87px;top:485.98px" class="cls_011"><span class="cls_011">variable resistor and 0V at the other, we are going</span></div>
<div style="position:absolute;left:48.11px;top:489.98px" class="cls_011"><span class="cls_011">The screw terminals on the board are for the</span></div>
<div style="position:absolute;left:287.87px;top:500.97px" class="cls_011"><span class="cls_011">to set the outputs of analog pins 0 and 4 (digital</span></div>
<div style="position:absolute;left:36.12px;top:504.97px" class="cls_011"><span class="cls_011">power supply GND and 15V and a control input.</span></div>
<div style="position:absolute;left:287.87px;top:515.95px" class="cls_011"><span class="cls_011">pins 14 and 18) to 0V and 5V, respectively.</span></div>
<div style="position:absolute;left:36.12px;top:519.95px" class="cls_011"><span class="cls_011">When we connect this to the Arduino board, the</span></div>
<div style="position:absolute;left:36.12px;top:534.94px" class="cls_011"><span class="cls_011">15V will come from the Vin pin on the Arduino,</span></div>
<div style="position:absolute;left:36.12px;top:549.92px" class="cls_011"><span class="cls_011">which in turn is supplied from a 15V power</span></div>
<div style="position:absolute;left:287.87px;top:548.93px" class="cls_005"><span class="cls_005">Software</span></div>
<div style="position:absolute;left:36.12px;top:564.91px" class="cls_011"><span class="cls_011">supply.</span></div>
<div style="position:absolute;left:287.87px;top:572.40px" class="cls_011"><span class="cls_011">At the top of the sketch, after the variable used for</span></div>
<div style="position:absolute;left:48.11px;top:583.89px" class="cls_011"><span class="cls_011">Our high-power LED module will be of use in</span></div>
<div style="position:absolute;left:287.87px;top:587.39px" class="cls_011"><span class="cls_011">pins, we have four other variables: startupSeconds,</span></div>
<div style="position:absolute;left:36.12px;top:598.88px" class="cls_011"><span class="cls_011">other projects, so we are going to plug the variable</span></div>
<div style="position:absolute;left:287.87px;top:602.37px" class="cls_011"><span class="cls_011">turnOffSeconds, minOnSeconds, and</span></div>
<div style="position:absolute;left:36.12px;top:613.86px" class="cls_011"><span class="cls_011">resistor directly into the Analog In strip of</span></div>
<div style="position:absolute;left:287.87px;top:617.36px" class="cls_011"><span class="cls_011">maxOnSeconds. This is common practice in</span></div>
<div style="position:absolute;left:36.12px;top:628.85px" class="cls_011"><span class="cls_011">connectors on the Arduino board. The spacing of</span></div>
<div style="position:absolute;left:287.87px;top:632.34px" class="cls_011"><span class="cls_011">programming. By putting these values that we</span></div>
<div style="position:absolute;left:36.12px;top:643.83px" class="cls_011"><span class="cls_011">pins on the variable resistor is 1/5 of an inch,</span></div>
<div style="position:absolute;left:287.87px;top:647.33px" class="cls_011"><span class="cls_011">might want to change into variables and making</span></div>
<div style="position:absolute;left:36.12px;top:658.82px" class="cls_011"><span class="cls_011">which means that if the middle slider pin is in the</span></div>
<div style="position:absolute;left:287.87px;top:662.31px" class="cls_011"><span class="cls_011">them visible at the top of the sketch, it makes it</span></div>
<div style="position:absolute;left:36.12px;top:673.80px" class="cls_011"><span class="cls_011">socket for Analog 2, the other two pins will be in</span></div>
<div style="position:absolute;left:287.87px;top:677.30px" class="cls_011"><span class="cls_011">easier to change them.</span></div>
<div style="position:absolute;left:36.12px;top:688.79px" class="cls_011"><span class="cls_011">the sockets for Analog 0 and 4. You can see this</span></div>
<div style="position:absolute;left:36.12px;top:703.77px" class="cls_011"><span class="cls_011">arrangement in Figure 4-12.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:52260px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background068.jpg" width=552 height=770></div>
<div style="position:absolute;left:301.52px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 4</span></div>
<div style="position:absolute;left:365.58px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    More LED Projects</span></div>
<div style="position:absolute;left:505.24px;top:34.50px" class="cls_017"><span class="cls_017">51</span></div>
<div style="position:absolute;left:43.21px;top:76.46px" class="cls_032"><span class="cls_032">LISTING PROJECT 7</span></div>
<div style="position:absolute;left:52.20px;top:98.70px" class="cls_031"><span class="cls_031">int ledPin = 11;</span></div>
<div style="position:absolute;left:52.20px;top:111.19px" class="cls_031"><span class="cls_031">int analogPin = 2;</span></div>
<div style="position:absolute;left:52.20px;top:136.17px" class="cls_031"><span class="cls_031">int startupSeconds = 20;</span></div>
<div style="position:absolute;left:52.20px;top:148.66px" class="cls_031"><span class="cls_031">int turnOffSeconds = 10;</span></div>
<div style="position:absolute;left:52.20px;top:161.14px" class="cls_031"><span class="cls_031">int minOnSeconds = 300;</span></div>
<div style="position:absolute;left:52.20px;top:173.63px" class="cls_031"><span class="cls_031">int maxOnSeconds = 1800;</span></div>
<div style="position:absolute;left:52.20px;top:198.61px" class="cls_031"><span class="cls_031">int brightness = 0;</span></div>
<div style="position:absolute;left:52.20px;top:223.58px" class="cls_031"><span class="cls_031">void setup()</span></div>
<div style="position:absolute;left:52.20px;top:236.07px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:64.06px;top:248.56px" class="cls_031"><span class="cls_031">pinMode(ledPin, OUTPUT);</span></div>
<div style="position:absolute;left:64.06px;top:261.05px" class="cls_031"><span class="cls_031">digitalWrite(ledPin, HIGH);</span></div>
<div style="position:absolute;left:64.06px;top:273.53px" class="cls_031"><span class="cls_031">pinMode(14, OUTPUT);</span></div>
<div style="position:absolute;left:297.08px;top:273.53px" class="cls_031"><span class="cls_031">// Use Analog pins 0 and 4 for</span></div>
<div style="position:absolute;left:64.06px;top:286.02px" class="cls_031"><span class="cls_031">pinMode(18, OUTPUT);</span></div>
<div style="position:absolute;left:297.08px;top:286.02px" class="cls_031"><span class="cls_031">// the variable resistor</span></div>
<div style="position:absolute;left:64.06px;top:298.51px" class="cls_031"><span class="cls_031">digitalWrite(18, HIGH);</span></div>
<div style="position:absolute;left:64.06px;top:311.00px" class="cls_031"><span class="cls_031">int analogIn = analogRead(analogPin);</span></div>
<div style="position:absolute;left:64.06px;top:323.49px" class="cls_031"><span class="cls_031">int onTime = map(analogIn, 0, 1023, minOnSeconds, maxOnSeconds);</span></div>
<div style="position:absolute;left:64.06px;top:335.97px" class="cls_031"><span class="cls_031">turnOn();</span></div>
<div style="position:absolute;left:64.06px;top:348.46px" class="cls_031"><span class="cls_031">delay(onTime * 1000);</span></div>
<div style="position:absolute;left:64.06px;top:360.95px" class="cls_031"><span class="cls_031">turnOff();</span></div>
<div style="position:absolute;left:52.20px;top:373.44px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.20px;top:398.41px" class="cls_031"><span class="cls_031">void turnOn()</span></div>
<div style="position:absolute;left:52.20px;top:410.90px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:64.06px;top:423.39px" class="cls_031"><span class="cls_031">brightness = 0;</span></div>
<div style="position:absolute;left:64.06px;top:435.88px" class="cls_031"><span class="cls_031">int period = startupSeconds * 1000 / 256;</span></div>
<div style="position:absolute;left:64.06px;top:448.36px" class="cls_031"><span class="cls_031">while (brightness &lt; 255)</span></div>
<div style="position:absolute;left:64.06px;top:460.85px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.93px;top:473.34px" class="cls_031"><span class="cls_031">analogWrite(ledPin, 255 - brightness);</span></div>
<div style="position:absolute;left:75.93px;top:485.83px" class="cls_031"><span class="cls_031">delay(period);</span></div>
<div style="position:absolute;left:75.93px;top:498.32px" class="cls_031"><span class="cls_031">brightness ++;</span></div>
<div style="position:absolute;left:64.06px;top:510.80px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.20px;top:523.29px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.20px;top:548.27px" class="cls_031"><span class="cls_031">void turnOff()</span></div>
<div style="position:absolute;left:52.20px;top:560.76px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:64.06px;top:573.24px" class="cls_031"><span class="cls_031">int period = turnOffSeconds * 1000 / 256;</span></div>
<div style="position:absolute;left:64.06px;top:585.73px" class="cls_031"><span class="cls_031">while (brightness >= 0)</span></div>
<div style="position:absolute;left:64.06px;top:598.22px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.93px;top:610.71px" class="cls_031"><span class="cls_031">analogWrite(ledPin, 255 - brightness);</span></div>
<div style="position:absolute;left:75.93px;top:623.19px" class="cls_031"><span class="cls_031">delay(period);</span></div>
<div style="position:absolute;left:75.93px;top:635.68px" class="cls_031"><span class="cls_031">brightness —;</span></div>
<div style="position:absolute;left:64.06px;top:648.17px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.20px;top:660.66px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.20px;top:685.63px" class="cls_031"><span class="cls_031">void loop()</span></div>
<div style="position:absolute;left:52.20px;top:698.12px" class="cls_031"><span class="cls_031">{}</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:53040px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background069.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">52</span></div>
<div style="position:absolute;left:77.20px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:48.11px;top:69.16px" class="cls_011"><span class="cls_011">The variable startupSeconds determines how</span></div>
<div style="position:absolute;left:287.87px;top:69.15px" class="cls_011"><span class="cls_011">want to convert, the minimum input value (0 in</span></div>
<div style="position:absolute;left:36.12px;top:84.15px" class="cls_011"><span class="cls_011">long it will take for the brightness of the LEDs to</span></div>
<div style="position:absolute;left:287.87px;top:84.14px" class="cls_011"><span class="cls_011">this case), the maximum input value (1023), the</span></div>
<div style="position:absolute;left:36.12px;top:99.13px" class="cls_011"><span class="cls_011">be gradually raised until it reaches maximum</span></div>
<div style="position:absolute;left:287.87px;top:99.12px" class="cls_011"><span class="cls_011">minimum output value (300), and the maximum</span></div>
<div style="position:absolute;left:36.12px;top:114.12px" class="cls_011"><span class="cls_011">brightness. Similarly, turnOffSeconds determines</span></div>
<div style="position:absolute;left:287.87px;top:114.11px" class="cls_011"><span class="cls_011">output value (1800).</span></div>
<div style="position:absolute;left:36.12px;top:129.10px" class="cls_011"><span class="cls_011">the time period for dimming the LEDs. The</span></div>
<div style="position:absolute;left:36.12px;top:144.09px" class="cls_011"><span class="cls_011">variables minOnSeconds and maxOnSeconds</span></div>
<div style="position:absolute;left:287.87px;top:147.09px" class="cls_005"><span class="cls_005">Putting It All Together</span></div>
<div style="position:absolute;left:36.12px;top:159.07px" class="cls_011"><span class="cls_011">determine the range of times set by the variable</span></div>
<div style="position:absolute;left:287.87px;top:170.56px" class="cls_011"><span class="cls_011">Load the completed sketch for Project 7 from your</span></div>
<div style="position:absolute;left:36.12px;top:174.06px" class="cls_011"><span class="cls_011">resistor.</span></div>
<div style="position:absolute;left:287.87px;top:185.55px" class="cls_011"><span class="cls_011">Arduino Sketchbook and download it to the board</span></div>
<div style="position:absolute;left:48.11px;top:193.04px" class="cls_011"><span class="cls_011">In this sketch, there is nothing in the loop</span></div>
<div style="position:absolute;left:287.87px;top:200.53px" class="cls_011"><span class="cls_011">(see Chapter 1).</span></div>
<div style="position:absolute;left:36.12px;top:208.02px" class="cls_011"><span class="cls_011">function. Instead all the code is in setup. So, the</span></div>
<div style="position:absolute;left:299.86px;top:219.51px" class="cls_011"><span class="cls_011">You now need to attach wires from the Vin,</span></div>
<div style="position:absolute;left:36.12px;top:223.01px" class="cls_011"><span class="cls_011">light will automatically start its cycle when it is</span></div>
<div style="position:absolute;left:287.87px;top:234.50px" class="cls_011"><span class="cls_011">GND, and digital pin 11 of the Arduino board to</span></div>
<div style="position:absolute;left:36.12px;top:237.99px" class="cls_011"><span class="cls_011">powered up. Once it has finished, it will stay</span></div>
<div style="position:absolute;left:287.87px;top:249.48px" class="cls_011"><span class="cls_011">the three screw terminals of the LED module</span></div>
<div style="position:absolute;left:36.12px;top:252.98px" class="cls_011"><span class="cls_011">turned off until the reset button is pressed.</span></div>
<div style="position:absolute;left:287.87px;top:264.47px" class="cls_011"><span class="cls_011">(Figure 4-12). Plug a 15V power supply into the</span></div>
<div style="position:absolute;left:48.11px;top:271.96px" class="cls_011"><span class="cls_011">The slow turn-on is accomplished by gradually</span></div>
<div style="position:absolute;left:287.87px;top:279.45px" class="cls_011"><span class="cls_011">board’s power socket and you are ready to try it.</span></div>
<div style="position:absolute;left:36.12px;top:286.94px" class="cls_011"><span class="cls_011">increasing the value of the analog output by 1.</span></div>
<div style="position:absolute;left:299.86px;top:298.44px" class="cls_011"><span class="cls_011">To start the light sequence again, click the reset</span></div>
<div style="position:absolute;left:36.12px;top:301.93px" class="cls_011"><span class="cls_011">This is carried out in a while loop, where the delay</span></div>
<div style="position:absolute;left:287.87px;top:313.42px" class="cls_011"><span class="cls_011">button.</span></div>
<div style="position:absolute;left:36.12px;top:316.92px" class="cls_011"><span class="cls_011">is set to 1/255 of the startup time so that after 255</span></div>
<div style="position:absolute;left:36.12px;top:331.90px" class="cls_011"><span class="cls_011">steps maximum brightness has been achieved.</span></div>
<div style="position:absolute;left:36.12px;top:346.89px" class="cls_011"><span class="cls_011">Slow turn-off works in a similar manner.</span></div>
<div style="position:absolute;left:287.87px;top:351.89px" class="cls_027"><span class="cls_027">Project 8</span></div>
<div style="position:absolute;left:48.11px;top:365.87px" class="cls_011"><span class="cls_011">The time period at full brightness is set by the</span></div>
<div style="position:absolute;left:287.87px;top:371.87px" class="cls_021"><span class="cls_021">High-Powered Strobe Light</span></div>
<div style="position:absolute;left:36.12px;top:380.85px" class="cls_011"><span class="cls_011">analog input. Assuming that we want a range of</span></div>
<div style="position:absolute;left:36.12px;top:395.84px" class="cls_011"><span class="cls_011">times from 5 to 30 minutes, we need to convert the</span></div>
<div style="position:absolute;left:287.87px;top:398.34px" class="cls_011"><span class="cls_011">For this project, you can use the six Luxeon LED</span></div>
<div style="position:absolute;left:36.12px;top:410.82px" class="cls_011"><span class="cls_011">value of 0 to 1023 to a number of seconds between</span></div>
<div style="position:absolute;left:287.87px;top:413.33px" class="cls_011"><span class="cls_011">module of Project 7 or you can use the Luxeon</span></div>
<div style="position:absolute;left:36.12px;top:425.81px" class="cls_011"><span class="cls_011">300 and 1800. Fortunately, there is a handy</span></div>
<div style="position:absolute;left:287.87px;top:428.31px" class="cls_011"><span class="cls_011">shield that we created for Project 4. The software</span></div>
<div style="position:absolute;left:36.12px;top:440.79px" class="cls_011"><span class="cls_011">Arduino function that we can use to do this. The</span></div>
<div style="position:absolute;left:287.87px;top:443.30px" class="cls_011"><span class="cls_011">will be almost the same in both cases.</span></div>
<div style="position:absolute;left:36.12px;top:455.78px" class="cls_011"><span class="cls_011">function map takes five arguments: the value you</span></div>
<div style="position:absolute;left:42.11px;top:707.86px" class="cls_025"><span class="cls_025">Figure 4-12</span></div>
<div style="position:absolute;left:102.05px;top:708.85px" class="cls_026"><span class="cls_026">Project 7. S.A.D. light.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:53820px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background070.jpg" width=552 height=770></div>
<div style="position:absolute;left:299.53px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 4</span></div>
<div style="position:absolute;left:363.59px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    More LED Projects</span></div>
<div style="position:absolute;left:503.25px;top:34.50px" class="cls_017"><span class="cls_017">53</span></div>
<div style="position:absolute;left:48.20px;top:69.16px" class="cls_011"><span class="cls_011">In this version of the strobe light, we are going</span></div>
<div style="position:absolute;left:287.97px;top:70.07px" class="cls_005"><span class="cls_005">Hardware</span></div>
<div style="position:absolute;left:36.21px;top:84.15px" class="cls_011"><span class="cls_011">to control the strobe light effect from the computer</span></div>
<div style="position:absolute;left:287.97px;top:93.55px" class="cls_011"><span class="cls_011">See Project 4 (the Morse code translator using a</span></div>
<div style="position:absolute;left:36.21px;top:99.13px" class="cls_011"><span class="cls_011">with commands. We will send the following</span></div>
<div style="position:absolute;left:287.97px;top:108.53px" class="cls_011"><span class="cls_011">single Luxeon LED shield) or Project 7 (array of</span></div>
<div style="position:absolute;left:36.21px;top:114.12px" class="cls_011"><span class="cls_011">commands over the USB connection using the</span></div>
<div style="position:absolute;left:287.97px;top:123.52px" class="cls_011"><span class="cls_011">six Luxeon LEDs) for components and</span></div>
<div style="position:absolute;left:36.21px;top:129.10px" class="cls_011"><span class="cls_011">Serial Monitor.</span></div>
<div style="position:absolute;left:287.97px;top:138.50px" class="cls_011"><span class="cls_011">construction details.</span></div>
<div style="position:absolute;left:46.20px;top:166.48px" class="cls_036"><span class="cls_036">0-9</span></div>
<div style="position:absolute;left:82.17px;top:166.48px" class="cls_036"><span class="cls_036">0-9 sets the speed of the following</span></div>
<div style="position:absolute;left:287.97px;top:171.47px" class="cls_005"><span class="cls_005">Software</span></div>
<div style="position:absolute;left:82.17px;top:180.46px" class="cls_036"><span class="cls_036">mode commands: 0 for off, 1 for slow,</span></div>
<div style="position:absolute;left:82.17px;top:194.45px" class="cls_036"><span class="cls_036">and 9 for fast</span></div>
<div style="position:absolute;left:287.97px;top:194.95px" class="cls_011"><span class="cls_011">This sketch uses the sin function to produce a nice,</span></div>
<div style="position:absolute;left:46.20px;top:212.43px" class="cls_036"><span class="cls_036">w</span></div>
<div style="position:absolute;left:82.17px;top:212.43px" class="cls_036"><span class="cls_036">Wave effect gradually getting lighter</span></div>
<div style="position:absolute;left:287.97px;top:209.93px" class="cls_011"><span class="cls_011">gently increasing brightness effect. Apart from</span></div>
<div style="position:absolute;left:82.17px;top:226.42px" class="cls_036"><span class="cls_036">then darker</span></div>
<div style="position:absolute;left:287.97px;top:224.92px" class="cls_011"><span class="cls_011">that, the techniques we use in this sketch have</span></div>
<div style="position:absolute;left:46.20px;top:244.40px" class="cls_036"><span class="cls_036">s</span></div>
<div style="position:absolute;left:82.17px;top:244.40px" class="cls_036"><span class="cls_036">Strobe effect</span></div>
<div style="position:absolute;left:287.97px;top:239.90px" class="cls_011"><span class="cls_011">mostly been used in earlier projects.</span></div>
<div style="position:absolute;left:43.21px;top:307.24px" class="cls_032"><span class="cls_032">LISTING PROJECT 8</span></div>
<div style="position:absolute;left:52.20px;top:329.48px" class="cls_031"><span class="cls_031">int ledPin = 11;</span></div>
<div style="position:absolute;left:52.20px;top:355.45px" class="cls_031"><span class="cls_031">int period = 100;</span></div>
<div style="position:absolute;left:52.20px;top:381.43px" class="cls_031"><span class="cls_031">char mode = 'o';</span></div>
<div style="position:absolute;left:151.99px;top:381.43px" class="cls_031"><span class="cls_031">// o-off, s-strobe, w-wave</span></div>
<div style="position:absolute;left:52.20px;top:407.40px" class="cls_031"><span class="cls_031">void setup()</span></div>
<div style="position:absolute;left:52.20px;top:420.39px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:64.06px;top:433.38px" class="cls_031"><span class="cls_031">pinMode(ledPin, OUTPUT);</span></div>
<div style="position:absolute;left:64.06px;top:446.36px" class="cls_031"><span class="cls_031">analogWrite(ledPin, 255);</span></div>
<div style="position:absolute;left:64.06px;top:459.35px" class="cls_031"><span class="cls_031">Serial.begin(9600);</span></div>
<div style="position:absolute;left:52.20px;top:472.34px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.20px;top:498.31px" class="cls_031"><span class="cls_031">void loop()</span></div>
<div style="position:absolute;left:52.20px;top:511.30px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:64.06px;top:524.29px" class="cls_031"><span class="cls_031">if (Serial.available())</span></div>
<div style="position:absolute;left:64.06px;top:537.27px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.93px;top:550.26px" class="cls_031"><span class="cls_031">char ch = Serial.read();</span></div>
<div style="position:absolute;left:75.93px;top:563.25px" class="cls_031"><span class="cls_031">if (ch == '0')</span></div>
<div style="position:absolute;left:75.93px;top:576.23px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:87.79px;top:589.22px" class="cls_031"><span class="cls_031">mode = 0;</span></div>
<div style="position:absolute;left:87.79px;top:602.21px" class="cls_031"><span class="cls_031">analogWrite(ledPin, 255);</span></div>
<div style="position:absolute;left:75.93px;top:615.19px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:75.93px;top:628.18px" class="cls_031"><span class="cls_031">else if (ch > '0' && ch &lt;= '9')</span></div>
<div style="position:absolute;left:75.93px;top:641.17px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:87.79px;top:654.15px" class="cls_031"><span class="cls_031">setPeriod(ch);</span></div>
<div style="position:absolute;left:75.93px;top:667.14px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:75.93px;top:680.13px" class="cls_031"><span class="cls_031">else if (ch == 'w' || ch == 's')</span></div>
<div style="position:absolute;left:464.31px;top:693.12px" class="cls_037"><span class="cls_037">(continued)</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:54600px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background071.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">54</span></div>
<div style="position:absolute;left:77.86px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:43.11px;top:76.46px" class="cls_032"><span class="cls_032">LISTING PROJECT 8  (continued)</span></div>
<div style="position:absolute;left:75.83px;top:98.70px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:87.70px;top:111.69px" class="cls_031"><span class="cls_031">mode = ch;</span></div>
<div style="position:absolute;left:75.83px;top:124.68px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:63.97px;top:137.66px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:63.97px;top:150.65px" class="cls_031"><span class="cls_031">if (mode == 'w')</span></div>
<div style="position:absolute;left:63.97px;top:163.64px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.83px;top:176.63px" class="cls_031"><span class="cls_031">waveLoop();</span></div>
<div style="position:absolute;left:63.97px;top:189.61px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:63.97px;top:202.60px" class="cls_031"><span class="cls_031">else if (mode == 's')</span></div>
<div style="position:absolute;left:63.97px;top:215.59px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.83px;top:228.57px" class="cls_031"><span class="cls_031">strobeLoop();</span></div>
<div style="position:absolute;left:63.97px;top:241.56px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.10px;top:254.55px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.10px;top:280.52px" class="cls_031"><span class="cls_031">void setPeriod(char ch)</span></div>
<div style="position:absolute;left:52.10px;top:293.51px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:58.03px;top:306.50px" class="cls_031"><span class="cls_031">int period1to9 = 9 - (ch - '0');</span></div>
<div style="position:absolute;left:58.03px;top:319.48px" class="cls_031"><span class="cls_031">period = map(period1to9, 0, 9, 50, 500);</span></div>
<div style="position:absolute;left:52.10px;top:332.47px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.10px;top:358.44px" class="cls_031"><span class="cls_031">void waveLoop()</span></div>
<div style="position:absolute;left:52.10px;top:371.43px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:63.97px;top:384.42px" class="cls_031"><span class="cls_031">static float angle = 0.0;</span></div>
<div style="position:absolute;left:63.97px;top:397.41px" class="cls_031"><span class="cls_031">angle = angle + 0.01;</span></div>
<div style="position:absolute;left:63.97px;top:410.39px" class="cls_031"><span class="cls_031">if (angle > 3.142)</span></div>
<div style="position:absolute;left:63.97px;top:423.38px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:81.77px;top:436.37px" class="cls_031"><span class="cls_031">angle = 0;</span></div>
<div style="position:absolute;left:63.97px;top:449.35px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:63.97px;top:462.34px" class="cls_031"><span class="cls_031">// analogWrite(ledPin, 255 - (int)255 * sin(angle));</span></div>
<div style="position:absolute;left:359.58px;top:462.34px" class="cls_031"><span class="cls_031">// Breadboard</span></div>
<div style="position:absolute;left:63.97px;top:475.33px" class="cls_031"><span class="cls_031">analogWrite(ledPin, (int)255 * sin(angle));</span></div>
<div style="position:absolute;left:356.88px;top:475.33px" class="cls_031"><span class="cls_031">// Shield</span></div>
<div style="position:absolute;left:63.97px;top:488.31px" class="cls_031"><span class="cls_031">delay(period / 100);</span></div>
<div style="position:absolute;left:52.10px;top:501.30px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.10px;top:527.28px" class="cls_031"><span class="cls_031">void strobeLoop()</span></div>
<div style="position:absolute;left:52.10px;top:540.26px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:58.03px;top:553.25px" class="cls_031"><span class="cls_031">//analogWrite(ledPin, 0);</span></div>
<div style="position:absolute;left:234.97px;top:553.25px" class="cls_031"><span class="cls_031">// breadboard</span></div>
<div style="position:absolute;left:58.03px;top:566.24px" class="cls_031"><span class="cls_031">analogWrite(ledPin, 255);</span></div>
<div style="position:absolute;left:234.97px;top:566.24px" class="cls_031"><span class="cls_031">// shield</span></div>
<div style="position:absolute;left:58.03px;top:579.22px" class="cls_031"><span class="cls_031">delay(10);</span></div>
<div style="position:absolute;left:58.03px;top:592.21px" class="cls_031"><span class="cls_031">//analogWrite(ledPin, 255);</span></div>
<div style="position:absolute;left:233.89px;top:592.21px" class="cls_031"><span class="cls_031">// breadboard</span></div>
<div style="position:absolute;left:58.03px;top:605.20px" class="cls_031"><span class="cls_031">analogWrite(ledPin, 0);</span></div>
<div style="position:absolute;left:236.04px;top:605.20px" class="cls_031"><span class="cls_031">// shield</span></div>
<div style="position:absolute;left:58.03px;top:618.18px" class="cls_031"><span class="cls_031">delay(period);</span></div>
<div style="position:absolute;left:52.10px;top:631.17px" class="cls_031"><span class="cls_031">}</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:55380px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background072.jpg" width=552 height=770></div>
<div style="position:absolute;left:299.44px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 4</span></div>
<div style="position:absolute;left:363.50px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    More LED Projects</span></div>
<div style="position:absolute;left:503.16px;top:34.50px" class="cls_017"><span class="cls_017">55</span></div>
<div style="position:absolute;left:36.21px;top:70.07px" class="cls_005"><span class="cls_005">Putting It All Together</span></div>
<div style="position:absolute;left:287.97px;top:69.16px" class="cls_011"><span class="cls_011">and the following line will give x a value between</span></div>
<div style="position:absolute;left:287.97px;top:84.15px" class="cls_011"><span class="cls_011">0 and 9:</span></div>
<div style="position:absolute;left:36.21px;top:93.55px" class="cls_011"><span class="cls_011">Load the completed sketch for Project 8 from your</span></div>
<div style="position:absolute;left:36.21px;top:108.53px" class="cls_011"><span class="cls_011">Arduino Sketchbook and download it to the board</span></div>
<div style="position:absolute;left:293.96px;top:109.62px" class="cls_031"><span class="cls_031">int x = random(10);</span></div>
<div style="position:absolute;left:36.21px;top:123.52px" class="cls_011"><span class="cls_011">(see Chapter 1).</span></div>
<div style="position:absolute;left:299.96px;top:135.60px" class="cls_011"><span class="cls_011">As we pointed out at the start of this section,</span></div>
<div style="position:absolute;left:48.20px;top:142.50px" class="cls_011"><span class="cls_011">When you have installed the sketch and fitted</span></div>
<div style="position:absolute;left:287.97px;top:150.58px" class="cls_011"><span class="cls_011">computers are deterministic, and actually our</span></div>
<div style="position:absolute;left:36.21px;top:157.48px" class="cls_011"><span class="cls_011">the Luxeon shield or connected the bright six-</span></div>
<div style="position:absolute;left:287.97px;top:165.57px" class="cls_011"><span class="cls_011">random numbers are not random at all, but a long</span></div>
<div style="position:absolute;left:36.21px;top:172.47px" class="cls_011"><span class="cls_011">Luxeon panel, initially the lights will be off. Open</span></div>
<div style="position:absolute;left:287.97px;top:180.55px" class="cls_011"><span class="cls_011">sequence of numbers with a random distribution.</span></div>
<div style="position:absolute;left:36.21px;top:187.45px" class="cls_011"><span class="cls_011">the Serial Monitor window, type </span><span class="cls_016">s</span><span class="cls_011">, and press</span></div>
<div style="position:absolute;left:287.97px;top:195.54px" class="cls_011"><span class="cls_011">You will actually get the same sequence of</span></div>
<div style="position:absolute;left:36.21px;top:202.44px" class="cls_034"><span class="cls_034">RETURN</span><span class="cls_011">. This will start the light flashing. Try the</span></div>
<div style="position:absolute;left:287.97px;top:210.52px" class="cls_011"><span class="cls_011">numbers every time you run your script.</span></div>
<div style="position:absolute;left:36.21px;top:217.43px" class="cls_011"><span class="cls_011">speed commands 1 to 9. Then try typing the </span><span class="cls_016">w</span></div>
<div style="position:absolute;left:299.96px;top:229.50px" class="cls_011"><span class="cls_011">A second function (randomSeed) allows you to</span></div>
<div style="position:absolute;left:36.21px;top:232.41px" class="cls_011"><span class="cls_011">command to switch to wave mode.</span></div>
<div style="position:absolute;left:287.97px;top:244.49px" class="cls_011"><span class="cls_011">control this. The randomSeed function determines</span></div>
<div style="position:absolute;left:287.97px;top:259.47px" class="cls_011"><span class="cls_011">where in its sequence of pseudo-random numbers</span></div>
<div style="position:absolute;left:36.21px;top:272.87px" class="cls_021"><span class="cls_021">Random Number Generation</span></div>
<div style="position:absolute;left:287.97px;top:274.46px" class="cls_011"><span class="cls_011">the random number generator starts.</span></div>
<div style="position:absolute;left:299.96px;top:293.44px" class="cls_011"><span class="cls_011">A good trick is to use the value of a</span></div>
<div style="position:absolute;left:36.21px;top:299.35px" class="cls_011"><span class="cls_011">Computers are deterministic. If you ask them the</span></div>
<div style="position:absolute;left:287.97px;top:308.43px" class="cls_011"><span class="cls_011">disconnected analog input, as this will float around</span></div>
<div style="position:absolute;left:36.21px;top:314.33px" class="cls_011"><span class="cls_011">same question twice, you should get the same</span></div>
<div style="position:absolute;left:287.97px;top:323.41px" class="cls_011"><span class="cls_011">at a different value and give at least 1000 different</span></div>
<div style="position:absolute;left:36.21px;top:329.32px" class="cls_011"><span class="cls_011">answer. However, sometimes, you want chance to</span></div>
<div style="position:absolute;left:287.97px;top:338.40px" class="cls_011"><span class="cls_011">starting points for our random sequence. This</span></div>
<div style="position:absolute;left:36.21px;top:344.30px" class="cls_011"><span class="cls_011">take a hand. This is obviously useful for games.</span></div>
<div style="position:absolute;left:287.97px;top:353.38px" class="cls_011"><span class="cls_011">wouldn’t do for the lottery, but is acceptable for</span></div>
<div style="position:absolute;left:48.20px;top:363.28px" class="cls_011"><span class="cls_011">It is also useful in other circumstances—for</span></div>
<div style="position:absolute;left:287.97px;top:368.37px" class="cls_011"><span class="cls_011">most applications. Truly random numbers are very</span></div>
<div style="position:absolute;left:36.21px;top:378.27px" class="cls_011"><span class="cls_011">example, a “random walk,” where a robot makes a</span></div>
<div style="position:absolute;left:287.97px;top:383.35px" class="cls_011"><span class="cls_011">hard to come by and involve special hardware.</span></div>
<div style="position:absolute;left:36.21px;top:393.25px" class="cls_011"><span class="cls_011">random turn, then moves forward a random</span></div>
<div style="position:absolute;left:36.21px;top:408.24px" class="cls_011"><span class="cls_011">distance or until it hits something, then reverses</span></div>
<div style="position:absolute;left:36.21px;top:423.22px" class="cls_011"><span class="cls_011">and turns again, is much better at ensuring the</span></div>
<div style="position:absolute;left:287.97px;top:421.82px" class="cls_027"><span class="cls_027">Project 9</span></div>
<div style="position:absolute;left:36.21px;top:438.21px" class="cls_011"><span class="cls_011">robot covers the whole area of a room than a more</span></div>
<div style="position:absolute;left:287.97px;top:441.80px" class="cls_021"><span class="cls_021">LED Dice</span></div>
<div style="position:absolute;left:36.21px;top:453.19px" class="cls_011"><span class="cls_011">fixed algorithm that can result in the robot getting</span></div>
<div style="position:absolute;left:36.21px;top:468.18px" class="cls_011"><span class="cls_011">stuck in a pattern.</span></div>
<div style="position:absolute;left:287.97px;top:468.27px" class="cls_011"><span class="cls_011">This project uses what we have just learned about</span></div>
<div style="position:absolute;left:287.97px;top:483.26px" class="cls_011"><span class="cls_011">random numbers to create electronic dice with six</span></div>
<div style="position:absolute;left:48.20px;top:487.16px" class="cls_011"><span class="cls_011">The Arduino library includes a function for</span></div>
<div style="position:absolute;left:287.97px;top:498.24px" class="cls_011"><span class="cls_011">LEDs and a button. Every time you press the</span></div>
<div style="position:absolute;left:36.21px;top:502.14px" class="cls_011"><span class="cls_011">creating random numbers.</span></div>
<div style="position:absolute;left:287.97px;top:513.23px" class="cls_011"><span class="cls_011">button, the LEDs “roll” for a while before settling</span></div>
<div style="position:absolute;left:48.20px;top:521.13px" class="cls_011"><span class="cls_011">There are two flavors of the function random. It</span></div>
<div style="position:absolute;left:287.97px;top:528.21px" class="cls_011"><span class="cls_011">on a value and then flashing it.</span></div>
<div style="position:absolute;left:36.21px;top:536.11px" class="cls_011"><span class="cls_011">can either take two arguments (minimum and</span></div>
<div style="position:absolute;left:36.21px;top:551.10px" class="cls_011"><span class="cls_011">maximum) or one argument (maximum), in which</span></div>
<div style="position:absolute;left:295.97px;top:560.79px" class="cls_028"><span class="cls_028">COMPONENTS AND EQUIPMENT</span></div>
<div style="position:absolute;left:36.21px;top:566.08px" class="cls_011"><span class="cls_011">case the minimum is assumed to be 0.</span></div>
<div style="position:absolute;left:324.93px;top:584.17px" class="cls_029"><span class="cls_029">Description</span></div>
<div style="position:absolute;left:455.81px;top:584.17px" class="cls_029"><span class="cls_029">Appendix</span></div>
<div style="position:absolute;left:48.20px;top:585.06px" class="cls_011"><span class="cls_011">Beware, though, because the maximum</span></div>
<div style="position:absolute;left:36.21px;top:600.05px" class="cls_011"><span class="cls_011">argument is misleading, as the highest number you</span></div>
<div style="position:absolute;left:324.93px;top:604.15px" class="cls_026"><span class="cls_026">Arduino Diecimila or</span></div>
<div style="position:absolute;left:36.21px;top:615.03px" class="cls_011"><span class="cls_011">can actually get back is the maximum minus one.</span></div>
<div style="position:absolute;left:324.93px;top:617.14px" class="cls_026"><span class="cls_026">Duemilanove board or clone</span></div>
<div style="position:absolute;left:476.19px;top:617.14px" class="cls_026"><span class="cls_026">1</span></div>
<div style="position:absolute;left:48.20px;top:634.01px" class="cls_011"><span class="cls_011">So, the following line will give x a value</span></div>
<div style="position:absolute;left:297.96px;top:634.12px" class="cls_026"><span class="cls_026">D1-7</span></div>
<div style="position:absolute;left:324.93px;top:634.12px" class="cls_026"><span class="cls_026">Standard red LEDs</span></div>
<div style="position:absolute;left:472.34px;top:634.12px" class="cls_026"><span class="cls_026">23</span></div>
<div style="position:absolute;left:36.21px;top:649.00px" class="cls_011"><span class="cls_011">between 1 and 6:</span></div>
<div style="position:absolute;left:297.96px;top:651.10px" class="cls_026"><span class="cls_026">R1-7</span></div>
<div style="position:absolute;left:324.93px;top:651.10px" class="cls_026"><span class="cls_026">270</span></div>
<div style="position:absolute;left:354.74px;top:651.10px" class="cls_026"><span class="cls_026">0.5W metal film resistor</span></div>
<div style="position:absolute;left:474.89px;top:651.10px" class="cls_026"><span class="cls_026">6</span></div>
<div style="position:absolute;left:297.96px;top:668.09px" class="cls_026"><span class="cls_026">S1</span></div>
<div style="position:absolute;left:324.93px;top:668.09px" class="cls_026"><span class="cls_026">Miniature push-to-make switch</span></div>
<div style="position:absolute;left:471.94px;top:668.09px" class="cls_026"><span class="cls_026">48</span></div>
<div style="position:absolute;left:42.21px;top:674.48px" class="cls_031"><span class="cls_031">int x = random(1, 7);</span></div>
<div style="position:absolute;left:297.96px;top:685.07px" class="cls_026"><span class="cls_026">R8</span></div>
<div style="position:absolute;left:324.93px;top:685.07px" class="cls_026"><span class="cls_026">100K</span></div>
<div style="position:absolute;left:360.39px;top:685.07px" class="cls_026"><span class="cls_026">0.5W metal film resistor  13</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:56160px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background073.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">56</span></div>
<div style="position:absolute;left:77.59px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:36.12px;top:70.07px" class="cls_005"><span class="cls_005">Hardware</span></div>
<div style="position:absolute;left:299.86px;top:69.16px" class="cls_011"><span class="cls_011">Figure 4-14 shows the breadboard layout and</span></div>
<div style="position:absolute;left:287.87px;top:84.14px" class="cls_011"><span class="cls_011">Figure 4-15 the finished breadboard.</span></div>
<div style="position:absolute;left:36.12px;top:93.55px" class="cls_011"><span class="cls_011">The schematic diagram for Project 9 is shown in</span></div>
<div style="position:absolute;left:36.12px;top:108.53px" class="cls_011"><span class="cls_011">Figure 4-13. Each LED is driven by a separate</span></div>
<div style="position:absolute;left:287.87px;top:117.11px" class="cls_005"><span class="cls_005">Software</span></div>
<div style="position:absolute;left:36.12px;top:123.52px" class="cls_011"><span class="cls_011">digital output via a current-limiting resistor. The</span></div>
<div style="position:absolute;left:36.12px;top:138.50px" class="cls_011"><span class="cls_011">only other components are the switch and its</span></div>
<div style="position:absolute;left:287.87px;top:140.59px" class="cls_011"><span class="cls_011">This sketch is fairly straightforward; there are a</span></div>
<div style="position:absolute;left:36.12px;top:153.49px" class="cls_011"><span class="cls_011">associated pull-down resistor.</span></div>
<div style="position:absolute;left:287.87px;top:155.58px" class="cls_011"><span class="cls_011">few nice touches that make the dice behave in a</span></div>
<div style="position:absolute;left:48.11px;top:172.47px" class="cls_011"><span class="cls_011">Even though a die can only have a maximum of</span></div>
<div style="position:absolute;left:287.87px;top:170.56px" class="cls_011"><span class="cls_011">similar way to real dice. For example, as the dice</span></div>
<div style="position:absolute;left:36.12px;top:187.45px" class="cls_011"><span class="cls_011">six dots, we still need seven LEDs to have the</span></div>
<div style="position:absolute;left:287.87px;top:185.55px" class="cls_011"><span class="cls_011">rolls, the number changes, but gradually slows.</span></div>
<div style="position:absolute;left:36.12px;top:202.44px" class="cls_011"><span class="cls_011">normal arrangement of a dot in the middle for odd-</span></div>
<div style="position:absolute;left:287.87px;top:200.53px" class="cls_011"><span class="cls_011">Also, the length of time that the dice rolls is also</span></div>
<div style="position:absolute;left:36.12px;top:217.42px" class="cls_011"><span class="cls_011">numbered rolls.</span></div>
<div style="position:absolute;left:287.87px;top:215.52px" class="cls_011"><span class="cls_011">random.</span></div>
<div style="position:absolute;left:42.11px;top:510.05px" class="cls_025"><span class="cls_025">Figure 4-13</span></div>
<div style="position:absolute;left:102.05px;top:511.04px" class="cls_026"><span class="cls_026">Schematic diagram for Project 9.</span></div>
<div style="position:absolute;left:42.11px;top:707.86px" class="cls_025"><span class="cls_025">Figure 4-14</span></div>
<div style="position:absolute;left:102.05px;top:708.85px" class="cls_026"><span class="cls_026">The breadboard layout for Project 9.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:56940px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background074.jpg" width=552 height=770></div>
<div style="position:absolute;left:299.55px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 4</span></div>
<div style="position:absolute;left:363.61px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    More LED Projects</span></div>
<div style="position:absolute;left:503.27px;top:34.50px" class="cls_017"><span class="cls_017">57</span></div>
<div style="position:absolute;left:42.21px;top:289.64px" class="cls_025"><span class="cls_025">Figure 4-15</span></div>
<div style="position:absolute;left:102.15px;top:290.62px" class="cls_026"><span class="cls_026">Project 9. LED dice.</span></div>
<div style="position:absolute;left:43.21px;top:329.22px" class="cls_032"><span class="cls_032">LISTING PROJECT 9</span></div>
<div style="position:absolute;left:52.20px;top:351.46px" class="cls_031"><span class="cls_031">int ledPins[7] = {2, 3, 4, 5, 6, 7, 8};</span></div>
<div style="position:absolute;left:52.20px;top:364.44px" class="cls_031"><span class="cls_031">int dicePatterns[7][7] = {</span></div>
<div style="position:absolute;left:64.06px;top:377.43px" class="cls_031"><span class="cls_031">{0, 0, 0, 0, 0, 0, 1},</span></div>
<div style="position:absolute;left:269.03px;top:377.43px" class="cls_031"><span class="cls_031">// 1</span></div>
<div style="position:absolute;left:64.06px;top:390.42px" class="cls_031"><span class="cls_031">{0, 0, 1, 1, 0, 0, 0},</span></div>
<div style="position:absolute;left:269.03px;top:390.42px" class="cls_031"><span class="cls_031">// 2</span></div>
<div style="position:absolute;left:64.06px;top:403.40px" class="cls_031"><span class="cls_031">{0, 0, 1, 1, 0, 0, 1},</span></div>
<div style="position:absolute;left:269.03px;top:403.40px" class="cls_031"><span class="cls_031">// 3</span></div>
<div style="position:absolute;left:64.06px;top:416.39px" class="cls_031"><span class="cls_031">{1, 0, 1, 1, 0, 1, 0},</span></div>
<div style="position:absolute;left:269.03px;top:416.39px" class="cls_031"><span class="cls_031">// 4</span></div>
<div style="position:absolute;left:64.06px;top:429.38px" class="cls_031"><span class="cls_031">{1, 0, 1, 1, 0, 1, 1},</span></div>
<div style="position:absolute;left:269.03px;top:429.38px" class="cls_031"><span class="cls_031">// 5</span></div>
<div style="position:absolute;left:64.06px;top:442.37px" class="cls_031"><span class="cls_031">{1, 1, 1, 1, 1, 1, 0},</span></div>
<div style="position:absolute;left:269.03px;top:442.37px" class="cls_031"><span class="cls_031">// 6</span></div>
<div style="position:absolute;left:64.06px;top:455.35px" class="cls_031"><span class="cls_031">{0, 0, 0, 0, 0, 0, 0}</span></div>
<div style="position:absolute;left:269.56px;top:455.35px" class="cls_031"><span class="cls_031">// BLANK</span></div>
<div style="position:absolute;left:52.20px;top:468.34px" class="cls_031"><span class="cls_031">};</span></div>
<div style="position:absolute;left:52.20px;top:494.31px" class="cls_031"><span class="cls_031">int switchPin = 9;</span></div>
<div style="position:absolute;left:52.20px;top:507.30px" class="cls_031"><span class="cls_031">int blank = 6;</span></div>
<div style="position:absolute;left:52.20px;top:533.28px" class="cls_031"><span class="cls_031">void setup()</span></div>
<div style="position:absolute;left:52.20px;top:546.26px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:64.06px;top:559.25px" class="cls_031"><span class="cls_031">for (int i = 0; i &lt; 7; i++)</span></div>
<div style="position:absolute;left:64.06px;top:572.24px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.93px;top:585.22px" class="cls_031"><span class="cls_031">pinMode(ledPins[i], OUTPUT);</span></div>
<div style="position:absolute;left:75.93px;top:598.21px" class="cls_031"><span class="cls_031">digitalWrite(ledPins[i], LOW);</span></div>
<div style="position:absolute;left:64.06px;top:611.20px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:64.06px;top:624.18px" class="cls_031"><span class="cls_031">randomSeed(analogRead(0));</span></div>
<div style="position:absolute;left:52.20px;top:637.17px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.20px;top:676.13px" class="cls_031"><span class="cls_031">void loop()</span></div>
<div style="position:absolute;left:52.20px;top:689.12px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:464.31px;top:701.11px" class="cls_037"><span class="cls_037">(continued)</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:57720px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background075.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">58</span></div>
<div style="position:absolute;left:77.27px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:43.11px;top:76.46px" class="cls_032"><span class="cls_032">LISTING PROJECT 9 (continued)</span></div>
<div style="position:absolute;left:63.97px;top:98.70px" class="cls_031"><span class="cls_031">if (digitalRead(switchPin))</span></div>
<div style="position:absolute;left:63.97px;top:111.69px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.83px;top:124.68px" class="cls_031"><span class="cls_031">rollTheDice();</span></div>
<div style="position:absolute;left:63.97px;top:137.66px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:63.97px;top:150.65px" class="cls_031"><span class="cls_031">delay(100);</span></div>
<div style="position:absolute;left:52.10px;top:163.64px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.10px;top:189.61px" class="cls_031"><span class="cls_031">void rollTheDice()</span></div>
<div style="position:absolute;left:52.10px;top:202.60px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:63.97px;top:215.59px" class="cls_031"><span class="cls_031">int result = 0;</span></div>
<div style="position:absolute;left:63.97px;top:228.58px" class="cls_031"><span class="cls_031">int lengthOfRoll = random(15, 25);</span></div>
<div style="position:absolute;left:63.97px;top:241.56px" class="cls_031"><span class="cls_031">for (int i = 0; i &lt; lengthOfRoll; i++)</span></div>
<div style="position:absolute;left:63.97px;top:254.55px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.83px;top:267.54px" class="cls_031"><span class="cls_031">result = random(0, 6);</span></div>
<div style="position:absolute;left:267.32px;top:267.54px" class="cls_031"><span class="cls_031">// result will be 0 to 5 not 1 to 6</span></div>
<div style="position:absolute;left:75.83px;top:280.53px" class="cls_031"><span class="cls_031">show(result);</span></div>
<div style="position:absolute;left:75.83px;top:293.51px" class="cls_031"><span class="cls_031">delay(50 + i * 10);</span></div>
<div style="position:absolute;left:63.97px;top:306.50px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:63.97px;top:319.49px" class="cls_031"><span class="cls_031">for (int j = 0; j &lt; 3; j++)</span></div>
<div style="position:absolute;left:63.97px;top:332.47px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.83px;top:345.46px" class="cls_031"><span class="cls_031">show(blank);</span></div>
<div style="position:absolute;left:75.83px;top:358.45px" class="cls_031"><span class="cls_031">delay(500);</span></div>
<div style="position:absolute;left:75.83px;top:371.43px" class="cls_031"><span class="cls_031">show(result);</span></div>
<div style="position:absolute;left:75.83px;top:384.42px" class="cls_031"><span class="cls_031">delay(500);</span></div>
<div style="position:absolute;left:63.97px;top:397.41px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.10px;top:410.39px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.10px;top:436.37px" class="cls_031"><span class="cls_031">void show(int result)</span></div>
<div style="position:absolute;left:52.10px;top:449.36px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:58.03px;top:475.33px" class="cls_031"><span class="cls_031">for (int i = 0; i &lt; 7; i++)</span></div>
<div style="position:absolute;left:58.03px;top:488.32px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:69.90px;top:501.30px" class="cls_031"><span class="cls_031">digitalWrite(ledPins[i], dicePatterns[result][i]);</span></div>
<div style="position:absolute;left:58.03px;top:514.29px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.10px;top:527.28px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:48.11px;top:575.07px" class="cls_011"><span class="cls_011">We now have seven LEDs to initialize in the</span></div>
<div style="position:absolute;left:287.87px;top:575.06px" class="cls_011"><span class="cls_011">as an Evil Genius, you may like to omit that line</span></div>
<div style="position:absolute;left:36.12px;top:590.05px" class="cls_011"><span class="cls_011">setup method, so it is worth putting them in an</span></div>
<div style="position:absolute;left:287.87px;top:590.05px" class="cls_011"><span class="cls_011">so that you can cheat at Snakes and Ladders!</span></div>
<div style="position:absolute;left:36.12px;top:605.04px" class="cls_011"><span class="cls_011">array and looping over the array to initialize each</span></div>
<div style="position:absolute;left:299.86px;top:609.03px" class="cls_011"><span class="cls_011">The dicePatterns array determines which LEDs</span></div>
<div style="position:absolute;left:36.12px;top:620.02px" class="cls_011"><span class="cls_011">pin. We also have a call to randomSeed in the</span></div>
<div style="position:absolute;left:287.87px;top:624.01px" class="cls_011"><span class="cls_011">should be on or off for any particular throw. So</span></div>
<div style="position:absolute;left:36.12px;top:635.01px" class="cls_011"><span class="cls_011">setup method. If this was not there, every time we</span></div>
<div style="position:absolute;left:287.87px;top:639.00px" class="cls_011"><span class="cls_011">each throw element of the array is actually itself an</span></div>
<div style="position:absolute;left:36.12px;top:649.99px" class="cls_011"><span class="cls_011">reset the board, we would end up with the same</span></div>
<div style="position:absolute;left:287.87px;top:653.98px" class="cls_011"><span class="cls_011">array of seven elements, each one being either</span></div>
<div style="position:absolute;left:36.12px;top:664.98px" class="cls_011"><span class="cls_011">sequence of dice throws. As an experiment, you</span></div>
<div style="position:absolute;left:287.87px;top:668.97px" class="cls_011"><span class="cls_011">HIGH or LOW (1 or 0). When we come to display</span></div>
<div style="position:absolute;left:36.12px;top:679.96px" class="cls_011"><span class="cls_011">may wish to try commenting out this line by</span></div>
<div style="position:absolute;left:287.87px;top:683.95px" class="cls_011"><span class="cls_011">a particular result of throwing the dice, we can just</span></div>
<div style="position:absolute;left:36.12px;top:694.95px" class="cls_011"><span class="cls_011">placing a // in front of it and verifying this. In fact,</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:58500px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background076.jpg" width=552 height=770></div>
<div style="position:absolute;left:299.12px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 4</span></div>
<div style="position:absolute;left:363.18px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    More LED Projects</span></div>
<div style="position:absolute;left:502.84px;top:34.50px" class="cls_017"><span class="cls_017">59</span></div>
<div style="position:absolute;left:36.21px;top:69.16px" class="cls_011"><span class="cls_011">loop over the array for the throw, setting each LED</span></div>
<div style="position:absolute;left:287.97px;top:69.47px" class="cls_021"><span class="cls_021">Summary</span></div>
<div style="position:absolute;left:36.21px;top:84.15px" class="cls_011"><span class="cls_011">accordingly.</span></div>
<div style="position:absolute;left:287.97px;top:95.94px" class="cls_011"><span class="cls_011">In this chapter we have used a variety of LEDs and</span></div>
<div style="position:absolute;left:287.97px;top:110.93px" class="cls_011"><span class="cls_011">software techniques for lighting them in interesting</span></div>
<div style="position:absolute;left:36.21px;top:117.11px" class="cls_005"><span class="cls_005">Putting It All Together</span></div>
<div style="position:absolute;left:287.97px;top:125.91px" class="cls_011"><span class="cls_011">ways. In the next chapter we will investigate some</span></div>
<div style="position:absolute;left:36.21px;top:140.59px" class="cls_011"><span class="cls_011">Load the completed sketch for Project 9 from your</span></div>
<div style="position:absolute;left:287.97px;top:140.90px" class="cls_011"><span class="cls_011">different types of sensors and use them to provide</span></div>
<div style="position:absolute;left:36.21px;top:155.58px" class="cls_011"><span class="cls_011">Arduino Sketchbook and download it to the board</span></div>
<div style="position:absolute;left:287.97px;top:155.88px" class="cls_011"><span class="cls_011">inputs to our projects.</span></div>
<div style="position:absolute;left:36.21px;top:170.56px" class="cls_011"><span class="cls_011">(see Chapter 1).</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:59280px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background077.jpg" width=552 height=770></div>
<div style="position:absolute;left:196.00px;top:374.44px" class="cls_020"><span class="cls_020">This page intentionally left blank</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:60060px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background078.jpg" width=552 height=770></div>
<div style="position:absolute;left:196.47px;top:54.87px" class="cls_024"><span class="cls_024">C H A P T E R</span></div>
<div style="position:absolute;left:344.31px;top:54.87px" class="cls_024"><span class="cls_024">5</span></div>
<div style="position:absolute;left:164.65px;top:103.55px" class="cls_023"><span class="cls_023">Sensor Projects</span></div>
<div style="position:absolute;left:36.21px;top:223.00px" class="cls_016"><span class="cls_016">S</span><span class="cls_019">ENSORS TURN REAL</span><span class="cls_016">-</span><span class="cls_019">WORLD</span><span class="cls_011"> measurements into</span></div>
<div style="position:absolute;left:299.96px;top:222.99px" class="cls_011"><span class="cls_011">Unfortunately, keypads do not usually have pins</span></div>
<div style="position:absolute;left:36.21px;top:237.98px" class="cls_011"><span class="cls_011">electronic signals that we can then use on our</span></div>
<div style="position:absolute;left:287.97px;top:237.98px" class="cls_011"><span class="cls_011">attached, so we will have to attach some, and the</span></div>
<div style="position:absolute;left:36.21px;top:252.97px" class="cls_011"><span class="cls_011">Arduino boards. The projects in this chapter are all</span></div>
<div style="position:absolute;left:287.97px;top:252.96px" class="cls_011"><span class="cls_011">only way to do that is to solder them on. So this is</span></div>
<div style="position:absolute;left:36.21px;top:267.95px" class="cls_011"><span class="cls_011">about using light and temperature.</span></div>
<div style="position:absolute;left:287.97px;top:267.95px" class="cls_011"><span class="cls_011">another of our projects where you will have to do a</span></div>
<div style="position:absolute;left:287.97px;top:282.93px" class="cls_011"><span class="cls_011">little soldering.</span></div>
<div style="position:absolute;left:48.20px;top:286.93px" class="cls_011"><span class="cls_011">We also look at how to interface with keypads</span></div>
<div style="position:absolute;left:36.21px;top:301.92px" class="cls_011"><span class="cls_011">and rotary encoders.</span></div>
<div style="position:absolute;left:287.97px;top:315.91px" class="cls_005"><span class="cls_005">Hardware</span></div>
<div style="position:absolute;left:287.97px;top:339.38px" class="cls_011"><span class="cls_011">The schematic diagram for Project 10 is shown in</span></div>
<div style="position:absolute;left:36.21px;top:340.38px" class="cls_027"><span class="cls_027">Project 10</span></div>
<div style="position:absolute;left:287.97px;top:354.37px" class="cls_011"><span class="cls_011">Figure 5-1. By now, you will be used to LEDs; the</span></div>
<div style="position:absolute;left:36.21px;top:360.36px" class="cls_021"><span class="cls_021">Keypad Security Code</span></div>
<div style="position:absolute;left:287.97px;top:369.35px" class="cls_011"><span class="cls_011">new component is the keypad.</span></div>
<div style="position:absolute;left:36.21px;top:386.84px" class="cls_011"><span class="cls_011">This project would not be out of place in the lair of</span></div>
<div style="position:absolute;left:299.96px;top:388.34px" class="cls_011"><span class="cls_011">Keypads are normally arranged in a grid so that</span></div>
<div style="position:absolute;left:36.21px;top:401.82px" class="cls_011"><span class="cls_011">any Evil Genius worth their salt. A secret code</span></div>
<div style="position:absolute;left:287.97px;top:403.32px" class="cls_011"><span class="cls_011">when one of the keys is pressed, it connects a row</span></div>
<div style="position:absolute;left:36.21px;top:416.81px" class="cls_011"><span class="cls_011">must be entered on the keypad, and if it is correct,</span></div>
<div style="position:absolute;left:287.97px;top:418.31px" class="cls_011"><span class="cls_011">to a column. Figure 5-2 shows a typical</span></div>
<div style="position:absolute;left:36.21px;top:431.79px" class="cls_011"><span class="cls_011">a green LED will light; otherwise, a red LED will</span></div>
<div style="position:absolute;left:287.97px;top:433.29px" class="cls_011"><span class="cls_011">arrangement for a 12-key keyboard with numbers</span></div>
<div style="position:absolute;left:36.21px;top:446.78px" class="cls_011"><span class="cls_011">stay lit. In Project 27, we will revisit this project</span></div>
<div style="position:absolute;left:287.97px;top:448.28px" class="cls_011"><span class="cls_011">from 0 to 9 and * and # keys.</span></div>
<div style="position:absolute;left:36.21px;top:461.76px" class="cls_011"><span class="cls_011">and show how it cannot just show the appropriate</span></div>
<div style="position:absolute;left:299.96px;top:467.26px" class="cls_011"><span class="cls_011">The key switches are arranged at the</span></div>
<div style="position:absolute;left:36.21px;top:476.75px" class="cls_011"><span class="cls_011">light, but also control a door lock.</span></div>
<div style="position:absolute;left:287.97px;top:482.24px" class="cls_011"><span class="cls_011">intersection of row-and-column wires. When a key</span></div>
<div style="position:absolute;left:287.97px;top:497.23px" class="cls_011"><span class="cls_011">is pressed, it connects a particular row to a</span></div>
<div style="position:absolute;left:287.97px;top:512.21px" class="cls_011"><span class="cls_011">particular column.</span></div>
<div style="position:absolute;left:44.22px;top:516.82px" class="cls_028"><span class="cls_028">COMPONENTS AND EQUIPMENT</span></div>
<div style="position:absolute;left:299.96px;top:531.19px" class="cls_011"><span class="cls_011">By arranging the keys in a grid like this, it</span></div>
<div style="position:absolute;left:70.18px;top:540.20px" class="cls_029"><span class="cls_029">Description</span></div>
<div style="position:absolute;left:204.06px;top:540.20px" class="cls_029"><span class="cls_029">Appendix</span></div>
<div style="position:absolute;left:287.97px;top:546.18px" class="cls_011"><span class="cls_011">means that we only need to use 7 (4 rows + 3</span></div>
<div style="position:absolute;left:70.18px;top:560.18px" class="cls_026"><span class="cls_026">Arduino Diecimila or</span></div>
<div style="position:absolute;left:287.97px;top:561.16px" class="cls_011"><span class="cls_011">columns) of our digital pins rather than 12 (one for</span></div>
<div style="position:absolute;left:70.18px;top:573.16px" class="cls_026"><span class="cls_026">Duemilanove board or clone</span></div>
<div style="position:absolute;left:224.44px;top:573.16px" class="cls_026"><span class="cls_026">1</span></div>
<div style="position:absolute;left:287.97px;top:576.15px" class="cls_011"><span class="cls_011">each key).</span></div>
<div style="position:absolute;left:46.20px;top:590.15px" class="cls_026"><span class="cls_026">D1</span></div>
<div style="position:absolute;left:70.18px;top:590.15px" class="cls_026"><span class="cls_026">Red 5-mm LED</span></div>
<div style="position:absolute;left:220.59px;top:590.15px" class="cls_026"><span class="cls_026">23</span></div>
<div style="position:absolute;left:299.96px;top:595.13px" class="cls_011"><span class="cls_011">However, it also means that we have to do a bit</span></div>
<div style="position:absolute;left:46.20px;top:607.13px" class="cls_026"><span class="cls_026">D2</span></div>
<div style="position:absolute;left:70.18px;top:607.13px" class="cls_026"><span class="cls_026">Green 5-mm LED</span></div>
<div style="position:absolute;left:220.60px;top:607.13px" class="cls_026"><span class="cls_026">25</span></div>
<div style="position:absolute;left:287.97px;top:610.12px" class="cls_011"><span class="cls_011">more work in the software to determine which</span></div>
<div style="position:absolute;left:46.20px;top:624.12px" class="cls_026"><span class="cls_026">R1-2  270</span></div>
<div style="position:absolute;left:99.99px;top:624.12px" class="cls_026"><span class="cls_026">0.5W metal film resistor</span></div>
<div style="position:absolute;left:223.13px;top:624.12px" class="cls_026"><span class="cls_026">6</span></div>
<div style="position:absolute;left:287.97px;top:625.10px" class="cls_011"><span class="cls_011">keys are pressed. The basic approach we have to</span></div>
<div style="position:absolute;left:46.20px;top:641.10px" class="cls_026"><span class="cls_026">K1</span></div>
<div style="position:absolute;left:70.18px;top:641.10px" class="cls_026"><span class="cls_026">4 by 3 keypad</span></div>
<div style="position:absolute;left:220.27px;top:641.10px" class="cls_026"><span class="cls_026">54</span></div>
<div style="position:absolute;left:287.97px;top:640.09px" class="cls_011"><span class="cls_011">take is to connect each row to a digital output and</span></div>
<div style="position:absolute;left:70.18px;top:658.08px" class="cls_026"><span class="cls_026">0.1-inch header strip</span></div>
<div style="position:absolute;left:220.54px;top:658.08px" class="cls_026"><span class="cls_026">55</span></div>
<div style="position:absolute;left:287.97px;top:655.07px" class="cls_011"><span class="cls_011">each column to a digital input. We then put each</span></div>
<div style="position:absolute;left:287.97px;top:670.06px" class="cls_011"><span class="cls_011">output high in turn and see which inputs are high.</span></div>
<div style="position:absolute;left:504.92px;top:718.82px" class="cls_017"><span class="cls_017">61</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:60840px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background079.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">62</span></div>
<div style="position:absolute;left:77.52px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:42.11px;top:362.37px" class="cls_025"><span class="cls_025">Figure 5-1</span></div>
<div style="position:absolute;left:102.05px;top:363.35px" class="cls_026"><span class="cls_026">Schematic diagram for Project 10.</span></div>
<div style="position:absolute;left:48.11px;top:392.25px" class="cls_011"><span class="cls_011">Figure 5-3 shows how you can solder seven pins</span></div>
<div style="position:absolute;left:287.87px;top:392.25px" class="cls_011"><span class="cls_011">are bought in strips and can be easily snapped to</span></div>
<div style="position:absolute;left:36.12px;top:407.23px" class="cls_011"><span class="cls_011">from a pin header strip onto the keypad so that you</span></div>
<div style="position:absolute;left:287.87px;top:407.23px" class="cls_011"><span class="cls_011">provide the number of pins required.</span></div>
<div style="position:absolute;left:36.12px;top:422.22px" class="cls_011"><span class="cls_011">can then connect it to the breadboard. Pin headers</span></div>
<div style="position:absolute;left:299.86px;top:426.21px" class="cls_011"><span class="cls_011">Now, we just need to find out which pin on the</span></div>
<div style="position:absolute;left:287.87px;top:441.20px" class="cls_011"><span class="cls_011">keypad corresponds to which row or column. If we</span></div>
<div style="position:absolute;left:287.87px;top:456.18px" class="cls_011"><span class="cls_011">are lucky, the keypad will come with a datasheet</span></div>
<div style="position:absolute;left:287.87px;top:471.17px" class="cls_011"><span class="cls_011">that tells us this. If not, we will have to do some</span></div>
<div style="position:absolute;left:287.87px;top:486.15px" class="cls_011"><span class="cls_011">detective work with a multimeter. Set the</span></div>
<div style="position:absolute;left:287.87px;top:501.14px" class="cls_011"><span class="cls_011">multimeter to continuity so that it beeps when you</span></div>
<div style="position:absolute;left:287.87px;top:516.12px" class="cls_011"><span class="cls_011">connect the leads together. Then get some paper,</span></div>
<div style="position:absolute;left:42.11px;top:709.86px" class="cls_025"><span class="cls_025">Figure 5-2</span></div>
<div style="position:absolute;left:102.05px;top:710.85px" class="cls_026"><span class="cls_026">A 12-switch keypad.</span></div>
<div style="position:absolute;left:293.87px;top:708.86px" class="cls_025"><span class="cls_025">Figure 5-3</span></div>
<div style="position:absolute;left:353.81px;top:709.85px" class="cls_026"><span class="cls_026">Soldering pins to the keypad.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:61620px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background080.jpg" width=552 height=770></div>
<div style="position:absolute;left:313.87px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 5</span></div>
<div style="position:absolute;left:377.34px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    Sensor Projects</span></div>
<div style="position:absolute;left:502.93px;top:34.50px" class="cls_017"><span class="cls_017">63</span></div>
<div style="position:absolute;left:299.96px;top:69.16px" class="cls_011"><span class="cls_011">The completed breadboard layout is shown in</span></div>
<div style="position:absolute;left:287.97px;top:84.14px" class="cls_011"><span class="cls_011">Figure 5-5. Note that the keypad conveniently has</span></div>
<div style="position:absolute;left:287.97px;top:99.13px" class="cls_011"><span class="cls_011">seven pins that will just fit directly into the Digital</span></div>
<div style="position:absolute;left:287.97px;top:114.11px" class="cls_011"><span class="cls_011">Pin 0 to 7 socket on the Arduino board (Figure</span></div>
<div style="position:absolute;left:287.97px;top:129.10px" class="cls_011"><span class="cls_011">5-6), so we only need the breadboard for the two</span></div>
<div style="position:absolute;left:287.97px;top:144.08px" class="cls_011"><span class="cls_011">LEDs.</span></div>
<div style="position:absolute;left:299.96px;top:163.06px" class="cls_011"><span class="cls_011">You may have noticed that digital pins 0 and 1</span></div>
<div style="position:absolute;left:287.97px;top:178.05px" class="cls_011"><span class="cls_011">have TX and RX next to them. This is because</span></div>
<div style="position:absolute;left:287.97px;top:193.03px" class="cls_011"><span class="cls_011">they are also used by the Arduino board for serial</span></div>
<div style="position:absolute;left:287.97px;top:208.02px" class="cls_011"><span class="cls_011">communications, including the USB connection. In</span></div>
<div style="position:absolute;left:287.97px;top:223.00px" class="cls_011"><span class="cls_011">this case, we are not using digital pin 0, but we</span></div>
<div style="position:absolute;left:287.97px;top:237.99px" class="cls_011"><span class="cls_011">have connected digital pin 1 to the keyboard’s</span></div>
<div style="position:absolute;left:287.97px;top:252.97px" class="cls_011"><span class="cls_011">middle column. We will still be able to program</span></div>
<div style="position:absolute;left:287.97px;top:267.96px" class="cls_011"><span class="cls_011">the board, but it does mean that we will not be able</span></div>
<div style="position:absolute;left:287.97px;top:282.94px" class="cls_011"><span class="cls_011">to communicate over the USB connection while</span></div>
<div style="position:absolute;left:42.21px;top:297.63px" class="cls_025"><span class="cls_025">Figure 5-4</span></div>
<div style="position:absolute;left:102.15px;top:298.62px" class="cls_026"><span class="cls_026">Working out the keypad</span></div>
<div style="position:absolute;left:287.97px;top:297.93px" class="cls_011"><span class="cls_011">the sketch is running. Since we do not want to do</span></div>
<div style="position:absolute;left:102.15px;top:312.60px" class="cls_026"><span class="cls_026">connections.</span></div>
<div style="position:absolute;left:287.97px;top:312.91px" class="cls_011"><span class="cls_011">this anyway, this is not a problem.</span></div>
<div style="position:absolute;left:36.21px;top:342.69px" class="cls_011"><span class="cls_011">draw a diagram of the keyboard connections, and</span></div>
<div style="position:absolute;left:287.97px;top:345.89px" class="cls_005"><span class="cls_005">Software</span></div>
<div style="position:absolute;left:36.21px;top:357.68px" class="cls_011"><span class="cls_011">label each pin with a letter from a to g. Then write</span></div>
<div style="position:absolute;left:287.97px;top:369.37px" class="cls_011"><span class="cls_011">While we could just write a sketch that turns on</span></div>
<div style="position:absolute;left:36.21px;top:372.66px" class="cls_011"><span class="cls_011">a list of all the keys. Then, holding each key down</span></div>
<div style="position:absolute;left:287.97px;top:384.35px" class="cls_011"><span class="cls_011">the output for each row in turn and reads the inputs</span></div>
<div style="position:absolute;left:36.21px;top:387.65px" class="cls_011"><span class="cls_011">in turn, find the pair of pins that make the</span></div>
<div style="position:absolute;left:287.97px;top:399.34px" class="cls_011"><span class="cls_011">to get the coordinates of any key pressed, it is a bit</span></div>
<div style="position:absolute;left:36.21px;top:402.63px" class="cls_011"><span class="cls_011">multimeter beep indicating a connection (Figure</span></div>
<div style="position:absolute;left:287.97px;top:414.32px" class="cls_011"><span class="cls_011">more complex than that because switches do not</span></div>
<div style="position:absolute;left:36.21px;top:417.62px" class="cls_011"><span class="cls_011">5-4). Release the key to check that you have</span></div>
<div style="position:absolute;left:287.97px;top:429.31px" class="cls_011"><span class="cls_011">always behave in a good way when you press</span></div>
<div style="position:absolute;left:36.21px;top:432.60px" class="cls_011"><span class="cls_011">indeed found the correct pair. After a while, a</span></div>
<div style="position:absolute;left:287.97px;top:444.29px" class="cls_011"><span class="cls_011">them. Keypads and push switches are likely to</span></div>
<div style="position:absolute;left:36.21px;top:447.59px" class="cls_011"><span class="cls_011">pattern will emerge and you will be able to see</span></div>
<div style="position:absolute;left:287.97px;top:459.28px" class="cls_011"><span class="cls_011">bounce. That is, when you press them, they do not</span></div>
<div style="position:absolute;left:36.21px;top:462.57px" class="cls_011"><span class="cls_011">how the pins relate to rows and columns. Figure</span></div>
<div style="position:absolute;left:287.97px;top:474.26px" class="cls_011"><span class="cls_011">simply go from being opened to closed, but may</span></div>
<div style="position:absolute;left:36.21px;top:477.56px" class="cls_011"><span class="cls_011">5-4 shows the arrangement for the keypad used by</span></div>
<div style="position:absolute;left:287.97px;top:489.25px" class="cls_011"><span class="cls_011">open and close several times as part of pressing the</span></div>
<div style="position:absolute;left:36.21px;top:492.54px" class="cls_011"><span class="cls_011">the author.</span></div>
<div style="position:absolute;left:287.97px;top:504.23px" class="cls_011"><span class="cls_011">button.</span></div>
<div style="position:absolute;left:42.21px;top:707.86px" class="cls_025"><span class="cls_025">Figure 5-5</span></div>
<div style="position:absolute;left:102.15px;top:708.85px" class="cls_026"><span class="cls_026">Project 10 breadboard layout.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:62400px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background081.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">64</span></div>
<div style="position:absolute;left:78.18px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:42.11px;top:288.84px" class="cls_025"><span class="cls_025">Figure 5-6</span></div>
<div style="position:absolute;left:102.05px;top:289.83px" class="cls_026"><span class="cls_026">Project 10. Keypad security code.</span></div>
<div style="position:absolute;left:48.11px;top:318.72px" class="cls_011"><span class="cls_011">Fortunately for us, Mark Stanley and Alexander</span></div>
<div style="position:absolute;left:299.86px;top:318.71px" class="cls_011"><span class="cls_011">On a Mac, you do not put the new library into</span></div>
<div style="position:absolute;left:36.12px;top:333.70px" class="cls_011"><span class="cls_011">Brevig have created a library that you can use to</span></div>
<div style="position:absolute;left:287.87px;top:333.70px" class="cls_011"><span class="cls_011">the Arduino installation. Instead, you create a</span></div>
<div style="position:absolute;left:36.12px;top:348.69px" class="cls_011"><span class="cls_011">connect to keypads that handles such things for us.</span></div>
<div style="position:absolute;left:287.87px;top:348.68px" class="cls_011"><span class="cls_011">folder called libraries in Documents/Arduino</span></div>
<div style="position:absolute;left:36.12px;top:363.67px" class="cls_011"><span class="cls_011">This is a good opportunity to demonstrate</span></div>
<div style="position:absolute;left:287.87px;top:363.67px" class="cls_011"><span class="cls_011">(Figure 5-8) and put the whole library folder in</span></div>
<div style="position:absolute;left:36.12px;top:378.66px" class="cls_011"><span class="cls_011">installing a library into the Arduino software.</span></div>
<div style="position:absolute;left:287.87px;top:378.65px" class="cls_011"><span class="cls_011">there. Incidentally, the Documents/Arduino</span></div>
<div style="position:absolute;left:287.87px;top:393.64px" class="cls_011"><span class="cls_011">directory is also the default location where your</span></div>
<div style="position:absolute;left:48.11px;top:397.64px" class="cls_011"><span class="cls_011">In addition to the libraries that come with the</span></div>
<div style="position:absolute;left:287.87px;top:408.62px" class="cls_011"><span class="cls_011">sketches are stored.</span></div>
<div style="position:absolute;left:36.12px;top:412.63px" class="cls_011"><span class="cls_011">Arduino, many people have developed their own</span></div>
<div style="position:absolute;left:36.12px;top:427.61px" class="cls_011"><span class="cls_011">libraries and published them for the benefit of the</span></div>
<div style="position:absolute;left:299.86px;top:427.60px" class="cls_011"><span class="cls_011">Once we have installed this library into our</span></div>
<div style="position:absolute;left:36.12px;top:442.60px" class="cls_011"><span class="cls_011">Arduino community. The Evil Genius is much</span></div>
<div style="position:absolute;left:287.87px;top:442.59px" class="cls_011"><span class="cls_011">Arduino directory, we will be able to use it with</span></div>
<div style="position:absolute;left:36.12px;top:457.58px" class="cls_011"><span class="cls_011">amused by such altruism and sees it as a great</span></div>
<div style="position:absolute;left:287.87px;top:457.57px" class="cls_011"><span class="cls_011">any sketches that we write. But remember that on</span></div>
<div style="position:absolute;left:36.12px;top:472.57px" class="cls_011"><span class="cls_011">weakness. However, the Evil Genius is not above</span></div>
<div style="position:absolute;left:287.87px;top:472.56px" class="cls_011"><span class="cls_011">Windows and LINUX, if you upgrade to a newer</span></div>
<div style="position:absolute;left:36.12px;top:487.55px" class="cls_011"><span class="cls_011">using such libraries for their own devious ends.</span></div>
<div style="position:absolute;left:287.87px;top:487.54px" class="cls_011"><span class="cls_011">version of the Arduino software, you will have to</span></div>
<div style="position:absolute;left:287.87px;top:502.53px" class="cls_011"><span class="cls_011">reinstall the libraries that you use.</span></div>
<div style="position:absolute;left:48.11px;top:506.53px" class="cls_011"><span class="cls_011">To make use of this library, we must first</span></div>
<div style="position:absolute;left:36.12px;top:521.52px" class="cls_011"><span class="cls_011">download it from the Arduino website at this</span></div>
<div style="position:absolute;left:299.86px;top:521.51px" class="cls_011"><span class="cls_011">You can check that the library is correctly</span></div>
<div style="position:absolute;left:36.12px;top:536.50px" class="cls_011"><span class="cls_011">address: </span><A HREF="http://www.arduino.cc/playground/code/">www.arduino.cc/playground/Code/</A> </div>
<div style="position:absolute;left:287.87px;top:536.50px" class="cls_011"><span class="cls_011">installed by restarting the Arduino, starting a new</span></div>
<div style="position:absolute;left:36.12px;top:551.49px" class="cls_011"><span class="cls_011">Keypad.</span></div>
<div style="position:absolute;left:287.87px;top:551.48px" class="cls_011"><span class="cls_011">sketch, and choosing the menu option Sketch |</span></div>
<div style="position:absolute;left:287.87px;top:566.47px" class="cls_011"><span class="cls_011">Import Library | Keypad. This will then insert the</span></div>
<div style="position:absolute;left:48.11px;top:570.47px" class="cls_011"><span class="cls_011">Download the file Keypad.zip and unzip it. If</span></div>
<div style="position:absolute;left:287.87px;top:581.45px" class="cls_011"><span class="cls_011">text “#include &lt;Keypad.h>” into the top of the file.</span></div>
<div style="position:absolute;left:36.12px;top:585.45px" class="cls_011"><span class="cls_011">you are using Windows, you right-click and choose</span></div>
<div style="position:absolute;left:36.12px;top:600.44px" class="cls_011"><span class="cls_011">Extract All and then save the whole folder into</span></div>
<div style="position:absolute;left:299.86px;top:600.43px" class="cls_011"><span class="cls_011">The sketch for the application is shown in</span></div>
<div style="position:absolute;left:36.12px;top:615.42px" class="cls_011"><span class="cls_011">C:\Program Files\Arduino\Arduino-0017\</span></div>
<div style="position:absolute;left:287.87px;top:615.42px" class="cls_011"><span class="cls_011">Listing Project 10. Note that you may well have to</span></div>
<div style="position:absolute;left:36.12px;top:630.41px" class="cls_011"><span class="cls_011">hardware\libraries (Figure 5-7).</span></div>
<div style="position:absolute;left:287.87px;top:630.40px" class="cls_011"><span class="cls_011">change your keys, rowPins, and colPins arrays so</span></div>
<div style="position:absolute;left:287.87px;top:645.39px" class="cls_011"><span class="cls_011">that they agree with the key layout of your keypad,</span></div>
<div style="position:absolute;left:48.11px;top:649.39px" class="cls_011"><span class="cls_011">On LINUX, find the Arduino installation</span></div>
<div style="position:absolute;left:287.87px;top:660.37px" class="cls_011"><span class="cls_011">as we discussed in the hardware section.</span></div>
<div style="position:absolute;left:36.12px;top:664.38px" class="cls_011"><span class="cls_011">directory and copy the folder into hardware/</span></div>
<div style="position:absolute;left:36.12px;top:679.36px" class="cls_011"><span class="cls_011">libraries.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:63180px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background082.jpg" width=552 height=770></div>
<div style="position:absolute;left:313.78px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 5</span></div>
<div style="position:absolute;left:377.25px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    Sensor Projects</span></div>
<div style="position:absolute;left:502.84px;top:34.50px" class="cls_017"><span class="cls_017">65</span></div>
<div style="position:absolute;left:42.21px;top:367.59px" class="cls_025"><span class="cls_025">Figure 5-7</span></div>
<div style="position:absolute;left:102.15px;top:368.58px" class="cls_026"><span class="cls_026">Installing the library for Windows.</span></div>
<div style="position:absolute;left:42.21px;top:565.77px" class="cls_025"><span class="cls_025">Figure 5-8</span></div>
<div style="position:absolute;left:102.15px;top:566.76px" class="cls_026"><span class="cls_026">Installing the library for Mac.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:63960px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background083.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">66</span></div>
<div style="position:absolute;left:77.91px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:43.11px;top:76.46px" class="cls_032"><span class="cls_032">LISTING PROJECT 10</span></div>
<div style="position:absolute;left:52.10px;top:98.70px" class="cls_031"><span class="cls_031">#include &lt;Keypad.h></span></div>
<div style="position:absolute;left:52.10px;top:124.68px" class="cls_031"><span class="cls_031">char* secretCode = "1234";</span></div>
<div style="position:absolute;left:52.10px;top:137.67px" class="cls_031"><span class="cls_031">int position = 0;</span></div>
<div style="position:absolute;left:52.10px;top:163.64px" class="cls_031"><span class="cls_031">const byte rows = 4;</span></div>
<div style="position:absolute;left:52.10px;top:176.63px" class="cls_031"><span class="cls_031">const byte cols = 3;</span></div>
<div style="position:absolute;left:52.10px;top:189.61px" class="cls_031"><span class="cls_031">char keys[rows][cols] = {</span></div>
<div style="position:absolute;left:63.97px;top:202.60px" class="cls_031"><span class="cls_031">{'1','2','3'},</span></div>
<div style="position:absolute;left:63.97px;top:215.59px" class="cls_031"><span class="cls_031">{'4','5','6'},</span></div>
<div style="position:absolute;left:63.97px;top:228.57px" class="cls_031"><span class="cls_031">{'7','8','9'},</span></div>
<div style="position:absolute;left:63.97px;top:241.56px" class="cls_031"><span class="cls_031">{'*','0','#'}</span></div>
<div style="position:absolute;left:52.10px;top:254.55px" class="cls_031"><span class="cls_031">};</span></div>
<div style="position:absolute;left:52.10px;top:267.54px" class="cls_031"><span class="cls_031">byte rowPins[rows] = {2, 7, 6, 4};</span></div>
<div style="position:absolute;left:52.10px;top:280.52px" class="cls_031"><span class="cls_031">byte colPins[cols] = {3, 1, 5};</span></div>
<div style="position:absolute;left:52.10px;top:293.51px" class="cls_031"><span class="cls_031">Keypad keypad = Keypad(makeKeymap(keys), rowPins, colPins, rows, cols);</span></div>
<div style="position:absolute;left:52.10px;top:319.48px" class="cls_031"><span class="cls_031">int redPin = 9;</span></div>
<div style="position:absolute;left:52.10px;top:332.47px" class="cls_031"><span class="cls_031">int greenPin = 8;</span></div>
<div style="position:absolute;left:52.10px;top:358.45px" class="cls_031"><span class="cls_031">void setup()</span></div>
<div style="position:absolute;left:52.10px;top:371.43px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:63.97px;top:384.42px" class="cls_031"><span class="cls_031">pinMode(redPin, OUTPUT);</span></div>
<div style="position:absolute;left:63.97px;top:397.41px" class="cls_031"><span class="cls_031">pinMode(greenPin, OUTPUT);</span></div>
<div style="position:absolute;left:63.97px;top:410.39px" class="cls_031"><span class="cls_031">setLocked(true);</span></div>
<div style="position:absolute;left:52.10px;top:423.38px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.10px;top:449.36px" class="cls_031"><span class="cls_031">void loop()</span></div>
<div style="position:absolute;left:52.10px;top:462.34px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:63.97px;top:475.33px" class="cls_031"><span class="cls_031">char key = keypad.getKey();</span></div>
<div style="position:absolute;left:63.97px;top:488.32px" class="cls_031"><span class="cls_031">if (key == '*' || key == '#')</span></div>
<div style="position:absolute;left:63.97px;top:501.30px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.83px;top:514.29px" class="cls_031"><span class="cls_031">position = 0;</span></div>
<div style="position:absolute;left:75.83px;top:527.28px" class="cls_031"><span class="cls_031">setLocked(true);</span></div>
<div style="position:absolute;left:63.97px;top:540.26px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:63.97px;top:553.25px" class="cls_031"><span class="cls_031">if (key == secretCode[position])</span></div>
<div style="position:absolute;left:63.97px;top:566.24px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.83px;top:579.23px" class="cls_031"><span class="cls_031">position ++;</span></div>
<div style="position:absolute;left:63.97px;top:592.21px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:63.97px;top:605.20px" class="cls_031"><span class="cls_031">if (position == 4)</span></div>
<div style="position:absolute;left:63.97px;top:618.19px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.83px;top:631.17px" class="cls_031"><span class="cls_031">setLocked(false);</span></div>
<div style="position:absolute;left:63.97px;top:644.16px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:63.97px;top:657.15px" class="cls_031"><span class="cls_031">delay(100);</span></div>
<div style="position:absolute;left:52.10px;top:670.14px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.10px;top:696.11px" class="cls_031"><span class="cls_031">void setLocked(int locked)</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:64740px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background084.jpg" width=552 height=770></div>
<div style="position:absolute;left:313.89px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 5</span></div>
<div style="position:absolute;left:377.36px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    Sensor Projects</span></div>
<div style="position:absolute;left:502.95px;top:34.50px" class="cls_017"><span class="cls_017">67</span></div>
<div style="position:absolute;left:43.21px;top:76.46px" class="cls_032"><span class="cls_032">LISTING PROJECT 10 (continued)</span></div>
<div style="position:absolute;left:52.20px;top:98.70px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:64.06px;top:111.69px" class="cls_031"><span class="cls_031">if (locked)</span></div>
<div style="position:absolute;left:64.06px;top:124.68px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.93px;top:137.66px" class="cls_031"><span class="cls_031">digitalWrite(redPin, HIGH);</span></div>
<div style="position:absolute;left:75.93px;top:150.65px" class="cls_031"><span class="cls_031">digitalWrite(greenPin, LOW);</span></div>
<div style="position:absolute;left:64.06px;top:163.64px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:64.06px;top:176.63px" class="cls_031"><span class="cls_031">else</span></div>
<div style="position:absolute;left:64.06px;top:189.61px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.93px;top:202.60px" class="cls_031"><span class="cls_031">digitalWrite(redPin, LOW);</span></div>
<div style="position:absolute;left:75.93px;top:215.59px" class="cls_031"><span class="cls_031">digitalWrite(greenPin, HIGH);</span></div>
<div style="position:absolute;left:64.06px;top:228.58px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.20px;top:241.56px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:48.20px;top:274.56px" class="cls_011"><span class="cls_011">This sketch is quite straightforward. The loop</span></div>
<div style="position:absolute;left:287.97px;top:274.56px" class="cls_011"><span class="cls_011">and round indefinitely without meeting any kind of</span></div>
<div style="position:absolute;left:36.21px;top:289.54px" class="cls_011"><span class="cls_011">function checks for a key press. If the key pressed</span></div>
<div style="position:absolute;left:287.97px;top:289.54px" class="cls_011"><span class="cls_011">end stop, there is probably a rotary encoder behind</span></div>
<div style="position:absolute;left:36.21px;top:304.53px" class="cls_011"><span class="cls_011">is a # or a * it sets the position variable back to 0.</span></div>
<div style="position:absolute;left:287.97px;top:304.53px" class="cls_011"><span class="cls_011">the knob.</span></div>
<div style="position:absolute;left:36.21px;top:319.51px" class="cls_011"><span class="cls_011">If, on the other hand, the key pressed is one of the</span></div>
<div style="position:absolute;left:299.96px;top:323.51px" class="cls_011"><span class="cls_011">Some rotary encoders also incorporate a button</span></div>
<div style="position:absolute;left:36.21px;top:334.50px" class="cls_011"><span class="cls_011">numerals, it checks to see if it is the next key</span></div>
<div style="position:absolute;left:287.97px;top:338.49px" class="cls_011"><span class="cls_011">so that you can turn the knob and then press. This</span></div>
<div style="position:absolute;left:36.21px;top:349.48px" class="cls_011"><span class="cls_011">expected (secretCode[position]) is the key just</span></div>
<div style="position:absolute;left:287.97px;top:353.48px" class="cls_011"><span class="cls_011">is a particularly useful way of making a selection</span></div>
<div style="position:absolute;left:36.21px;top:364.47px" class="cls_011"><span class="cls_011">pressed, and if it is, it increments position by one.</span></div>
<div style="position:absolute;left:287.97px;top:368.46px" class="cls_011"><span class="cls_011">from a menu when used with a liquid crystal</span></div>
<div style="position:absolute;left:36.21px;top:379.45px" class="cls_011"><span class="cls_011">Finally, the loop checks to see if position is 4, and</span></div>
<div style="position:absolute;left:287.97px;top:383.45px" class="cls_011"><span class="cls_011">display (LCD) screen.</span></div>
<div style="position:absolute;left:36.21px;top:394.44px" class="cls_011"><span class="cls_011">if it is, it sets the LEDs to their unlocked state.</span></div>
<div style="position:absolute;left:299.96px;top:402.43px" class="cls_011"><span class="cls_011">A rotary encoder is a digital device that has two</span></div>
<div style="position:absolute;left:287.97px;top:417.41px" class="cls_011"><span class="cls_011">outputs (A and B), and as you turn the knob, you</span></div>
<div style="position:absolute;left:36.21px;top:427.41px" class="cls_005"><span class="cls_005">Putting It All Together</span></div>
<div style="position:absolute;left:287.97px;top:432.40px" class="cls_011"><span class="cls_011">get a change in the outputs that can tell you</span></div>
<div style="position:absolute;left:287.97px;top:447.38px" class="cls_011"><span class="cls_011">whether the knob has been turned clockwise or</span></div>
<div style="position:absolute;left:36.21px;top:450.89px" class="cls_011"><span class="cls_011">Load the completed sketch for Project 10 from</span></div>
<div style="position:absolute;left:287.97px;top:462.37px" class="cls_011"><span class="cls_011">counterclockwise.</span></div>
<div style="position:absolute;left:36.21px;top:465.87px" class="cls_011"><span class="cls_011">your Arduino Sketchbook and download it to the</span></div>
<div style="position:absolute;left:36.21px;top:480.86px" class="cls_011"><span class="cls_011">board (see Chapter 1).</span></div>
<div style="position:absolute;left:299.96px;top:481.35px" class="cls_011"><span class="cls_011">Figure 5-9 shows how the signals change on A</span></div>
<div style="position:absolute;left:287.97px;top:496.34px" class="cls_011"><span class="cls_011">and B when the encoder is turned. When rotating</span></div>
<div style="position:absolute;left:48.20px;top:499.84px" class="cls_011"><span class="cls_011">If you have trouble getting this to work, it is</span></div>
<div style="position:absolute;left:287.97px;top:511.32px" class="cls_011"><span class="cls_011">clockwise, the pulses will change, as they would</span></div>
<div style="position:absolute;left:36.21px;top:514.82px" class="cls_011"><span class="cls_011">most likely a problem with the pin layout on your</span></div>
<div style="position:absolute;left:287.97px;top:526.31px" class="cls_011"><span class="cls_011">moving left to right on the diagram; when moving</span></div>
<div style="position:absolute;left:36.21px;top:529.81px" class="cls_011"><span class="cls_011">keypad. So persevere with the multimeter to map</span></div>
<div style="position:absolute;left:287.97px;top:541.29px" class="cls_011"><span class="cls_011">counterclockwise, the pulses would be moving</span></div>
<div style="position:absolute;left:36.21px;top:544.79px" class="cls_011"><span class="cls_011">out the pin connections.</span></div>
<div style="position:absolute;left:287.97px;top:556.28px" class="cls_011"><span class="cls_011">right to left on the diagram.</span></div>
<div style="position:absolute;left:299.96px;top:575.26px" class="cls_011"><span class="cls_011">So if A is low and B is low, and then B becomes</span></div>
<div style="position:absolute;left:36.21px;top:585.26px" class="cls_021"><span class="cls_021">Rotary Encoders</span></div>
<div style="position:absolute;left:287.97px;top:590.24px" class="cls_011"><span class="cls_011">high (going from phase 1 to phase 2), that would</span></div>
<div style="position:absolute;left:287.97px;top:605.23px" class="cls_011"><span class="cls_011">indicate that we have turned the knob clockwise. A</span></div>
<div style="position:absolute;left:36.21px;top:611.73px" class="cls_011"><span class="cls_011">We have already met variable resistors: as you turn</span></div>
<div style="position:absolute;left:287.97px;top:620.21px" class="cls_011"><span class="cls_011">clockwise turn would also be indicated by A being</span></div>
<div style="position:absolute;left:36.21px;top:626.71px" class="cls_011"><span class="cls_011">the knob, the resistance changes. These used to be</span></div>
<div style="position:absolute;left:287.97px;top:635.20px" class="cls_011"><span class="cls_011">low, B being high, and then A becoming high</span></div>
<div style="position:absolute;left:36.21px;top:641.70px" class="cls_011"><span class="cls_011">behind most knobs that you could twiddle on</span></div>
<div style="position:absolute;left:287.97px;top:650.18px" class="cls_011"><span class="cls_011">(going from phase 2 to phase 3), etc. However, if A</span></div>
<div style="position:absolute;left:36.21px;top:656.68px" class="cls_011"><span class="cls_011">electronic equipment. There is an alternative, the</span></div>
<div style="position:absolute;left:287.97px;top:665.17px" class="cls_011"><span class="cls_011">was high and B was low and then B went high, we</span></div>
<div style="position:absolute;left:36.21px;top:671.67px" class="cls_011"><span class="cls_011">rotary encoder, and if you own some consumer</span></div>
<div style="position:absolute;left:287.97px;top:680.15px" class="cls_011"><span class="cls_011">have moved from phase 4 to phase 3 and are,</span></div>
<div style="position:absolute;left:36.21px;top:686.65px" class="cls_011"><span class="cls_011">electronics where you can turn the knob round</span></div>
<div style="position:absolute;left:287.97px;top:695.14px" class="cls_011"><span class="cls_011">therefore, turning counterclockwise.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:65520px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background085.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">68</span></div>
<div style="position:absolute;left:77.59px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:42.11px;top:183.34px" class="cls_025"><span class="cls_025">Figure 5-9</span></div>
<div style="position:absolute;left:102.05px;top:184.33px" class="cls_026"><span class="cls_026">Pulses from a rotary encoder.</span></div>
<div style="position:absolute;left:287.87px;top:220.12px" class="cls_005"><span class="cls_005">Hardware</span></div>
<div style="position:absolute;left:36.12px;top:219.12px" class="cls_027"><span class="cls_027">Project 11</span></div>
<div style="position:absolute;left:36.12px;top:239.10px" class="cls_021"><span class="cls_021">Model Traffic Signal</span></div>
<div style="position:absolute;left:287.87px;top:243.60px" class="cls_011"><span class="cls_011">The schematic diagram for Project 11 is shown in</span></div>
<div style="position:absolute;left:287.87px;top:258.59px" class="cls_011"><span class="cls_011">Figure 5-10. The majority of the circuitry is the</span></div>
<div style="position:absolute;left:36.12px;top:257.09px" class="cls_021"><span class="cls_021">Using a Rotary Encoder</span></div>
<div style="position:absolute;left:287.87px;top:273.57px" class="cls_011"><span class="cls_011">same as for Project 5, except that now we have a</span></div>
<div style="position:absolute;left:36.12px;top:283.56px" class="cls_011"><span class="cls_011">This project uses a rotary encoder with a built-in</span></div>
<div style="position:absolute;left:287.87px;top:288.56px" class="cls_011"><span class="cls_011">rotary encoder.</span></div>
<div style="position:absolute;left:36.12px;top:298.55px" class="cls_011"><span class="cls_011">push switch to control the sequence of the traffic</span></div>
<div style="position:absolute;left:299.86px;top:307.54px" class="cls_011"><span class="cls_011">The rotary encoder works just as if there were</span></div>
<div style="position:absolute;left:36.12px;top:313.53px" class="cls_011"><span class="cls_011">signals, and is based on Project 5. It is a much</span></div>
<div style="position:absolute;left:287.87px;top:322.52px" class="cls_011"><span class="cls_011">three switches: one each for A and B and one for</span></div>
<div style="position:absolute;left:36.12px;top:328.52px" class="cls_011"><span class="cls_011">more realistic version of a traffic signal controller</span></div>
<div style="position:absolute;left:287.87px;top:337.51px" class="cls_011"><span class="cls_011">the push switch. Each of these switches requires a</span></div>
<div style="position:absolute;left:36.12px;top:343.50px" class="cls_011"><span class="cls_011">and is really not far off the logic that you would</span></div>
<div style="position:absolute;left:287.87px;top:352.49px" class="cls_011"><span class="cls_011">pull-down resistor.</span></div>
<div style="position:absolute;left:36.12px;top:358.49px" class="cls_011"><span class="cls_011">find in a real traffic signal controller.</span></div>
<div style="position:absolute;left:299.86px;top:371.47px" class="cls_011"><span class="cls_011">Since the schematic is much the same as for</span></div>
<div style="position:absolute;left:48.11px;top:377.47px" class="cls_011"><span class="cls_011">Rotating the rotary encoder will change the</span></div>
<div style="position:absolute;left:287.87px;top:386.46px" class="cls_011"><span class="cls_011">Project 5, it will not be much of a surprise to see</span></div>
<div style="position:absolute;left:36.12px;top:392.45px" class="cls_011"><span class="cls_011">frequency of the light sequencing. Pressing the</span></div>
<div style="position:absolute;left:287.87px;top:401.44px" class="cls_011"><span class="cls_011">that the breadboard layout (Figure 5-11) is similar</span></div>
<div style="position:absolute;left:36.12px;top:407.44px" class="cls_011"><span class="cls_011">button will test the lights, turning them all on at</span></div>
<div style="position:absolute;left:287.87px;top:416.43px" class="cls_011"><span class="cls_011">to the one for that project.</span></div>
<div style="position:absolute;left:36.12px;top:422.42px" class="cls_011"><span class="cls_011">the same time, while the button is pressed.</span></div>
<div style="position:absolute;left:48.11px;top:441.40px" class="cls_011"><span class="cls_011">The components are the same as for Project 5,</span></div>
<div style="position:absolute;left:287.87px;top:449.40px" class="cls_005"><span class="cls_005">Software</span></div>
<div style="position:absolute;left:36.12px;top:456.39px" class="cls_011"><span class="cls_011">with the addition of the rotary encoder and pull-up</span></div>
<div style="position:absolute;left:36.12px;top:471.37px" class="cls_011"><span class="cls_011">resistors in place of the original push switch.</span></div>
<div style="position:absolute;left:287.87px;top:472.88px" class="cls_011"><span class="cls_011">The starting point for the sketch is the sketch for</span></div>
<div style="position:absolute;left:287.87px;top:487.86px" class="cls_011"><span class="cls_011">Project 5. We have added code to read the encoder</span></div>
<div style="position:absolute;left:287.87px;top:502.85px" class="cls_011"><span class="cls_011">and to respond to the button press by turning all</span></div>
<div style="position:absolute;left:44.12px;top:513.24px" class="cls_028"><span class="cls_028">COMPONENTS AND EQUIPMENT</span></div>
<div style="position:absolute;left:287.87px;top:517.83px" class="cls_011"><span class="cls_011">the LEDs on. We have also taken the opportunity</span></div>
<div style="position:absolute;left:82.07px;top:536.61px" class="cls_029"><span class="cls_029">Description</span></div>
<div style="position:absolute;left:209.56px;top:536.61px" class="cls_029"><span class="cls_029">Appendix</span></div>
<div style="position:absolute;left:287.87px;top:532.82px" class="cls_011"><span class="cls_011">to enhance the logic behind the lights to make</span></div>
<div style="position:absolute;left:287.87px;top:547.80px" class="cls_011"><span class="cls_011">them behave in a more realistic way, changing</span></div>
<div style="position:absolute;left:82.07px;top:556.60px" class="cls_026"><span class="cls_026">Arduino Diecimila or</span></div>
<div style="position:absolute;left:287.87px;top:562.79px" class="cls_011"><span class="cls_011">automatically. In Project 5, when you hold down</span></div>
<div style="position:absolute;left:82.07px;top:569.58px" class="cls_026"><span class="cls_026">Duemilanove board or clone</span></div>
<div style="position:absolute;left:229.93px;top:569.58px" class="cls_026"><span class="cls_026">1</span></div>
<div style="position:absolute;left:287.87px;top:577.77px" class="cls_011"><span class="cls_011">the button, the lights change sequence roughly</span></div>
<div style="position:absolute;left:46.11px;top:586.57px" class="cls_026"><span class="cls_026">D1</span></div>
<div style="position:absolute;left:82.07px;top:586.57px" class="cls_026"><span class="cls_026">5-mm Red LED</span></div>
<div style="position:absolute;left:226.09px;top:586.57px" class="cls_026"><span class="cls_026">23</span></div>
<div style="position:absolute;left:287.87px;top:592.76px" class="cls_011"><span class="cls_011">once per second. In a real traffic signal, the lights</span></div>
<div style="position:absolute;left:46.11px;top:603.55px" class="cls_026"><span class="cls_026">D2</span></div>
<div style="position:absolute;left:82.07px;top:603.55px" class="cls_026"><span class="cls_026">5-mm Yellow LED</span></div>
<div style="position:absolute;left:225.94px;top:603.55px" class="cls_026"><span class="cls_026">24</span></div>
<div style="position:absolute;left:287.87px;top:607.74px" class="cls_011"><span class="cls_011">stay green and red a lot longer than they are</span></div>
<div style="position:absolute;left:46.11px;top:620.53px" class="cls_026"><span class="cls_026">D3</span></div>
<div style="position:absolute;left:82.07px;top:620.53px" class="cls_026"><span class="cls_026">5-mm Green LED</span></div>
<div style="position:absolute;left:226.09px;top:620.53px" class="cls_026"><span class="cls_026">25</span></div>
<div style="position:absolute;left:287.87px;top:622.73px" class="cls_011"><span class="cls_011">yellow. So our sketch now has two periods:</span></div>
<div style="position:absolute;left:46.11px;top:637.52px" class="cls_026"><span class="cls_026">R1-R3</span></div>
<div style="position:absolute;left:82.08px;top:637.52px" class="cls_026"><span class="cls_026">270 </span><span class="cls_033">Ω</span><span class="cls_026"> 0.5W metal film resistor</span></div>
<div style="position:absolute;left:228.63px;top:637.52px" class="cls_026"><span class="cls_026">6</span></div>
<div style="position:absolute;left:287.87px;top:637.71px" class="cls_011"><span class="cls_011">shortPeriod, which does not alter but is used when</span></div>
<div style="position:absolute;left:46.11px;top:654.50px" class="cls_026"><span class="cls_026">R4-R6</span></div>
<div style="position:absolute;left:82.08px;top:654.50px" class="cls_026"><span class="cls_026">100 K</span><span class="cls_033">Ω</span><span class="cls_026"> 0.5W metal film</span></div>
<div style="position:absolute;left:287.87px;top:652.70px" class="cls_011"><span class="cls_011">the lights are changing, and longPeriod, which</span></div>
<div style="position:absolute;left:82.07px;top:667.49px" class="cls_026"><span class="cls_026">resistor</span></div>
<div style="position:absolute;left:227.17px;top:667.49px" class="cls_026"><span class="cls_026">13</span></div>
<div style="position:absolute;left:287.87px;top:667.68px" class="cls_011"><span class="cls_011">determines how long they are illuminated for when</span></div>
<div style="position:absolute;left:46.11px;top:684.47px" class="cls_026"><span class="cls_026">S1</span></div>
<div style="position:absolute;left:82.08px;top:684.47px" class="cls_026"><span class="cls_026">Rotary encoder with push</span></div>
<div style="position:absolute;left:287.87px;top:682.67px" class="cls_011"><span class="cls_011">green or red. This longPeriod is the period that is</span></div>
<div style="position:absolute;left:82.07px;top:697.46px" class="cls_026"><span class="cls_026">switch</span></div>
<div style="position:absolute;left:226.24px;top:697.46px" class="cls_026"><span class="cls_026">57</span></div>
<div style="position:absolute;left:287.87px;top:697.65px" class="cls_011"><span class="cls_011">changed by turning the rotary encoder.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:66300px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background086.jpg" width=552 height=770></div>
<div style="position:absolute;left:313.46px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 5</span></div>
<div style="position:absolute;left:376.93px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    Sensor Projects</span></div>
<div style="position:absolute;left:502.52px;top:34.50px" class="cls_017"><span class="cls_017">69</span></div>
<div style="position:absolute;left:42.21px;top:324.00px" class="cls_025"><span class="cls_025">Figure 5-10</span></div>
<div style="position:absolute;left:102.15px;top:324.99px" class="cls_026"><span class="cls_026">Schematic diagram for Project 11.</span></div>
<div style="position:absolute;left:42.21px;top:534.80px" class="cls_025"><span class="cls_025">Figure 5-11</span></div>
<div style="position:absolute;left:102.15px;top:535.79px" class="cls_026"><span class="cls_026">Breadboard layout for Project 11.</span></div>
<div style="position:absolute;left:48.20px;top:564.68px" class="cls_011"><span class="cls_011">The key to handling the rotary encoder lies in</span></div>
<div style="position:absolute;left:287.97px;top:564.68px" class="cls_011"><span class="cls_011">quickly will result in some changes not being</span></div>
<div style="position:absolute;left:36.21px;top:579.66px" class="cls_011"><span class="cls_011">the function getEncoderTurn. Every time this is</span></div>
<div style="position:absolute;left:287.97px;top:579.66px" class="cls_011"><span class="cls_011">recognized correctly.</span></div>
<div style="position:absolute;left:36.21px;top:594.65px" class="cls_011"><span class="cls_011">called, it compares the previous state of A and B</span></div>
<div style="position:absolute;left:299.96px;top:598.64px" class="cls_011"><span class="cls_011">If you want to use a rotary encoder for other</span></div>
<div style="position:absolute;left:36.21px;top:609.63px" class="cls_011"><span class="cls_011">with their current state and if something has</span></div>
<div style="position:absolute;left:287.97px;top:613.63px" class="cls_011"><span class="cls_011">projects, you can just copy this function. The</span></div>
<div style="position:absolute;left:36.21px;top:624.62px" class="cls_011"><span class="cls_011">changed, works out if it was clockwise or</span></div>
<div style="position:absolute;left:287.97px;top:628.61px" class="cls_011"><span class="cls_011">function uses the static modifier for the oldA and</span></div>
<div style="position:absolute;left:36.21px;top:639.60px" class="cls_011"><span class="cls_011">counterclockwise and returns a -1 or 1,</span></div>
<div style="position:absolute;left:287.97px;top:643.60px" class="cls_011"><span class="cls_011">oldB variables. This is a useful technique that</span></div>
<div style="position:absolute;left:36.21px;top:654.59px" class="cls_011"><span class="cls_011">respectively. If there is no change (the knob has</span></div>
<div style="position:absolute;left:287.97px;top:658.58px" class="cls_011"><span class="cls_011">allows the function to retain the values between</span></div>
<div style="position:absolute;left:36.21px;top:669.57px" class="cls_011"><span class="cls_011">not been turned), it returns 0. This function must</span></div>
<div style="position:absolute;left:287.97px;top:673.57px" class="cls_011"><span class="cls_011">one call of the function and the next, where</span></div>
<div style="position:absolute;left:36.21px;top:684.56px" class="cls_011"><span class="cls_011">be called frequently or turning the rotary controller</span></div>
<div style="position:absolute;left:287.97px;top:688.55px" class="cls_011"><span class="cls_011">normally it would reset the value of the variable</span></div>
<div style="position:absolute;left:287.97px;top:703.54px" class="cls_011"><span class="cls_011">every time the function is called.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:67080px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background087.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">70</span></div>
<div style="position:absolute;left:78.16px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:43.11px;top:76.46px" class="cls_032"><span class="cls_032">LISTING PROJECT 11</span></div>
<div style="position:absolute;left:52.10px;top:98.70px" class="cls_031"><span class="cls_031">int redPin = 2;</span></div>
<div style="position:absolute;left:52.10px;top:110.69px" class="cls_031"><span class="cls_031">int yellowPin = 3;</span></div>
<div style="position:absolute;left:52.10px;top:122.68px" class="cls_031"><span class="cls_031">int greenPin = 4;</span></div>
<div style="position:absolute;left:52.10px;top:134.67px" class="cls_031"><span class="cls_031">int aPin = 6;</span></div>
<div style="position:absolute;left:52.10px;top:146.66px" class="cls_031"><span class="cls_031">int bPin = 7;</span></div>
<div style="position:absolute;left:52.10px;top:158.64px" class="cls_031"><span class="cls_031">int buttonPin = 5;</span></div>
<div style="position:absolute;left:52.10px;top:182.62px" class="cls_031"><span class="cls_031">int state = 0;</span></div>
<div style="position:absolute;left:52.10px;top:194.61px" class="cls_031"><span class="cls_031">int longPeriod = 5000;</span></div>
<div style="position:absolute;left:207.99px;top:194.61px" class="cls_031"><span class="cls_031">// Time at green or red</span></div>
<div style="position:absolute;left:52.10px;top:206.60px" class="cls_031"><span class="cls_031">int shortPeriod = 700;</span></div>
<div style="position:absolute;left:207.99px;top:206.60px" class="cls_031"><span class="cls_031">// Time period when changing</span></div>
<div style="position:absolute;left:52.10px;top:218.58px" class="cls_031"><span class="cls_031">int targetCount = shortPeriod;</span></div>
<div style="position:absolute;left:52.10px;top:230.57px" class="cls_031"><span class="cls_031">int count = 0;</span></div>
<div style="position:absolute;left:52.10px;top:254.55px" class="cls_031"><span class="cls_031">void setup()</span></div>
<div style="position:absolute;left:52.10px;top:266.54px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:63.97px;top:278.53px" class="cls_031"><span class="cls_031">pinMode(aPin, INPUT);</span></div>
<div style="position:absolute;left:63.97px;top:290.51px" class="cls_031"><span class="cls_031">pinMode(bPin, INPUT);</span></div>
<div style="position:absolute;left:63.97px;top:302.50px" class="cls_031"><span class="cls_031">pinMode(buttonPin, INPUT);</span></div>
<div style="position:absolute;left:63.97px;top:314.49px" class="cls_031"><span class="cls_031">pinMode(redPin, OUTPUT);</span></div>
<div style="position:absolute;left:63.97px;top:326.48px" class="cls_031"><span class="cls_031">pinMode(yellowPin, OUTPUT);</span></div>
<div style="position:absolute;left:63.97px;top:338.47px" class="cls_031"><span class="cls_031">pinMode(greenPin, OUTPUT);</span></div>
<div style="position:absolute;left:52.10px;top:350.45px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.10px;top:374.43px" class="cls_031"><span class="cls_031">void loop()</span></div>
<div style="position:absolute;left:52.10px;top:386.42px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:63.97px;top:398.41px" class="cls_031"><span class="cls_031">count++;</span></div>
<div style="position:absolute;left:63.97px;top:410.39px" class="cls_031"><span class="cls_031">if (digitalRead(buttonPin))</span></div>
<div style="position:absolute;left:63.97px;top:422.38px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.83px;top:434.37px" class="cls_031"><span class="cls_031">setLights(HIGH, HIGH, HIGH);</span></div>
<div style="position:absolute;left:63.97px;top:446.36px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:63.97px;top:458.35px" class="cls_031"><span class="cls_031">else</span></div>
<div style="position:absolute;left:63.97px;top:470.33px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.83px;top:482.32px" class="cls_031"><span class="cls_031">int change = getEncoderTurn();</span></div>
<div style="position:absolute;left:75.83px;top:494.31px" class="cls_031"><span class="cls_031">int newPeriod = longPeriod + (change * 1000);</span></div>
<div style="position:absolute;left:75.83px;top:506.30px" class="cls_031"><span class="cls_031">if (newPeriod >= 1000 && newPeriod &lt;= 10000)</span></div>
<div style="position:absolute;left:75.83px;top:518.29px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:87.70px;top:530.27px" class="cls_031"><span class="cls_031">longPeriod = newPeriod;</span></div>
<div style="position:absolute;left:75.83px;top:542.26px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:75.83px;top:554.25px" class="cls_031"><span class="cls_031">if (count > targetCount)</span></div>
<div style="position:absolute;left:75.83px;top:566.24px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:87.70px;top:578.23px" class="cls_031"><span class="cls_031">setState();</span></div>
<div style="position:absolute;left:87.70px;top:590.21px" class="cls_031"><span class="cls_031">count = 0;</span></div>
<div style="position:absolute;left:75.83px;top:602.20px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:63.97px;top:614.19px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:63.97px;top:626.18px" class="cls_031"><span class="cls_031">delay(1);</span></div>
<div style="position:absolute;left:52.10px;top:638.17px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.10px;top:662.14px" class="cls_031"><span class="cls_031">int getEncoderTurn()</span></div>
<div style="position:absolute;left:52.10px;top:674.13px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:63.97px;top:686.12px" class="cls_031"><span class="cls_031">// return -1, 0, or +1</span></div>
<div style="position:absolute;left:63.97px;top:698.11px" class="cls_031"><span class="cls_031">static int oldA = LOW;</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:67860px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background088.jpg" width=552 height=770></div>
<div style="position:absolute;left:316.28px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 5</span></div>
<div style="position:absolute;left:379.75px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    Sensor Projects</span></div>
<div style="position:absolute;left:505.35px;top:34.50px" class="cls_017"><span class="cls_017">71</span></div>
<div style="position:absolute;left:43.21px;top:76.46px" class="cls_032"><span class="cls_032">LISTING PROJECT 11 (continued)</span></div>
<div style="position:absolute;left:64.06px;top:98.70px" class="cls_031"><span class="cls_031">static int oldB = LOW;</span></div>
<div style="position:absolute;left:64.06px;top:110.69px" class="cls_031"><span class="cls_031">int result = 0;</span></div>
<div style="position:absolute;left:64.06px;top:122.68px" class="cls_031"><span class="cls_031">int newA = digitalRead(aPin);</span></div>
<div style="position:absolute;left:64.06px;top:134.67px" class="cls_031"><span class="cls_031">int newB = digitalRead(bPin);</span></div>
<div style="position:absolute;left:64.06px;top:146.66px" class="cls_031"><span class="cls_031">if (newA != oldA || newB != oldB)</span></div>
<div style="position:absolute;left:64.06px;top:158.64px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.93px;top:170.63px" class="cls_031"><span class="cls_031">// something has changed</span></div>
<div style="position:absolute;left:75.93px;top:182.62px" class="cls_031"><span class="cls_031">if (oldA == LOW && newA == HIGH)</span></div>
<div style="position:absolute;left:75.93px;top:194.61px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:87.79px;top:206.60px" class="cls_031"><span class="cls_031">result = -(oldB * 2 - 1);</span></div>
<div style="position:absolute;left:75.93px;top:218.58px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:64.06px;top:230.57px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:64.06px;top:242.56px" class="cls_031"><span class="cls_031">oldA = newA;</span></div>
<div style="position:absolute;left:64.06px;top:254.55px" class="cls_031"><span class="cls_031">oldB = newB;</span></div>
<div style="position:absolute;left:64.06px;top:266.54px" class="cls_031"><span class="cls_031">return result;</span></div>
<div style="position:absolute;left:52.20px;top:278.52px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.20px;top:302.50px" class="cls_031"><span class="cls_031">int setState()</span></div>
<div style="position:absolute;left:64.06px;top:314.49px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.93px;top:326.48px" class="cls_031"><span class="cls_031">if (state == 0)</span></div>
<div style="position:absolute;left:75.93px;top:338.46px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:87.79px;top:350.45px" class="cls_031"><span class="cls_031">setLights(HIGH, LOW, LOW);</span></div>
<div style="position:absolute;left:87.79px;top:362.44px" class="cls_031"><span class="cls_031">targetCount = longPeriod;</span></div>
<div style="position:absolute;left:87.79px;top:374.43px" class="cls_031"><span class="cls_031">state = 1;</span></div>
<div style="position:absolute;left:75.93px;top:386.42px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:75.93px;top:398.40px" class="cls_031"><span class="cls_031">else if (state == 1)</span></div>
<div style="position:absolute;left:75.93px;top:410.39px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:87.79px;top:422.38px" class="cls_031"><span class="cls_031">setLights(HIGH, HIGH, LOW);</span></div>
<div style="position:absolute;left:87.79px;top:434.37px" class="cls_031"><span class="cls_031">targetCount = shortPeriod;</span></div>
<div style="position:absolute;left:87.79px;top:446.36px" class="cls_031"><span class="cls_031">state = 2;</span></div>
<div style="position:absolute;left:75.93px;top:458.34px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:75.93px;top:470.33px" class="cls_031"><span class="cls_031">else if (state == 2)</span></div>
<div style="position:absolute;left:75.93px;top:482.32px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:87.79px;top:494.31px" class="cls_031"><span class="cls_031">setLights(LOW, LOW, HIGH);</span></div>
<div style="position:absolute;left:87.79px;top:506.30px" class="cls_031"><span class="cls_031">targetCount = longPeriod;</span></div>
<div style="position:absolute;left:87.79px;top:518.28px" class="cls_031"><span class="cls_031">state = 3;</span></div>
<div style="position:absolute;left:75.93px;top:530.27px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:75.93px;top:542.26px" class="cls_031"><span class="cls_031">else if (state == 3)</span></div>
<div style="position:absolute;left:75.93px;top:554.25px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:87.79px;top:566.24px" class="cls_031"><span class="cls_031">setLights(LOW, HIGH, LOW);</span></div>
<div style="position:absolute;left:87.79px;top:578.22px" class="cls_031"><span class="cls_031">targetCount = shortPeriod;</span></div>
<div style="position:absolute;left:87.79px;top:590.21px" class="cls_031"><span class="cls_031">state = 0;</span></div>
<div style="position:absolute;left:75.93px;top:602.20px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:64.06px;top:614.19px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.20px;top:638.16px" class="cls_031"><span class="cls_031">void setLights(int red, int yellow, int green)</span></div>
<div style="position:absolute;left:52.20px;top:650.15px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:64.06px;top:662.14px" class="cls_031"><span class="cls_031">digitalWrite(redPin, red);</span></div>
<div style="position:absolute;left:64.06px;top:674.13px" class="cls_031"><span class="cls_031">digitalWrite(yellowPin, yellow);</span></div>
<div style="position:absolute;left:64.06px;top:686.12px" class="cls_031"><span class="cls_031">digitalWrite(greenPin, green);</span></div>
<div style="position:absolute;left:52.20px;top:698.10px" class="cls_031"><span class="cls_031">}</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:68640px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background089.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">72</span></div>
<div style="position:absolute;left:77.09px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:48.11px;top:69.16px" class="cls_011"><span class="cls_011">This sketch illustrates a useful technique that</span></div>
<div style="position:absolute;left:287.87px;top:69.16px" class="cls_011"><span class="cls_011">our analog inputs. This schematic for this is shown</span></div>
<div style="position:absolute;left:36.12px;top:84.15px" class="cls_011"><span class="cls_011">lets you time events (turning an LED on for so</span></div>
<div style="position:absolute;left:287.87px;top:84.14px" class="cls_011"><span class="cls_011">in Figure 5-12.</span></div>
<div style="position:absolute;left:36.12px;top:99.13px" class="cls_011"><span class="cls_011">many seconds) while at the same time checking</span></div>
<div style="position:absolute;left:299.86px;top:103.12px" class="cls_011"><span class="cls_011">With a fixed resistor of 100K, we can do some</span></div>
<div style="position:absolute;left:36.12px;top:114.12px" class="cls_011"><span class="cls_011">the rotary encoder and button to see if they have</span></div>
<div style="position:absolute;left:287.87px;top:118.11px" class="cls_011"><span class="cls_011">rough calculations about the voltage range to</span></div>
<div style="position:absolute;left:36.12px;top:129.10px" class="cls_011"><span class="cls_011">been turned or pressed. If we just used the Arduino</span></div>
<div style="position:absolute;left:287.87px;top:133.09px" class="cls_011"><span class="cls_011">expect at the analog input.</span></div>
<div style="position:absolute;left:36.12px;top:144.09px" class="cls_011"><span class="cls_011">delay function with, say, 20,000, for 20 seconds,</span></div>
<div style="position:absolute;left:299.86px;top:152.08px" class="cls_011"><span class="cls_011">In darkness, the LDR will have a resistance of</span></div>
<div style="position:absolute;left:36.12px;top:159.07px" class="cls_011"><span class="cls_011">we would not be able to check the rotary encoder</span></div>
<div style="position:absolute;left:287.87px;top:167.06px" class="cls_011"><span class="cls_011">2 M  , so with a fixed resistor of 100K, there will</span></div>
<div style="position:absolute;left:36.12px;top:174.06px" class="cls_011"><span class="cls_011">or switch in that period.</span></div>
<div style="position:absolute;left:287.87px;top:182.05px" class="cls_011"><span class="cls_011">be about a 20:1 ratio of voltage, with most of that</span></div>
<div style="position:absolute;left:48.11px;top:193.04px" class="cls_011"><span class="cls_011">So what we do is use a very short delay (1</span></div>
<div style="position:absolute;left:287.87px;top:197.03px" class="cls_011"><span class="cls_011">voltage across the LDR, so that would mean about</span></div>
<div style="position:absolute;left:36.12px;top:208.02px" class="cls_011"><span class="cls_011">millisecond) but maintain a count that is</span></div>
<div style="position:absolute;left:287.87px;top:212.02px" class="cls_011"><span class="cls_011">4V across the LDR and 1V at the analog pin.</span></div>
<div style="position:absolute;left:36.12px;top:223.01px" class="cls_011"><span class="cls_011">incremented each time round the loop. Thus, if we</span></div>
<div style="position:absolute;left:299.86px;top:231.00px" class="cls_011"><span class="cls_011">On the other hand, if the LDR is in bright light,</span></div>
<div style="position:absolute;left:36.12px;top:237.99px" class="cls_011"><span class="cls_011">want to delay for 20 seconds, we stop when the</span></div>
<div style="position:absolute;left:287.87px;top:245.98px" class="cls_011"><span class="cls_011">its resistance might fall to 20 K  . The ratio of</span></div>
<div style="position:absolute;left:36.12px;top:252.98px" class="cls_011"><span class="cls_011">count has reached 20,000. This is less accurate</span></div>
<div style="position:absolute;left:287.87px;top:260.97px" class="cls_011"><span class="cls_011">voltages would then be about 4:1 in favor of the</span></div>
<div style="position:absolute;left:36.12px;top:267.96px" class="cls_011"><span class="cls_011">than a single call to the delay function because the</span></div>
<div style="position:absolute;left:287.87px;top:275.95px" class="cls_011"><span class="cls_011">fixed resistor, giving a voltage at the analog input</span></div>
<div style="position:absolute;left:36.12px;top:282.95px" class="cls_011"><span class="cls_011">1 millisecond is actually 1 millisecond plus the</span></div>
<div style="position:absolute;left:287.87px;top:290.94px" class="cls_011"><span class="cls_011">of about 4V.</span></div>
<div style="position:absolute;left:36.12px;top:297.93px" class="cls_011"><span class="cls_011">processing time for the other things that are done</span></div>
<div style="position:absolute;left:299.86px;top:309.92px" class="cls_011"><span class="cls_011">A more sensitive photo detector is the</span></div>
<div style="position:absolute;left:36.12px;top:312.92px" class="cls_011"><span class="cls_011">inside the loop.</span></div>
<div style="position:absolute;left:287.87px;top:324.90px" class="cls_011"><span class="cls_011">phototransistor. This functions like an ordinary</span></div>
<div style="position:absolute;left:287.87px;top:339.89px" class="cls_011"><span class="cls_011">transistor except there is not usually a base</span></div>
<div style="position:absolute;left:36.12px;top:345.89px" class="cls_005"><span class="cls_005">Putting It All Together</span></div>
<div style="position:absolute;left:287.87px;top:354.87px" class="cls_011"><span class="cls_011">connection. Instead, the collector current is</span></div>
<div style="position:absolute;left:36.12px;top:369.37px" class="cls_011"><span class="cls_011">Load the completed sketch for Project 11 from</span></div>
<div style="position:absolute;left:287.87px;top:369.86px" class="cls_011"><span class="cls_011">controlled by the amount of light falling on the</span></div>
<div style="position:absolute;left:36.12px;top:384.35px" class="cls_011"><span class="cls_011">your Arduino Sketchbook and download it to the</span></div>
<div style="position:absolute;left:287.87px;top:384.84px" class="cls_011"><span class="cls_011">phototransistor.</span></div>
<div style="position:absolute;left:36.12px;top:399.34px" class="cls_011"><span class="cls_011">board (see Chapter 1).</span></div>
<div style="position:absolute;left:48.11px;top:418.32px" class="cls_011"><span class="cls_011">You can press the rotary encoder button to test</span></div>
<div style="position:absolute;left:36.12px;top:433.31px" class="cls_011"><span class="cls_011">the LEDs and turn the rotary encoder to change</span></div>
<div style="position:absolute;left:36.12px;top:448.29px" class="cls_011"><span class="cls_011">how long the signal stays green and red.</span></div>
<div style="position:absolute;left:36.12px;top:488.75px" class="cls_021"><span class="cls_021">Sensing Light</span></div>
<div style="position:absolute;left:36.12px;top:515.23px" class="cls_011"><span class="cls_011">A common and easy-to-use device for measuring</span></div>
<div style="position:absolute;left:36.12px;top:530.21px" class="cls_011"><span class="cls_011">light intensity is the light-dependent resistor or</span></div>
<div style="position:absolute;left:36.12px;top:545.20px" class="cls_011"><span class="cls_011">LDR. They are also sometimes called</span></div>
<div style="position:absolute;left:36.12px;top:560.18px" class="cls_011"><span class="cls_011">photoresistors.</span></div>
<div style="position:absolute;left:48.11px;top:579.16px" class="cls_011"><span class="cls_011">The brighter the light falling on the surface of</span></div>
<div style="position:absolute;left:36.12px;top:594.15px" class="cls_011"><span class="cls_011">the LDR, the lower the resistance. A typical LDR</span></div>
<div style="position:absolute;left:36.12px;top:609.13px" class="cls_011"><span class="cls_011">will have a dark resistance of up to 2 M   and a</span></div>
<div style="position:absolute;left:36.12px;top:624.12px" class="cls_011"><span class="cls_011">resistance when illuminated in bright daylight of</span></div>
<div style="position:absolute;left:36.12px;top:639.10px" class="cls_011"><span class="cls_011">perhaps 20 K</span></div>
<div style="position:absolute;left:48.11px;top:658.08px" class="cls_011"><span class="cls_011">We can convert this change in resistance to a</span></div>
<div style="position:absolute;left:36.12px;top:673.07px" class="cls_011"><span class="cls_011">change in voltage by using the LDR, with a fixed</span></div>
<div style="position:absolute;left:36.12px;top:688.05px" class="cls_011"><span class="cls_011">resistor as a voltage divider, connected to one of</span></div>
<div style="position:absolute;left:293.87px;top:690.88px" class="cls_025"><span class="cls_025">Figure 5-12</span></div>
<div style="position:absolute;left:353.81px;top:691.87px" class="cls_026"><span class="cls_026">Using an LDR to measure light.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:69420px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background090.jpg" width=552 height=770></div>
<div style="position:absolute;left:314.30px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 5</span></div>
<div style="position:absolute;left:377.77px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    Sensor Projects</span></div>
<div style="position:absolute;left:503.36px;top:34.50px" class="cls_017"><span class="cls_017">73</span></div>
<div style="position:absolute;left:287.97px;top:70.07px" class="cls_005"><span class="cls_005">Hardware</span></div>
<div style="position:absolute;left:36.21px;top:69.07px" class="cls_027"><span class="cls_027">Project 12</span></div>
<div style="position:absolute;left:36.21px;top:89.05px" class="cls_021"><span class="cls_021">Pulse Rate Monitor</span></div>
<div style="position:absolute;left:287.97px;top:93.55px" class="cls_011"><span class="cls_011">The pulse monitor works as follows:  Shine the</span></div>
<div style="position:absolute;left:287.97px;top:108.53px" class="cls_011"><span class="cls_011">bright LED onto one side of your finger while the</span></div>
<div style="position:absolute;left:36.21px;top:115.52px" class="cls_011"><span class="cls_011">This project uses an ultra-bright infrared (IR) LED</span></div>
<div style="position:absolute;left:287.97px;top:123.52px" class="cls_011"><span class="cls_011">phototransistor on the other side of your finger</span></div>
<div style="position:absolute;left:36.21px;top:130.51px" class="cls_011"><span class="cls_011">and a phototransistor to detect the pulse in your</span></div>
<div style="position:absolute;left:287.97px;top:138.50px" class="cls_011"><span class="cls_011">picks up the amount of transmitted light. The</span></div>
<div style="position:absolute;left:36.21px;top:145.49px" class="cls_011"><span class="cls_011">finger. It then flashes a red LED in time with your</span></div>
<div style="position:absolute;left:287.97px;top:153.49px" class="cls_011"><span class="cls_011">resistance of the phototransistor will vary slightly</span></div>
<div style="position:absolute;left:36.21px;top:160.48px" class="cls_011"><span class="cls_011">pulse.</span></div>
<div style="position:absolute;left:287.97px;top:168.47px" class="cls_011"><span class="cls_011">as the blood pulses through your finger.</span></div>
<div style="position:absolute;left:299.96px;top:187.45px" class="cls_011"><span class="cls_011">The schematic for this is shown in Figure 5-13</span></div>
<div style="position:absolute;left:44.22px;top:196.75px" class="cls_028"><span class="cls_028">COMPONENTS AND EQUIPMENT</span></div>
<div style="position:absolute;left:287.97px;top:202.44px" class="cls_011"><span class="cls_011">and the breadboard layout in Figure 5-15. We have</span></div>
<div style="position:absolute;left:67.18px;top:220.12px" class="cls_029"><span class="cls_029">Description</span></div>
<div style="position:absolute;left:204.06px;top:220.12px" class="cls_029"><span class="cls_029">Appendix</span></div>
<div style="position:absolute;left:287.97px;top:217.42px" class="cls_011"><span class="cls_011">chosen quite a high value of resistance for R1</span></div>
<div style="position:absolute;left:287.97px;top:232.41px" class="cls_011"><span class="cls_011">because most of the light passing through the</span></div>
<div style="position:absolute;left:67.18px;top:240.10px" class="cls_026"><span class="cls_026">Arduino Diecimila or</span></div>
<div style="position:absolute;left:287.97px;top:247.39px" class="cls_011"><span class="cls_011">finger will be absorbed and we want the</span></div>
<div style="position:absolute;left:67.18px;top:253.09px" class="cls_026"><span class="cls_026">Duemilanove board or clone</span></div>
<div style="position:absolute;left:224.44px;top:253.09px" class="cls_026"><span class="cls_026">1</span></div>
<div style="position:absolute;left:287.97px;top:262.38px" class="cls_011"><span class="cls_011">phototransistor to be quite sensitive. You may need</span></div>
<div style="position:absolute;left:46.20px;top:270.07px" class="cls_026"><span class="cls_026">D1</span></div>
<div style="position:absolute;left:67.18px;top:270.07px" class="cls_026"><span class="cls_026">5-mm red LED</span></div>
<div style="position:absolute;left:220.59px;top:270.07px" class="cls_026"><span class="cls_026">23</span></div>
<div style="position:absolute;left:287.97px;top:277.36px" class="cls_011"><span class="cls_011">to experiment with the value of the resistor to get</span></div>
<div style="position:absolute;left:46.20px;top:287.06px" class="cls_026"><span class="cls_026">D2</span></div>
<div style="position:absolute;left:67.18px;top:287.06px" class="cls_026"><span class="cls_026">5-mm IR LED sender 940 nm</span></div>
<div style="position:absolute;left:220.45px;top:287.06px" class="cls_026"><span class="cls_026">26</span></div>
<div style="position:absolute;left:287.97px;top:292.35px" class="cls_011"><span class="cls_011">the best results.</span></div>
<div style="position:absolute;left:46.20px;top:304.04px" class="cls_026"><span class="cls_026">R1</span></div>
<div style="position:absolute;left:67.18px;top:304.04px" class="cls_026"><span class="cls_026">56 K</span></div>
<div style="position:absolute;left:97.89px;top:304.04px" class="cls_026"><span class="cls_026">0.5W metal film resistor</span></div>
<div style="position:absolute;left:221.74px;top:304.04px" class="cls_026"><span class="cls_026">12</span></div>
<div style="position:absolute;left:299.96px;top:311.33px" class="cls_011"><span class="cls_011">It is important to shield the phototransistor from</span></div>
<div style="position:absolute;left:46.20px;top:321.02px" class="cls_026"><span class="cls_026">R2</span></div>
<div style="position:absolute;left:67.18px;top:321.02px" class="cls_026"><span class="cls_026">270</span></div>
<div style="position:absolute;left:96.99px;top:321.02px" class="cls_026"><span class="cls_026">0.5W metal film resistor</span></div>
<div style="position:absolute;left:223.13px;top:321.02px" class="cls_026"><span class="cls_026">6</span></div>
<div style="position:absolute;left:287.97px;top:326.32px" class="cls_011"><span class="cls_011">as much stray light as possible. This is particularly</span></div>
<div style="position:absolute;left:46.20px;top:338.01px" class="cls_026"><span class="cls_026">R4</span></div>
<div style="position:absolute;left:67.17px;top:338.01px" class="cls_026"><span class="cls_026">39</span></div>
<div style="position:absolute;left:91.39px;top:338.01px" class="cls_026"><span class="cls_026">0.5W metal film resistor</span></div>
<div style="position:absolute;left:223.03px;top:338.01px" class="cls_026"><span class="cls_026">4</span></div>
<div style="position:absolute;left:287.97px;top:341.30px" class="cls_011"><span class="cls_011">important for domestic lights that actually fluctuate</span></div>
<div style="position:absolute;left:46.20px;top:354.99px" class="cls_026"><span class="cls_026">T1</span></div>
<div style="position:absolute;left:67.18px;top:354.99px" class="cls_026"><span class="cls_026">IR phototransistor</span></div>
<div style="position:absolute;left:287.97px;top:356.29px" class="cls_011"><span class="cls_011">at 50Hz or 60Hz and will add a considerable</span></div>
<div style="position:absolute;left:67.18px;top:367.98px" class="cls_026"><span class="cls_026">(same wavelength as D2)</span></div>
<div style="position:absolute;left:220.38px;top:367.98px" class="cls_026"><span class="cls_026">36</span></div>
<div style="position:absolute;left:287.97px;top:371.27px" class="cls_011"><span class="cls_011">amount of noise to our weak heart signal.</span></div>
<div style="position:absolute;left:42.21px;top:707.86px" class="cls_025"><span class="cls_025">Figure 5-13</span></div>
<div style="position:absolute;left:102.15px;top:708.85px" class="cls_026"><span class="cls_026">Schematic for Project 12.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:70200px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background091.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">74</span></div>
<div style="position:absolute;left:77.75px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:299.86px;top:69.16px" class="cls_011"><span class="cls_011">Two 5-mm holes are drilled opposite each other</span></div>
<div style="position:absolute;left:287.87px;top:84.14px" class="cls_011"><span class="cls_011">in the tube and the LED inserted into one side and</span></div>
<div style="position:absolute;left:287.87px;top:99.13px" class="cls_011"><span class="cls_011">the phototransistor into the other. Short leads are</span></div>
<div style="position:absolute;left:287.87px;top:114.11px" class="cls_011"><span class="cls_011">soldered to the LED and phototransistor, and then</span></div>
<div style="position:absolute;left:287.87px;top:129.10px" class="cls_011"><span class="cls_011">another layer of tape is wrapped over everything to</span></div>
<div style="position:absolute;left:287.87px;top:144.08px" class="cls_011"><span class="cls_011">hold it all in place. Be sure to check which colored</span></div>
<div style="position:absolute;left:287.87px;top:159.07px" class="cls_011"><span class="cls_011">wire is connected to which lead of the LED and</span></div>
<div style="position:absolute;left:287.87px;top:174.05px" class="cls_011"><span class="cls_011">phototransistor before you tape them up.</span></div>
<div style="position:absolute;left:299.86px;top:193.04px" class="cls_011"><span class="cls_011">The breadboard layout for this project (Figure</span></div>
<div style="position:absolute;left:287.87px;top:208.02px" class="cls_011"><span class="cls_011">5-15) is very straightforward.</span></div>
<div style="position:absolute;left:42.11px;top:227.30px" class="cls_025"><span class="cls_025">Figure 5-14</span></div>
<div style="position:absolute;left:102.05px;top:228.29px" class="cls_026"><span class="cls_026">Sensor tube for heart monitor.</span></div>
<div style="position:absolute;left:299.86px;top:227.00px" class="cls_011"><span class="cls_011">The final “finger tube” can be seen in Figure</span></div>
<div style="position:absolute;left:287.87px;top:241.99px" class="cls_011"><span class="cls_011">5-16.</span></div>
<div style="position:absolute;left:48.11px;top:257.18px" class="cls_011"><span class="cls_011">For this reason, the phototransistor and LED are</span></div>
<div style="position:absolute;left:36.12px;top:272.16px" class="cls_011"><span class="cls_011">built into a tube or corrugated cardboard held</span></div>
<div style="position:absolute;left:36.12px;top:287.15px" class="cls_011"><span class="cls_011">together with duct tape. The construction of this is</span></div>
<div style="position:absolute;left:36.12px;top:302.13px" class="cls_011"><span class="cls_011">shown in Figure 5-14.</span></div>
<div style="position:absolute;left:42.11px;top:469.09px" class="cls_025"><span class="cls_025">Figure 5-15</span></div>
<div style="position:absolute;left:102.05px;top:470.08px" class="cls_026"><span class="cls_026">Breadboard layout for Project 12.</span></div>
<div style="position:absolute;left:42.11px;top:707.86px" class="cls_025"><span class="cls_025">Figure 5-16</span></div>
<div style="position:absolute;left:102.05px;top:708.85px" class="cls_026"><span class="cls_026">Project 12. Pulse rate monitor.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:70980px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background092.jpg" width=552 height=770></div>
<div style="position:absolute;left:314.21px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 5</span></div>
<div style="position:absolute;left:377.68px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    Sensor Projects</span></div>
<div style="position:absolute;left:503.27px;top:34.50px" class="cls_017"><span class="cls_017">75</span></div>
<div style="position:absolute;left:36.21px;top:70.07px" class="cls_005"><span class="cls_005">Software</span></div>
<div style="position:absolute;left:299.96px;top:69.16px" class="cls_011"><span class="cls_011">This script reads the raw signal from the analog</span></div>
<div style="position:absolute;left:287.97px;top:84.14px" class="cls_011"><span class="cls_011">input and applies the smoothing function and then</span></div>
<div style="position:absolute;left:36.21px;top:93.55px" class="cls_011"><span class="cls_011">The software for this project is quite tricky to get</span></div>
<div style="position:absolute;left:287.97px;top:99.13px" class="cls_011"><span class="cls_011">writes both values to the Serial Monitor, where we</span></div>
<div style="position:absolute;left:36.21px;top:108.53px" class="cls_011"><span class="cls_011">right. Indeed, the first step is not to run the entire</span></div>
<div style="position:absolute;left:287.97px;top:114.11px" class="cls_011"><span class="cls_011">can capture them and paste them into a spreadsheet</span></div>
<div style="position:absolute;left:36.21px;top:123.52px" class="cls_011"><span class="cls_011">final script, but rather a test script that will gather</span></div>
<div style="position:absolute;left:287.97px;top:129.10px" class="cls_011"><span class="cls_011">for analysis. Note that the Serial Monitor’s</span></div>
<div style="position:absolute;left:36.21px;top:138.50px" class="cls_011"><span class="cls_011">data that we can then paste into a spreadsheet and</span></div>
<div style="position:absolute;left:287.97px;top:144.08px" class="cls_011"><span class="cls_011">communications is set to its fastest rate to</span></div>
<div style="position:absolute;left:36.21px;top:153.49px" class="cls_011"><span class="cls_011">chart to test out the smoothing algorithm (more on</span></div>
<div style="position:absolute;left:287.97px;top:159.07px" class="cls_011"><span class="cls_011">minimize the effects of the delays caused by</span></div>
<div style="position:absolute;left:36.21px;top:168.47px" class="cls_011"><span class="cls_011">this later).</span></div>
<div style="position:absolute;left:287.97px;top:174.05px" class="cls_011"><span class="cls_011">sending the data. When you start the Serial</span></div>
<div style="position:absolute;left:48.20px;top:187.45px" class="cls_011"><span class="cls_011">The test script is provided in Listing Projet 12.</span></div>
<div style="position:absolute;left:287.97px;top:189.04px" class="cls_011"><span class="cls_011">Monitor, you will need to change the serial speed</span></div>
<div style="position:absolute;left:287.97px;top:204.02px" class="cls_011"><span class="cls_011">to 115200 baud.</span></div>
<div style="position:absolute;left:299.96px;top:223.01px" class="cls_011"><span class="cls_011">The smoothing function uses a technique called</span></div>
<div style="position:absolute;left:43.21px;top:234.31px" class="cls_032"><span class="cls_032">LISTING PROJECT 12—TEST SCRIPT</span></div>
<div style="position:absolute;left:287.97px;top:237.99px" class="cls_011"><span class="cls_011">“leaky integration,” and you can see in the code</span></div>
<div style="position:absolute;left:52.20px;top:256.55px" class="cls_031"><span class="cls_031">int ledPin = 13;</span></div>
<div style="position:absolute;left:287.97px;top:252.98px" class="cls_011"><span class="cls_011">where we do this smoothing using the line:</span></div>
<div style="position:absolute;left:52.20px;top:269.53px" class="cls_031"><span class="cls_031">int sensorPin = 0;</span></div>
<div style="position:absolute;left:293.96px;top:278.46px" class="cls_031"><span class="cls_031">double value = alpha * oldValue + (1 -</span></div>
<div style="position:absolute;left:311.94px;top:291.44px" class="cls_031"><span class="cls_031">alpha) * rawValue;</span></div>
<div style="position:absolute;left:52.20px;top:295.51px" class="cls_031"><span class="cls_031">double alpha = 0.75;</span></div>
<div style="position:absolute;left:52.20px;top:308.50px" class="cls_031"><span class="cls_031">int period = 20;</span></div>
<div style="position:absolute;left:52.20px;top:321.48px" class="cls_031"><span class="cls_031">double change = 0.0;</span></div>
<div style="position:absolute;left:299.96px;top:317.42px" class="cls_011"><span class="cls_011">The variable alpha is a number greater than 0</span></div>
<div style="position:absolute;left:287.97px;top:332.40px" class="cls_011"><span class="cls_011">but less than 1 and determines how much</span></div>
<div style="position:absolute;left:52.20px;top:347.46px" class="cls_031"><span class="cls_031">void setup()</span></div>
<div style="position:absolute;left:287.97px;top:347.39px" class="cls_011"><span class="cls_011">smoothing to do.</span></div>
<div style="position:absolute;left:52.20px;top:360.44px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:299.96px;top:366.37px" class="cls_011"><span class="cls_011">Put your finger into the sensor tube, start the</span></div>
<div style="position:absolute;left:64.06px;top:373.43px" class="cls_031"><span class="cls_031">pinMode(ledPin, OUTPUT);</span></div>
<div style="position:absolute;left:287.97px;top:381.36px" class="cls_011"><span class="cls_011">Serial Monitor, and leave it running for three or</span></div>
<div style="position:absolute;left:64.06px;top:386.42px" class="cls_031"><span class="cls_031">Serial.begin(115200);</span></div>
<div style="position:absolute;left:52.20px;top:399.41px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:287.97px;top:396.34px" class="cls_011"><span class="cls_011">four seconds to capture a few pulses.</span></div>
<div style="position:absolute;left:299.96px;top:415.32px" class="cls_011"><span class="cls_011">Then, copy and paste the captured text into a</span></div>
<div style="position:absolute;left:52.20px;top:425.38px" class="cls_031"><span class="cls_031">void loop()</span></div>
<div style="position:absolute;left:287.97px;top:430.31px" class="cls_011"><span class="cls_011">spreadsheet. You will probably be asked for the</span></div>
<div style="position:absolute;left:52.20px;top:438.37px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:287.97px;top:445.29px" class="cls_011"><span class="cls_011">column delimiter character, which is a comma. The</span></div>
<div style="position:absolute;left:75.93px;top:451.36px" class="cls_031"><span class="cls_031">static double oldValue = 0;</span></div>
<div style="position:absolute;left:75.93px;top:464.34px" class="cls_031"><span class="cls_031">static double oldChange = 0;</span></div>
<div style="position:absolute;left:287.97px;top:460.28px" class="cls_011"><span class="cls_011">resultant data and a line chart drawn from the two</span></div>
<div style="position:absolute;left:75.93px;top:477.33px" class="cls_031"><span class="cls_031">int rawValue =</span></div>
<div style="position:absolute;left:287.97px;top:475.26px" class="cls_011"><span class="cls_011">columns are shown in Figure 5-17.</span></div>
<div style="position:absolute;left:70.18px;top:490.32px" class="cls_031"><span class="cls_031">analogRead(sensorPin);</span></div>
<div style="position:absolute;left:299.96px;top:494.24px" class="cls_011"><span class="cls_011">The more jagged trace is from the raw data read</span></div>
<div style="position:absolute;left:75.93px;top:503.30px" class="cls_031"><span class="cls_031">double value = alpha * oldValue</span></div>
<div style="position:absolute;left:287.97px;top:509.23px" class="cls_011"><span class="cls_011">from the analog port, and the smoother trace</span></div>
<div style="position:absolute;left:93.91px;top:516.29px" class="cls_031"><span class="cls_031">+ (1 - alpha) * rawValue;</span></div>
<div style="position:absolute;left:287.97px;top:524.21px" class="cls_011"><span class="cls_011">clearly has most of the noise removed. If the</span></div>
<div style="position:absolute;left:75.93px;top:542.26px" class="cls_031"><span class="cls_031">Serial.print(rawValue);</span></div>
<div style="position:absolute;left:287.97px;top:539.20px" class="cls_011"><span class="cls_011">smoothed trace shows significant noise—in</span></div>
<div style="position:absolute;left:75.93px;top:555.25px" class="cls_031"><span class="cls_031">Serial.print(“,”);</span></div>
<div style="position:absolute;left:287.97px;top:554.18px" class="cls_011"><span class="cls_011">particular, any false peaks that will confuse the</span></div>
<div style="position:absolute;left:75.93px;top:568.24px" class="cls_031"><span class="cls_031">Serial.println(value);</span></div>
<div style="position:absolute;left:287.97px;top:569.17px" class="cls_011"><span class="cls_011">monitor—increase the level of smoothing by</span></div>
<div style="position:absolute;left:287.97px;top:584.15px" class="cls_011"><span class="cls_011">decreasing the value of alpha.</span></div>
<div style="position:absolute;left:75.93px;top:594.21px" class="cls_031"><span class="cls_031">oldValue = value;</span></div>
<div style="position:absolute;left:75.93px;top:607.20px" class="cls_031"><span class="cls_031">delay(period);</span></div>
<div style="position:absolute;left:299.96px;top:603.14px" class="cls_011"><span class="cls_011">Once you have found the right value of alpha</span></div>
<div style="position:absolute;left:52.20px;top:620.19px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:287.97px;top:618.12px" class="cls_011"><span class="cls_011">for your sensor arrangement, you can transfer this</span></div>
<div style="position:absolute;left:287.97px;top:633.11px" class="cls_011"><span class="cls_011">value into the real sketch and switch over to using</span></div>
<div style="position:absolute;left:287.97px;top:648.09px" class="cls_011"><span class="cls_011">the real sketch rather than the test sketch. The real</span></div>
<div style="position:absolute;left:287.97px;top:663.08px" class="cls_011"><span class="cls_011">sketch is provided in the following listing on the</span></div>
<div style="position:absolute;left:287.97px;top:678.06px" class="cls_011"><span class="cls_011">next page.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:71760px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background093.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">76</span></div>
<div style="position:absolute;left:77.48px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:299.86px;top:69.16px" class="cls_011"><span class="cls_011">There now just remains the problem of detecting</span></div>
<div style="position:absolute;left:43.11px;top:76.46px" class="cls_032"><span class="cls_032">LISTING PROJECT 12</span></div>
<div style="position:absolute;left:287.87px;top:84.15px" class="cls_011"><span class="cls_011">the peaks. Looking at Figure 5-17, we can see that</span></div>
<div style="position:absolute;left:52.10px;top:98.70px" class="cls_031"><span class="cls_031">int ledPin = 13;</span></div>
<div style="position:absolute;left:287.87px;top:99.13px" class="cls_011"><span class="cls_011">if we keep track of the previous reading, we can</span></div>
<div style="position:absolute;left:52.10px;top:109.69px" class="cls_031"><span class="cls_031">int sensorPin = 0;</span></div>
<div style="position:absolute;left:287.87px;top:114.12px" class="cls_011"><span class="cls_011">see that the readings are gradually increasing until</span></div>
<div style="position:absolute;left:52.10px;top:131.67px" class="cls_031"><span class="cls_031">double alpha = 0.75;</span></div>
<div style="position:absolute;left:287.87px;top:129.10px" class="cls_011"><span class="cls_011">the change in reading flips over and becomes</span></div>
<div style="position:absolute;left:52.10px;top:142.66px" class="cls_031"><span class="cls_031">int period = 20;</span></div>
<div style="position:absolute;left:287.87px;top:144.09px" class="cls_011"><span class="cls_011">negative. So, if we lit the LED whenever the old</span></div>
<div style="position:absolute;left:52.10px;top:153.65px" class="cls_031"><span class="cls_031">double change = 0.0;</span></div>
<div style="position:absolute;left:287.87px;top:159.07px" class="cls_011"><span class="cls_011">change was positive but the new change was</span></div>
<div style="position:absolute;left:52.10px;top:175.63px" class="cls_031"><span class="cls_031">void setup()</span></div>
<div style="position:absolute;left:287.87px;top:174.06px" class="cls_011"><span class="cls_011">negative, we would get a brief pulse from the LED</span></div>
<div style="position:absolute;left:52.10px;top:186.62px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:287.87px;top:189.04px" class="cls_011"><span class="cls_011">at the peak of each pulse.</span></div>
<div style="position:absolute;left:63.97px;top:197.61px" class="cls_031"><span class="cls_031">pinMode(ledPin, OUTPUT);</span></div>
<div style="position:absolute;left:52.10px;top:208.59px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:287.87px;top:222.01px" class="cls_005"><span class="cls_005">Putting It All Together</span></div>
<div style="position:absolute;left:52.10px;top:230.57px" class="cls_031"><span class="cls_031">void loop()</span></div>
<div style="position:absolute;left:52.10px;top:241.56px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:287.87px;top:245.49px" class="cls_011"><span class="cls_011">Both the test and real sketch for Project 12 are in</span></div>
<div style="position:absolute;left:75.83px;top:252.55px" class="cls_031"><span class="cls_031">static double oldValue = 0;</span></div>
<div style="position:absolute;left:75.83px;top:263.54px" class="cls_031"><span class="cls_031">static double oldChange = 0;</span></div>
<div style="position:absolute;left:287.87px;top:260.47px" class="cls_011"><span class="cls_011">your Arduino Sketchbook. For instructions on</span></div>
<div style="position:absolute;left:75.83px;top:274.53px" class="cls_031"><span class="cls_031">int rawValue =</span></div>
<div style="position:absolute;left:287.87px;top:275.46px" class="cls_011"><span class="cls_011">downloading it to the board, see Chapter 1.</span></div>
<div style="position:absolute;left:70.08px;top:285.52px" class="cls_031"><span class="cls_031">analogRead(sensorPin);</span></div>
<div style="position:absolute;left:75.83px;top:296.51px" class="cls_031"><span class="cls_031">double value = alpha * oldValue</span></div>
<div style="position:absolute;left:299.86px;top:294.44px" class="cls_011"><span class="cls_011">As mentioned, getting this project to work is a</span></div>
<div style="position:absolute;left:93.82px;top:307.50px" class="cls_031"><span class="cls_031">+ (1 - alpha) * rawValue;</span></div>
<div style="position:absolute;left:287.87px;top:309.43px" class="cls_011"><span class="cls_011">little tricky. You will probably find that you have to</span></div>
<div style="position:absolute;left:75.83px;top:318.48px" class="cls_031"><span class="cls_031">change = value - oldValue;</span></div>
<div style="position:absolute;left:287.87px;top:324.41px" class="cls_011"><span class="cls_011">get your finger in just the right place to start</span></div>
<div style="position:absolute;left:75.83px;top:340.46px" class="cls_031"><span class="cls_031">digitalWrite(ledPin, (change &lt;</span></div>
<div style="position:absolute;left:287.87px;top:339.40px" class="cls_011"><span class="cls_011">getting a pulse. If you are having trouble, run the</span></div>
<div style="position:absolute;left:93.82px;top:351.45px" class="cls_031"><span class="cls_031">0.0 && oldChange > 0.0));</span></div>
<div style="position:absolute;left:287.87px;top:354.38px" class="cls_011"><span class="cls_011">test script as described previously to check that</span></div>
<div style="position:absolute;left:75.83px;top:373.43px" class="cls_031"><span class="cls_031">oldValue = value;</span></div>
<div style="position:absolute;left:287.87px;top:369.37px" class="cls_011"><span class="cls_011">your detector is getting a pulse and the smoothing</span></div>
<div style="position:absolute;left:75.83px;top:384.42px" class="cls_031"><span class="cls_031">oldChange = change;</span></div>
<div style="position:absolute;left:287.87px;top:384.35px" class="cls_011"><span class="cls_011">factor alpha is low enough.</span></div>
<div style="position:absolute;left:75.83px;top:395.41px" class="cls_031"><span class="cls_031">delay(period);</span></div>
<div style="position:absolute;left:52.10px;top:406.40px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:42.11px;top:707.86px" class="cls_025"><span class="cls_025">Figure 5-17</span></div>
<div style="position:absolute;left:102.05px;top:708.85px" class="cls_026"><span class="cls_026">Heart monitor test data pasted into a spreadsheet.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:72540px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background094.jpg" width=552 height=770></div>
<div style="position:absolute;left:314.32px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 5</span></div>
<div style="position:absolute;left:377.79px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    Sensor Projects</span></div>
<div style="position:absolute;left:503.38px;top:34.50px" class="cls_017"><span class="cls_017">77</span></div>
<div style="position:absolute;left:48.20px;top:69.16px" class="cls_011"><span class="cls_011">The author would like to point out that this</span></div>
<div style="position:absolute;left:299.96px;top:69.16px" class="cls_011"><span class="cls_011">Since the analog value “a” is given by:</span></div>
<div style="position:absolute;left:36.21px;top:84.15px" class="cls_011"><span class="cls_011">device should not be used for any kind of real</span></div>
<div style="position:absolute;left:363.44px;top:95.63px" class="cls_011"><span class="cls_011">a   V * (1023/5)</span></div>
<div style="position:absolute;left:36.21px;top:99.13px" class="cls_011"><span class="cls_011">medical application.</span></div>
<div style="position:absolute;left:287.97px;top:118.11px" class="cls_011"><span class="cls_011">then</span></div>
<div style="position:absolute;left:36.21px;top:139.59px" class="cls_021"><span class="cls_021">Measuring Temperature</span></div>
<div style="position:absolute;left:378.09px;top:144.59px" class="cls_011"><span class="cls_011">V   a/205</span></div>
<div style="position:absolute;left:36.21px;top:166.07px" class="cls_011"><span class="cls_011">Measuring temperature is a similar problem to</span></div>
<div style="position:absolute;left:287.97px;top:167.06px" class="cls_011"><span class="cls_011">and</span></div>
<div style="position:absolute;left:36.21px;top:181.05px" class="cls_011"><span class="cls_011">measuring light intensity. Instead of an LDR, a</span></div>
<div style="position:absolute;left:330.27px;top:193.54px" class="cls_011"><span class="cls_011">R</span></div>
<div style="position:absolute;left:352.80px;top:193.54px" class="cls_011"><span class="cls_011">((5 * 33K * 205)/a)</span></div>
<div style="position:absolute;left:454.53px;top:193.54px" class="cls_011"><span class="cls_011">33K</span></div>
<div style="position:absolute;left:36.21px;top:196.04px" class="cls_011"><span class="cls_011">device called a thermistor is used. As the</span></div>
<div style="position:absolute;left:36.21px;top:211.02px" class="cls_011"><span class="cls_011">temperature increases, so does the resistance of the</span></div>
<div style="position:absolute;left:339.35px;top:212.52px" class="cls_011"><span class="cls_011">R</span></div>
<div style="position:absolute;left:361.88px;top:212.52px" class="cls_011"><span class="cls_011">(1025 × 33K/a)</span></div>
<div style="position:absolute;left:445.45px;top:212.52px" class="cls_011"><span class="cls_011">33K</span></div>
<div style="position:absolute;left:36.21px;top:226.01px" class="cls_011"><span class="cls_011">thermistor.</span></div>
<div style="position:absolute;left:299.96px;top:235.00px" class="cls_011"><span class="cls_011">We can rearrange our formula to give us a</span></div>
<div style="position:absolute;left:48.20px;top:244.99px" class="cls_011"><span class="cls_011">When you buy a thermistor, it will have a stated</span></div>
<div style="position:absolute;left:287.97px;top:249.98px" class="cls_011"><span class="cls_011">temperature from the analog input, reading “a” as:</span></div>
<div style="position:absolute;left:36.21px;top:259.97px" class="cls_011"><span class="cls_011">resistance. In this case, the thermistor chosen is</span></div>
<div style="position:absolute;left:36.21px;top:274.96px" class="cls_011"><span class="cls_011">33 K  . This will be the resistance of the device</span></div>
<div style="position:absolute;left:310.11px;top:276.46px" class="cls_011"><span class="cls_011">T   Beta/(ln(R/33)</span></div>
<div style="position:absolute;left:411.29px;top:276.46px" class="cls_011"><span class="cls_011">(Beta/298))</span></div>
<div style="position:absolute;left:477.13px;top:276.46px" class="cls_011"><span class="cls_011">273</span></div>
<div style="position:absolute;left:36.21px;top:289.94px" class="cls_011"><span class="cls_011">at 25°C.</span></div>
<div style="position:absolute;left:287.97px;top:298.94px" class="cls_011"><span class="cls_011">and so finally we get:</span></div>
<div style="position:absolute;left:48.20px;top:308.93px" class="cls_011"><span class="cls_011">The formula for calculating the resistance at a</span></div>
<div style="position:absolute;left:36.21px;top:323.91px" class="cls_011"><span class="cls_011">particular temperature is given by:</span></div>
<div style="position:absolute;left:307.99px;top:325.41px" class="cls_011"><span class="cls_011">T   Beta/(ln(((1025</span></div>
<div style="position:absolute;left:413.44px;top:325.41px" class="cls_011"><span class="cls_011">33/a)</span></div>
<div style="position:absolute;left:451.21px;top:325.41px" class="cls_011"><span class="cls_011">33)/33)</span></div>
<div style="position:absolute;left:360.70px;top:340.40px" class="cls_011"><span class="cls_011">(Beta/298))</span></div>
<div style="position:absolute;left:426.54px;top:340.40px" class="cls_011"><span class="cls_011">273</span></div>
<div style="position:absolute;left:39.68px;top:350.38px" class="cls_011"><span class="cls_011">R   Ro exp(-Beta/(T</span></div>
<div style="position:absolute;left:151.67px;top:350.38px" class="cls_011"><span class="cls_011">273)</span></div>
<div style="position:absolute;left:187.01px;top:350.38px" class="cls_011"><span class="cls_011">Beta/(To</span></div>
<div style="position:absolute;left:240.38px;top:350.38px" class="cls_011"><span class="cls_011">273)</span></div>
<div style="position:absolute;left:299.96px;top:362.88px" class="cls_011"><span class="cls_011">Phew, that’s a lot of math!</span></div>
<div style="position:absolute;left:48.20px;top:372.86px" class="cls_011"><span class="cls_011">In this case, Ro is the resistance at 25ºC (33</span></div>
<div style="position:absolute;left:299.96px;top:381.86px" class="cls_011"><span class="cls_011">We will use this calculation in the next project</span></div>
<div style="position:absolute;left:36.21px;top:387.85px" class="cls_011"><span class="cls_011">K ) and beta is a constant value that you will find</span></div>
<div style="position:absolute;left:287.97px;top:396.84px" class="cls_011"><span class="cls_011">to create a temperature logger.</span></div>
<div style="position:absolute;left:36.21px;top:402.83px" class="cls_011"><span class="cls_011">in the thermistor’s datasheet. In this case, its value</span></div>
<div style="position:absolute;left:36.21px;top:417.82px" class="cls_011"><span class="cls_011">is 4090.</span></div>
<div style="position:absolute;left:48.20px;top:436.80px" class="cls_011"><span class="cls_011">So,</span></div>
<div style="position:absolute;left:287.97px;top:435.30px" class="cls_027"><span class="cls_027">Project 13</span></div>
<div style="position:absolute;left:287.97px;top:455.28px" class="cls_021"><span class="cls_021">USB Temperature Logger</span></div>
<div style="position:absolute;left:57.52px;top:463.27px" class="cls_011"><span class="cls_011">R   Ro exp(Beta/(T</span></div>
<div style="position:absolute;left:164.01px;top:463.27px" class="cls_011"><span class="cls_011">273)</span></div>
<div style="position:absolute;left:199.35px;top:463.27px" class="cls_011"><span class="cls_011">Beta/298)</span></div>
<div style="position:absolute;left:287.97px;top:481.76px" class="cls_011"><span class="cls_011">This project is controlled by your computer, but</span></div>
<div style="position:absolute;left:48.20px;top:485.75px" class="cls_011"><span class="cls_011">Rearranging this formula, we can get an</span></div>
<div style="position:absolute;left:287.97px;top:496.74px" class="cls_011"><span class="cls_011">once given its logging instructions can be</span></div>
<div style="position:absolute;left:36.21px;top:500.74px" class="cls_011"><span class="cls_011">expression for the temperature knowing the</span></div>
<div style="position:absolute;left:287.97px;top:511.73px" class="cls_011"><span class="cls_011">disconnected and run on batteries to do its logging.</span></div>
<div style="position:absolute;left:36.21px;top:515.72px" class="cls_011"><span class="cls_011">resistance.</span></div>
<div style="position:absolute;left:287.97px;top:526.71px" class="cls_011"><span class="cls_011">While logging, it stores its data, and then when the</span></div>
<div style="position:absolute;left:57.53px;top:542.20px" class="cls_011"><span class="cls_011">R   Ro exp(Beta/(T</span></div>
<div style="position:absolute;left:164.01px;top:542.20px" class="cls_011"><span class="cls_011">273)</span></div>
<div style="position:absolute;left:199.35px;top:542.20px" class="cls_011"><span class="cls_011">Beta/298)</span></div>
<div style="position:absolute;left:287.97px;top:541.70px" class="cls_011"><span class="cls_011">logger is reconnected it will transfer its data back</span></div>
<div style="position:absolute;left:287.97px;top:556.68px" class="cls_011"><span class="cls_011">over the USB connection, where it can be imported</span></div>
<div style="position:absolute;left:48.21px;top:564.68px" class="cls_011"><span class="cls_011">If we use a 33 K   fixed resistor, we can</span></div>
<div style="position:absolute;left:287.97px;top:571.67px" class="cls_011"><span class="cls_011">into a spreadsheet. By default, the logger will</span></div>
<div style="position:absolute;left:36.22px;top:579.66px" class="cls_011"><span class="cls_011">calculate the voltage at the analog input using the</span></div>
<div style="position:absolute;left:287.97px;top:586.65px" class="cls_011"><span class="cls_011">record 1 sample every five minutes, and can record</span></div>
<div style="position:absolute;left:36.22px;top:594.65px" class="cls_011"><span class="cls_011">formula:</span></div>
<div style="position:absolute;left:287.97px;top:601.64px" class="cls_011"><span class="cls_011">up to 255 samples.</span></div>
<div style="position:absolute;left:94.65px;top:621.12px" class="cls_011"><span class="cls_011">V</span></div>
<div style="position:absolute;left:117.78px;top:621.12px" class="cls_011"><span class="cls_011">5 * 33K/(R</span></div>
<div style="position:absolute;left:182.98px;top:621.12px" class="cls_011"><span class="cls_011">33K)</span></div>
<div style="position:absolute;left:299.96px;top:620.62px" class="cls_011"><span class="cls_011">To instruct the temperature logger from your</span></div>
<div style="position:absolute;left:287.97px;top:635.61px" class="cls_011"><span class="cls_011">computer, we have to define some commands that</span></div>
<div style="position:absolute;left:36.22px;top:643.60px" class="cls_011"><span class="cls_011">so</span></div>
<div style="position:absolute;left:287.97px;top:650.59px" class="cls_011"><span class="cls_011">can be issued from the computer. These are shown</span></div>
<div style="position:absolute;left:287.97px;top:665.58px" class="cls_011"><span class="cls_011">in Table 5-1.</span></div>
<div style="position:absolute;left:91.00px;top:670.07px" class="cls_011"><span class="cls_011">R</span></div>
<div style="position:absolute;left:113.52px;top:670.07px" class="cls_011"><span class="cls_011">((5 * 33K)/V)</span></div>
<div style="position:absolute;left:190.29px;top:670.07px" class="cls_011"><span class="cls_011">33K</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:73320px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background095.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">78</span></div>
<div style="position:absolute;left:77.16px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:43.11px;top:76.46px" class="cls_032"><span class="cls_032">TABLE 5-1</span></div>
<div style="position:absolute;left:101.98px;top:76.46px" class="cls_026"><span class="cls_026">Temperature Logger Commands</span></div>
<div style="position:absolute;left:43.11px;top:100.24px" class="cls_026"><span class="cls_026">R    Read the data out of the logger as CSV</span></div>
<div style="position:absolute;left:67.84px;top:113.23px" class="cls_026"><span class="cls_026">text</span></div>
<div style="position:absolute;left:43.11px;top:130.21px" class="cls_026"><span class="cls_026">X    Clear all data from the logger</span></div>
<div style="position:absolute;left:43.11px;top:147.19px" class="cls_026"><span class="cls_026">C    Centigrade mode</span></div>
<div style="position:absolute;left:43.11px;top:164.18px" class="cls_026"><span class="cls_026">F    Fahrenheit mode</span></div>
<div style="position:absolute;left:43.11px;top:181.16px" class="cls_026"><span class="cls_026">1-9</span></div>
<div style="position:absolute;left:67.84px;top:181.16px" class="cls_026"><span class="cls_026">Set the sample period in minutes from 1</span></div>
<div style="position:absolute;left:67.84px;top:194.15px" class="cls_026"><span class="cls_026">to 9</span></div>
<div style="position:absolute;left:43.11px;top:211.13px" class="cls_026"><span class="cls_026">G    Go! start logging temperatures</span></div>
<div style="position:absolute;left:43.11px;top:228.12px" class="cls_026"><span class="cls_026">?</span></div>
<div style="position:absolute;left:67.84px;top:228.12px" class="cls_026"><span class="cls_026">Reports the status of the device, number</span></div>
<div style="position:absolute;left:67.84px;top:241.10px" class="cls_026"><span class="cls_026">of samples taken, etc.</span></div>
<div style="position:absolute;left:48.11px;top:272.16px" class="cls_011"><span class="cls_011">This project just requires a thermistor and</span></div>
<div style="position:absolute;left:293.87px;top:283.04px" class="cls_025"><span class="cls_025">Figure 5-18</span></div>
<div style="position:absolute;left:353.81px;top:284.03px" class="cls_026"><span class="cls_026">Schematic diagram for Project 13.</span></div>
<div style="position:absolute;left:36.12px;top:287.15px" class="cls_011"><span class="cls_011">resistor.</span></div>
<div style="position:absolute;left:287.87px;top:312.92px" class="cls_011"><span class="cls_011">have used in our sketches so far are forgotten as</span></div>
<div style="position:absolute;left:44.12px;top:319.63px" class="cls_028"><span class="cls_028">COMPONENTS AND EQUIPMENT</span></div>
<div style="position:absolute;left:287.87px;top:327.91px" class="cls_011"><span class="cls_011">soon as the Arduino board is reset or disconnected</span></div>
<div style="position:absolute;left:64.09px;top:343.00px" class="cls_029"><span class="cls_029">Description</span></div>
<div style="position:absolute;left:203.96px;top:343.00px" class="cls_029"><span class="cls_029">Appendix</span></div>
<div style="position:absolute;left:287.87px;top:342.89px" class="cls_011"><span class="cls_011">from the power. Sometimes we want to be able to</span></div>
<div style="position:absolute;left:287.87px;top:357.88px" class="cls_011"><span class="cls_011">store data persistently so that it is there next time</span></div>
<div style="position:absolute;left:64.09px;top:362.98px" class="cls_026"><span class="cls_026">Arduino Diecimila or</span></div>
<div style="position:absolute;left:64.09px;top:375.97px" class="cls_026"><span class="cls_026">Duemilanove board or clone</span></div>
<div style="position:absolute;left:224.34px;top:375.97px" class="cls_026"><span class="cls_026">1</span></div>
<div style="position:absolute;left:287.87px;top:372.86px" class="cls_011"><span class="cls_011">we start up the board. This can be done by using</span></div>
<div style="position:absolute;left:287.87px;top:387.85px" class="cls_011"><span class="cls_011">the special type of memory on the Arduino called</span></div>
<div style="position:absolute;left:46.11px;top:392.95px" class="cls_026"><span class="cls_026">R1</span></div>
<div style="position:absolute;left:64.09px;top:392.95px" class="cls_026"><span class="cls_026">Thermistor, 33K at 25°C,</span></div>
<div style="position:absolute;left:64.09px;top:405.94px" class="cls_026"><span class="cls_026">beta 4090</span></div>
<div style="position:absolute;left:221.50px;top:405.94px" class="cls_026"><span class="cls_026">18</span></div>
<div style="position:absolute;left:287.87px;top:402.83px" class="cls_011"><span class="cls_011">EEPROM, which stands for electrically erasable</span></div>
<div style="position:absolute;left:287.87px;top:417.82px" class="cls_011"><span class="cls_011">programmable read-only memory. The Arduino</span></div>
<div style="position:absolute;left:46.11px;top:422.92px" class="cls_026"><span class="cls_026">R2  33 K</span></div>
<div style="position:absolute;left:94.50px;top:422.92px" class="cls_026"><span class="cls_026">0.5W metal film resistor</span></div>
<div style="position:absolute;left:221.13px;top:422.92px" class="cls_026"><span class="cls_026">10</span></div>
<div style="position:absolute;left:287.87px;top:432.80px" class="cls_011"><span class="cls_011">Duemilanove board has 1024 bytes of EEPROM.</span></div>
<div style="position:absolute;left:46.11px;top:453.90px" class="cls_022"><span class="cls_022">■</span><span class="cls_030">   If you cannot obtain a thermistor with the</span></div>
<div style="position:absolute;left:299.86px;top:451.78px" class="cls_011"><span class="cls_011">This is the first project where we have used the</span></div>
<div style="position:absolute;left:63.09px;top:467.88px" class="cls_030"><span class="cls_030">correct value of beta, or resistance, you can</span></div>
<div style="position:absolute;left:287.87px;top:466.77px" class="cls_011"><span class="cls_011">Arduino’s EEPROM to store values so that they</span></div>
<div style="position:absolute;left:63.09px;top:481.87px" class="cls_030"><span class="cls_030">change these values in the sketch.</span></div>
<div style="position:absolute;left:287.87px;top:481.75px" class="cls_011"><span class="cls_011">are not lost if the board is reset or disconnected</span></div>
<div style="position:absolute;left:287.87px;top:496.74px" class="cls_011"><span class="cls_011">from the power. This means that once we have set</span></div>
<div style="position:absolute;left:287.87px;top:511.72px" class="cls_011"><span class="cls_011">our data logging recording, we can disconnect it</span></div>
<div style="position:absolute;left:287.87px;top:526.71px" class="cls_011"><span class="cls_011">from the USB lead and leave it running on</span></div>
<div style="position:absolute;left:36.12px;top:529.91px" class="cls_005"><span class="cls_005">Hardware</span></div>
<div style="position:absolute;left:287.87px;top:541.69px" class="cls_011"><span class="cls_011">batteries. Even if the batteries go dead, our data</span></div>
<div style="position:absolute;left:36.12px;top:553.39px" class="cls_011"><span class="cls_011">The schematic diagram for Project 13 is shown in</span></div>
<div style="position:absolute;left:287.87px;top:556.68px" class="cls_011"><span class="cls_011">will still be there the next time we connect it.</span></div>
<div style="position:absolute;left:36.12px;top:568.37px" class="cls_011"><span class="cls_011">Figure 5-18.</span></div>
<div style="position:absolute;left:299.86px;top:575.66px" class="cls_011"><span class="cls_011">You will notice that at the top of this sketch we</span></div>
<div style="position:absolute;left:48.11px;top:587.36px" class="cls_011"><span class="cls_011">This is so simple that we can simply fit the</span></div>
<div style="position:absolute;left:287.87px;top:590.65px" class="cls_011"><span class="cls_011">use the command #define for what in the past we</span></div>
<div style="position:absolute;left:36.12px;top:602.34px" class="cls_011"><span class="cls_011">leads of the thermistor and resistor into the</span></div>
<div style="position:absolute;left:287.87px;top:605.63px" class="cls_011"><span class="cls_011">would have used variables for. This is actually a</span></div>
<div style="position:absolute;left:36.12px;top:617.33px" class="cls_011"><span class="cls_011">Arduino board, as shown in Figure 5-19.</span></div>
<div style="position:absolute;left:287.87px;top:620.62px" class="cls_011"><span class="cls_011">more efficient way of defining constants—that is,</span></div>
<div style="position:absolute;left:287.87px;top:635.60px" class="cls_011"><span class="cls_011">values that will not change during the running of</span></div>
<div style="position:absolute;left:36.12px;top:650.29px" class="cls_005"><span class="cls_005">Software</span></div>
<div style="position:absolute;left:287.87px;top:650.59px" class="cls_011"><span class="cls_011">the sketch. So it is actually ideal for pin settings</span></div>
<div style="position:absolute;left:287.87px;top:665.57px" class="cls_011"><span class="cls_011">and constants like beta. The command #define is</span></div>
<div style="position:absolute;left:36.12px;top:673.77px" class="cls_011"><span class="cls_011">The software for this project is a little more</span></div>
<div style="position:absolute;left:287.87px;top:680.56px" class="cls_011"><span class="cls_011">what is called a pre-processor directive, and what</span></div>
<div style="position:absolute;left:36.12px;top:688.76px" class="cls_011"><span class="cls_011">complex than for some of our other projects (see</span></div>
<div style="position:absolute;left:287.87px;top:695.54px" class="cls_011"><span class="cls_011">happens is that just before the sketch is compiled,</span></div>
<div style="position:absolute;left:36.12px;top:703.74px" class="cls_011"><span class="cls_011">Listing Project 13). All of the variables that we</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:74100px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background096.jpg" width=552 height=770></div>
<div style="position:absolute;left:313.89px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 5</span></div>
<div style="position:absolute;left:377.36px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    Sensor Projects</span></div>
<div style="position:absolute;left:502.95px;top:34.50px" class="cls_017"><span class="cls_017">79</span></div>
<div style="position:absolute;left:42.21px;top:328.00px" class="cls_025"><span class="cls_025">Figure 5-19</span></div>
<div style="position:absolute;left:102.15px;top:328.99px" class="cls_026"><span class="cls_026">A powered-up Arduino board with LED lit.</span></div>
<div style="position:absolute;left:43.21px;top:370.56px" class="cls_032"><span class="cls_032">LISTING PROJECT 13</span></div>
<div style="position:absolute;left:52.20px;top:395.38px" class="cls_031"><span class="cls_031">#include &lt;EEPROM.h></span></div>
<div style="position:absolute;left:52.20px;top:431.34px" class="cls_031"><span class="cls_031">#define ledPin 13</span></div>
<div style="position:absolute;left:52.20px;top:443.33px" class="cls_031"><span class="cls_031">#define analogPin 0</span></div>
<div style="position:absolute;left:52.20px;top:455.32px" class="cls_031"><span class="cls_031">#define maxReadings 255</span></div>
<div style="position:absolute;left:52.20px;top:467.31px" class="cls_031"><span class="cls_031">#define beta 4090</span></div>
<div style="position:absolute;left:263.63px;top:467.31px" class="cls_031"><span class="cls_031">// from your thermistor's datasheet</span></div>
<div style="position:absolute;left:52.20px;top:479.30px" class="cls_031"><span class="cls_031">#define resistance 33</span></div>
<div style="position:absolute;left:52.20px;top:503.27px" class="cls_031"><span class="cls_031">float readings[maxReadings];</span></div>
<div style="position:absolute;left:52.20px;top:515.26px" class="cls_031"><span class="cls_031">int lastReading = EEPROM.read(0);</span></div>
<div style="position:absolute;left:52.20px;top:527.25px" class="cls_031"><span class="cls_031">boolean loggingOn = false;</span></div>
<div style="position:absolute;left:52.20px;top:539.24px" class="cls_031"><span class="cls_031">long period = 300;</span></div>
<div style="position:absolute;left:52.20px;top:551.22px" class="cls_031"><span class="cls_031">long count = 0;</span></div>
<div style="position:absolute;left:52.20px;top:563.21px" class="cls_031"><span class="cls_031">char mode = 'C';</span></div>
<div style="position:absolute;left:52.20px;top:587.19px" class="cls_031"><span class="cls_031">void setup()</span></div>
<div style="position:absolute;left:52.20px;top:599.18px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:70.00px;top:611.16px" class="cls_031"><span class="cls_031">pinMode(ledPin, OUTPUT);</span></div>
<div style="position:absolute;left:70.00px;top:623.15px" class="cls_031"><span class="cls_031">Serial.begin(9600);</span></div>
<div style="position:absolute;left:70.00px;top:635.14px" class="cls_031"><span class="cls_031">Serial.println("Ready");</span></div>
<div style="position:absolute;left:52.20px;top:647.13px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.20px;top:671.11px" class="cls_031"><span class="cls_031">void loop()</span></div>
<div style="position:absolute;left:52.20px;top:683.09px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:464.31px;top:696.08px" class="cls_037"><span class="cls_037">(continued)</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:74880px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background097.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">80</span></div>
<div style="position:absolute;left:78.27px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:43.11px;top:76.46px" class="cls_032"><span class="cls_032">LISTING PROJECT 13 (continued)</span></div>
<div style="position:absolute;left:63.97px;top:98.70px" class="cls_031"><span class="cls_031">if (Serial.available())</span></div>
<div style="position:absolute;left:63.97px;top:110.69px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.83px;top:122.68px" class="cls_031"><span class="cls_031">char ch = Serial.read();</span></div>
<div style="position:absolute;left:75.83px;top:134.67px" class="cls_031"><span class="cls_031">if (ch == 'r' || ch == 'R')</span></div>
<div style="position:absolute;left:75.83px;top:146.66px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:87.70px;top:158.64px" class="cls_031"><span class="cls_031">sendBackdata();</span></div>
<div style="position:absolute;left:75.83px;top:170.63px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:75.83px;top:182.62px" class="cls_031"><span class="cls_031">else if (ch == 'x' || ch == 'X')</span></div>
<div style="position:absolute;left:75.83px;top:194.61px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:87.70px;top:206.60px" class="cls_031"><span class="cls_031">lastReading = 0;</span></div>
<div style="position:absolute;left:87.70px;top:218.58px" class="cls_031"><span class="cls_031">EEPROM.write(0, 0);</span></div>
<div style="position:absolute;left:87.70px;top:230.57px" class="cls_031"><span class="cls_031">Serial.println("Data cleared");</span></div>
<div style="position:absolute;left:75.83px;top:242.56px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:75.83px;top:254.55px" class="cls_031"><span class="cls_031">else if (ch == 'g' || ch == 'G')</span></div>
<div style="position:absolute;left:75.83px;top:266.54px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:87.70px;top:278.52px" class="cls_031"><span class="cls_031">loggingOn = true;</span></div>
<div style="position:absolute;left:87.70px;top:290.51px" class="cls_031"><span class="cls_031">Serial.println("Logging started");</span></div>
<div style="position:absolute;left:75.83px;top:302.50px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:75.83px;top:314.49px" class="cls_031"><span class="cls_031">else if (ch > '0' && ch &lt;= '9')</span></div>
<div style="position:absolute;left:75.83px;top:326.48px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:87.70px;top:338.46px" class="cls_031"><span class="cls_031">setPeriod(ch);</span></div>
<div style="position:absolute;left:75.83px;top:350.45px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:75.83px;top:362.44px" class="cls_031"><span class="cls_031">else if (ch == 'c' or ch == 'C')</span></div>
<div style="position:absolute;left:75.83px;top:374.43px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:87.70px;top:386.42px" class="cls_031"><span class="cls_031">Serial.println("Mode set to deg C");</span></div>
<div style="position:absolute;left:87.70px;top:398.40px" class="cls_031"><span class="cls_031">mode = 'C';</span></div>
<div style="position:absolute;left:75.83px;top:410.39px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:75.83px;top:422.38px" class="cls_031"><span class="cls_031">else if (ch == 'f' or ch == 'F')</span></div>
<div style="position:absolute;left:75.83px;top:434.37px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:87.70px;top:446.35px" class="cls_031"><span class="cls_031">Serial.println("Mode set to deg F");</span></div>
<div style="position:absolute;left:87.70px;top:458.34px" class="cls_031"><span class="cls_031">mode = 'F';</span></div>
<div style="position:absolute;left:75.83px;top:470.33px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:75.83px;top:482.32px" class="cls_031"><span class="cls_031">else if (ch == '?')</span></div>
<div style="position:absolute;left:75.83px;top:494.31px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:87.70px;top:506.29px" class="cls_031"><span class="cls_031">reportStatus();</span></div>
<div style="position:absolute;left:75.83px;top:518.28px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:63.97px;top:530.27px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:63.97px;top:542.26px" class="cls_031"><span class="cls_031">if (loggingOn && count > period)</span></div>
<div style="position:absolute;left:63.97px;top:554.25px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.83px;top:566.23px" class="cls_031"><span class="cls_031">logReading();</span></div>
<div style="position:absolute;left:75.83px;top:578.22px" class="cls_031"><span class="cls_031">count = 0;</span></div>
<div style="position:absolute;left:63.97px;top:590.21px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:63.97px;top:602.20px" class="cls_031"><span class="cls_031">count++;</span></div>
<div style="position:absolute;left:63.97px;top:614.19px" class="cls_031"><span class="cls_031">delay(1000);</span></div>
<div style="position:absolute;left:52.10px;top:626.17px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.10px;top:650.15px" class="cls_031"><span class="cls_031">void sendBackdata()</span></div>
<div style="position:absolute;left:52.10px;top:662.14px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:69.90px;top:674.13px" class="cls_031"><span class="cls_031">loggingOn = false;</span></div>
<div style="position:absolute;left:69.90px;top:686.12px" class="cls_031"><span class="cls_031">Serial.println("Logging stopped");</span></div>
<div style="position:absolute;left:69.90px;top:698.10px" class="cls_031"><span class="cls_031">Serial.println("------ cut here ---------");</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:75660px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background098.jpg" width=552 height=770></div>
<div style="position:absolute;left:316.17px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 5</span></div>
<div style="position:absolute;left:379.64px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    Sensor Projects</span></div>
<div style="position:absolute;left:505.24px;top:34.50px" class="cls_017"><span class="cls_017">81</span></div>
<div style="position:absolute;left:43.21px;top:76.46px" class="cls_032"><span class="cls_032">LISTING PROJECT 13 (continued)</span></div>
<div style="position:absolute;left:70.00px;top:98.70px" class="cls_031"><span class="cls_031">Serial.print("Time (min)\tTemp (");</span></div>
<div style="position:absolute;left:70.00px;top:110.69px" class="cls_031"><span class="cls_031">Serial.print(mode);</span></div>
<div style="position:absolute;left:70.00px;top:122.68px" class="cls_031"><span class="cls_031">Serial.println(")");</span></div>
<div style="position:absolute;left:70.00px;top:134.67px" class="cls_031"><span class="cls_031">for (int i = 0; i &lt; lastReading; i++)</span></div>
<div style="position:absolute;left:70.00px;top:146.66px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:87.79px;top:158.64px" class="cls_031"><span class="cls_031">Serial.print((period * i) / 60);</span></div>
<div style="position:absolute;left:87.79px;top:170.63px" class="cls_031"><span class="cls_031">Serial.print("\t");</span></div>
<div style="position:absolute;left:87.79px;top:182.62px" class="cls_031"><span class="cls_031">float temp = getReading(i);</span></div>
<div style="position:absolute;left:87.79px;top:194.61px" class="cls_031"><span class="cls_031">if (mode == 'F')</span></div>
<div style="position:absolute;left:87.79px;top:206.60px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:99.66px;top:218.58px" class="cls_031"><span class="cls_031">temp = (temp * 9) / 5 + 32;</span></div>
<div style="position:absolute;left:87.79px;top:230.57px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:87.79px;top:242.56px" class="cls_031"><span class="cls_031">Serial.println(temp);</span></div>
<div style="position:absolute;left:70.00px;top:254.55px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:70.00px;top:266.54px" class="cls_031"><span class="cls_031">Serial.println("------ cut here ---------");</span></div>
<div style="position:absolute;left:52.20px;top:278.52px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.20px;top:302.50px" class="cls_031"><span class="cls_031">void setPeriod(char ch)</span></div>
<div style="position:absolute;left:52.20px;top:314.49px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:70.00px;top:326.48px" class="cls_031"><span class="cls_031">int periodMins = ch - '0';</span></div>
<div style="position:absolute;left:70.00px;top:338.46px" class="cls_031"><span class="cls_031">Serial.print("Sample period set to: ");</span></div>
<div style="position:absolute;left:70.00px;top:350.45px" class="cls_031"><span class="cls_031">Serial.print(periodMins);</span></div>
<div style="position:absolute;left:70.00px;top:362.44px" class="cls_031"><span class="cls_031">Serial.println(" mins");</span></div>
<div style="position:absolute;left:70.00px;top:374.43px" class="cls_031"><span class="cls_031">period = periodMins * 60;</span></div>
<div style="position:absolute;left:52.20px;top:386.42px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.20px;top:410.39px" class="cls_031"><span class="cls_031">void logReading()</span></div>
<div style="position:absolute;left:52.20px;top:422.38px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:64.06px;top:434.37px" class="cls_031"><span class="cls_031">if (lastReading &lt; maxReadings)</span></div>
<div style="position:absolute;left:64.06px;top:446.36px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.93px;top:458.34px" class="cls_031"><span class="cls_031">long a = analogRead(analogPin);</span></div>
<div style="position:absolute;left:75.93px;top:470.33px" class="cls_031"><span class="cls_031">float temp = beta / (log(((1025.0 * resistance / a) - 33.0) / 33.0) +</span></div>
<div style="position:absolute;left:93.91px;top:482.32px" class="cls_031"><span class="cls_031">(beta / 298.0)) - 273.0;</span></div>
<div style="position:absolute;left:75.93px;top:494.31px" class="cls_031"><span class="cls_031">storeReading(temp, lastReading);</span></div>
<div style="position:absolute;left:75.93px;top:506.30px" class="cls_031"><span class="cls_031">lastReading++;</span></div>
<div style="position:absolute;left:64.06px;top:518.28px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:64.06px;top:530.27px" class="cls_031"><span class="cls_031">else</span></div>
<div style="position:absolute;left:64.06px;top:542.26px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.93px;top:554.25px" class="cls_031"><span class="cls_031">Serial.println("Full! logging stopped");</span></div>
<div style="position:absolute;left:75.93px;top:566.24px" class="cls_031"><span class="cls_031">loggingOn = false;</span></div>
<div style="position:absolute;left:64.06px;top:578.22px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.20px;top:590.21px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.20px;top:614.19px" class="cls_031"><span class="cls_031">void storeReading(float reading, int index)</span></div>
<div style="position:absolute;left:52.20px;top:626.18px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:64.06px;top:638.17px" class="cls_031"><span class="cls_031">EEPROM.write(0, (byte)index); // store the number of samples in byte 0</span></div>
<div style="position:absolute;left:64.06px;top:650.15px" class="cls_031"><span class="cls_031">byte compressedReading = (byte)((reading + 20.0) * 4);</span></div>
<div style="position:absolute;left:64.06px;top:662.14px" class="cls_031"><span class="cls_031">EEPROM.write(index + 1, compressedReading);</span></div>
<div style="position:absolute;left:52.20px;top:674.13px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:464.32px;top:699.10px" class="cls_037"><span class="cls_037">(continued)</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:76440px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background099.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">82</span></div>
<div style="position:absolute;left:77.20px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:43.11px;top:76.46px" class="cls_032"><span class="cls_032">LISTING PROJECT 13 (continued)</span></div>
<div style="position:absolute;left:52.10px;top:98.70px" class="cls_031"><span class="cls_031">float getReading(int index)</span></div>
<div style="position:absolute;left:52.10px;top:110.69px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:63.97px;top:122.68px" class="cls_031"><span class="cls_031">lastReading = EEPROM.read(0);</span></div>
<div style="position:absolute;left:63.97px;top:134.67px" class="cls_031"><span class="cls_031">byte compressedReading = EEPROM.read(index + 1);</span></div>
<div style="position:absolute;left:63.97px;top:146.66px" class="cls_031"><span class="cls_031">float uncompressesReading = (compressedReading / 4.0) - 20.0;</span></div>
<div style="position:absolute;left:63.97px;top:158.64px" class="cls_031"><span class="cls_031">return uncompressesReading;</span></div>
<div style="position:absolute;left:52.10px;top:170.63px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.10px;top:194.61px" class="cls_031"><span class="cls_031">void reportStatus()</span></div>
<div style="position:absolute;left:52.10px;top:206.60px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:58.03px;top:218.58px" class="cls_031"><span class="cls_031">Serial.println("----------------");</span></div>
<div style="position:absolute;left:58.03px;top:230.57px" class="cls_031"><span class="cls_031">Serial.println("Status");</span></div>
<div style="position:absolute;left:58.03px;top:242.56px" class="cls_031"><span class="cls_031">Serial.print("Sample period\t");</span></div>
<div style="position:absolute;left:58.03px;top:254.55px" class="cls_031"><span class="cls_031">Serial.println(period / 60);</span></div>
<div style="position:absolute;left:58.03px;top:266.54px" class="cls_031"><span class="cls_031">Serial.print("Num readings\t");</span></div>
<div style="position:absolute;left:58.03px;top:278.52px" class="cls_031"><span class="cls_031">Serial.println(lastReading);</span></div>
<div style="position:absolute;left:58.03px;top:290.51px" class="cls_031"><span class="cls_031">Serial.print("Mode degrees\t");</span></div>
<div style="position:absolute;left:58.03px;top:302.50px" class="cls_031"><span class="cls_031">Serial.println(mode);</span></div>
<div style="position:absolute;left:58.03px;top:314.49px" class="cls_031"><span class="cls_031">Serial.println("----------------");</span></div>
<div style="position:absolute;left:52.10px;top:326.48px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:36.12px;top:363.87px" class="cls_011"><span class="cls_011">all occurrences of its name anywhere in the sketch</span></div>
<div style="position:absolute;left:287.87px;top:363.87px" class="cls_011"><span class="cls_011">lastReading in the first byte of EEPROM and then</span></div>
<div style="position:absolute;left:36.12px;top:378.86px" class="cls_011"><span class="cls_011">are replaced by its value. It is very much a matter</span></div>
<div style="position:absolute;left:287.87px;top:378.85px" class="cls_011"><span class="cls_011">the actual reading data in the 256 bytes that follow.</span></div>
<div style="position:absolute;left:36.12px;top:393.84px" class="cls_011"><span class="cls_011">of personal taste whether you use #define or a</span></div>
<div style="position:absolute;left:299.86px;top:397.84px" class="cls_011"><span class="cls_011">Each temperature reading is kept in a float, and</span></div>
<div style="position:absolute;left:36.12px;top:408.83px" class="cls_011"><span class="cls_011">variable.</span></div>
<div style="position:absolute;left:287.87px;top:412.82px" class="cls_011"><span class="cls_011">if you remember from Chapter 2, a float occupies</span></div>
<div style="position:absolute;left:48.11px;top:427.81px" class="cls_011"><span class="cls_011">Fortunately, reading and writing EEPROM</span></div>
<div style="position:absolute;left:287.87px;top:427.81px" class="cls_011"><span class="cls_011">4 bytes of data. Here we had a choice: We could</span></div>
<div style="position:absolute;left:36.12px;top:442.79px" class="cls_011"><span class="cls_011">happens just one byte at a time. So if we want to</span></div>
<div style="position:absolute;left:287.87px;top:442.79px" class="cls_011"><span class="cls_011">either store all 4 bytes or find a way to encode the</span></div>
<div style="position:absolute;left:36.12px;top:457.78px" class="cls_011"><span class="cls_011">write a variable that is a byte or a char, we can just</span></div>
<div style="position:absolute;left:287.87px;top:457.78px" class="cls_011"><span class="cls_011">temperature into a single byte. We decided to take</span></div>
<div style="position:absolute;left:36.12px;top:472.76px" class="cls_011"><span class="cls_011">use the functions EEPROM.write and</span></div>
<div style="position:absolute;left:287.87px;top:472.76px" class="cls_011"><span class="cls_011">the latter route, as it is easier to do.</span></div>
<div style="position:absolute;left:36.12px;top:487.75px" class="cls_011"><span class="cls_011">EEPROM.read, as shown in the example here:</span></div>
<div style="position:absolute;left:299.86px;top:491.74px" class="cls_011"><span class="cls_011">The way we encode the temperature into a</span></div>
<div style="position:absolute;left:287.87px;top:506.73px" class="cls_011"><span class="cls_011">single byte is to make some assumptions about our</span></div>
<div style="position:absolute;left:42.11px;top:513.22px" class="cls_031"><span class="cls_031">char letterToWrite = 'A';</span></div>
<div style="position:absolute;left:287.87px;top:521.71px" class="cls_011"><span class="cls_011">temperatures. First, we assume that any</span></div>
<div style="position:absolute;left:42.11px;top:526.21px" class="cls_031"><span class="cls_031">EEPROM.write(0, myLetter);</span></div>
<div style="position:absolute;left:287.87px;top:536.70px" class="cls_011"><span class="cls_011">temperature in Centigrade will be between -20 and</span></div>
<div style="position:absolute;left:42.11px;top:552.19px" class="cls_031"><span class="cls_031">char letterToRead;</span></div>
<div style="position:absolute;left:297.02px;top:551.68px" class="cls_011"><span class="cls_011">40. Anything higher or lower would likely</span></div>
<div style="position:absolute;left:42.11px;top:565.17px" class="cls_031"><span class="cls_031">letterToRead = EEPROM.read(0);</span></div>
<div style="position:absolute;left:287.87px;top:566.67px" class="cls_011"><span class="cls_011">damage our Arduino board anyway. Second, we</span></div>
<div style="position:absolute;left:287.87px;top:581.65px" class="cls_011"><span class="cls_011">assume that we only need to know the temperature</span></div>
<div style="position:absolute;left:48.11px;top:594.15px" class="cls_011"><span class="cls_011">The 0 in the parameters for read and write is the</span></div>
<div style="position:absolute;left:287.87px;top:596.64px" class="cls_011"><span class="cls_011">to the nearest quarter of a degree.</span></div>
<div style="position:absolute;left:36.12px;top:609.13px" class="cls_011"><span class="cls_011">address in the EEPROM to use. This can be any</span></div>
<div style="position:absolute;left:299.86px;top:615.62px" class="cls_011"><span class="cls_011">With these two assumptions, we can take any</span></div>
<div style="position:absolute;left:36.12px;top:624.12px" class="cls_011"><span class="cls_011">number between 0 and 1023, with each address</span></div>
<div style="position:absolute;left:287.87px;top:630.60px" class="cls_011"><span class="cls_011">temperature value we get from the analog input,</span></div>
<div style="position:absolute;left:36.12px;top:639.10px" class="cls_011"><span class="cls_011">being a location where one byte is stored.</span></div>
<div style="position:absolute;left:287.87px;top:645.59px" class="cls_011"><span class="cls_011">add 20 to it, multiply it by 4, and still be sure that</span></div>
<div style="position:absolute;left:48.11px;top:658.08px" class="cls_011"><span class="cls_011">In this project we want to store both the position</span></div>
<div style="position:absolute;left:287.87px;top:660.57px" class="cls_011"><span class="cls_011">we always have a number between 0 and 240.</span></div>
<div style="position:absolute;left:36.12px;top:673.07px" class="cls_011"><span class="cls_011">of the last reading taken (in the lastReading</span></div>
<div style="position:absolute;left:287.87px;top:675.56px" class="cls_011"><span class="cls_011">Since a byte can hold a number between 0 and</span></div>
<div style="position:absolute;left:36.12px;top:688.05px" class="cls_011"><span class="cls_011">variable) and all the readings. So we will record</span></div>
<div style="position:absolute;left:287.87px;top:690.54px" class="cls_011"><span class="cls_011">255, that just fits nicely.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:77220px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background100.jpg" width=552 height=770></div>
<div style="position:absolute;left:314.19px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 5</span></div>
<div style="position:absolute;left:377.66px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    Sensor Projects</span></div>
<div style="position:absolute;left:503.25px;top:34.50px" class="cls_017"><span class="cls_017">83</span></div>
<div style="position:absolute;left:48.20px;top:69.16px" class="cls_011"><span class="cls_011">When we take our numbers out of EEPROM,</span></div>
<div style="position:absolute;left:287.97px;top:69.16px" class="cls_011"><span class="cls_011">time as the USB connector is connected if you</span></div>
<div style="position:absolute;left:36.21px;top:84.15px" class="cls_011"><span class="cls_011">we need to convert them back to a float, which we</span></div>
<div style="position:absolute;left:287.97px;top:84.14px" class="cls_011"><span class="cls_011">want the logger to keep logging after you</span></div>
<div style="position:absolute;left:36.21px;top:99.13px" class="cls_011"><span class="cls_011">can do by reversing the process, dividing by 4 and</span></div>
<div style="position:absolute;left:287.97px;top:99.13px" class="cls_011"><span class="cls_011">disconnect the USB lead.</span></div>
<div style="position:absolute;left:36.21px;top:114.12px" class="cls_011"><span class="cls_011">then subtracting 20.</span></div>
<div style="position:absolute;left:299.96px;top:118.11px" class="cls_011"><span class="cls_011">Finally, we can type the </span><span class="cls_016">G</span><span class="cls_011"> command to start</span></div>
<div style="position:absolute;left:48.20px;top:133.10px" class="cls_011"><span class="cls_011">Both encoding and decoding the values are</span></div>
<div style="position:absolute;left:287.97px;top:133.09px" class="cls_011"><span class="cls_011">logging. We can then unplug the USB lead and</span></div>
<div style="position:absolute;left:36.21px;top:148.08px" class="cls_011"><span class="cls_011">wrapped up in the functions storeReading and</span></div>
<div style="position:absolute;left:287.97px;top:148.08px" class="cls_011"><span class="cls_011">leave our logger running on batteries. After waiting</span></div>
<div style="position:absolute;left:36.21px;top:163.07px" class="cls_011"><span class="cls_011">getReading. So, if we decided to take a different</span></div>
<div style="position:absolute;left:287.97px;top:163.06px" class="cls_011"><span class="cls_011">10 or 15 minutes, we can plug it back in and see</span></div>
<div style="position:absolute;left:36.21px;top:178.05px" class="cls_011"><span class="cls_011">approach to storing the data, we would only have</span></div>
<div style="position:absolute;left:287.97px;top:178.05px" class="cls_011"><span class="cls_011">what data we have by opening the Serial Monitor</span></div>
<div style="position:absolute;left:36.21px;top:193.04px" class="cls_011"><span class="cls_011">to change these two functions.</span></div>
<div style="position:absolute;left:287.97px;top:193.03px" class="cls_011"><span class="cls_011">and typing the </span><span class="cls_016">R</span><span class="cls_011"> command, the results of which</span></div>
<div style="position:absolute;left:287.97px;top:208.02px" class="cls_011"><span class="cls_011">are shown in Figure 5-21. Select all the data,</span></div>
<div style="position:absolute;left:287.97px;top:223.00px" class="cls_011"><span class="cls_011">including the Time and Temp headings at the top.</span></div>
<div style="position:absolute;left:36.21px;top:226.01px" class="cls_005"><span class="cls_005">Putting It All Together</span></div>
<div style="position:absolute;left:299.96px;top:241.99px" class="cls_011"><span class="cls_011">Copy the text to the clipboard (press </span><span class="cls_034">CTRL</span><span class="cls_011">-</span><span class="cls_034">C</span><span class="cls_011"> on</span></div>
<div style="position:absolute;left:36.21px;top:249.49px" class="cls_011"><span class="cls_011">Load the completed sketch for Project 13 from</span></div>
<div style="position:absolute;left:287.97px;top:256.98px" class="cls_011"><span class="cls_011">Windows and LINUX, </span><span class="cls_034">ALT</span><span class="cls_011">-</span><span class="cls_034">C</span><span class="cls_011"> on Macs), open a</span></div>
<div style="position:absolute;left:36.21px;top:264.47px" class="cls_011"><span class="cls_011">your Arduino Sketchbook and download it to the</span></div>
<div style="position:absolute;left:287.97px;top:271.96px" class="cls_011"><span class="cls_011">spreadsheet in a program such as Microsoft Excel,</span></div>
<div style="position:absolute;left:36.21px;top:279.46px" class="cls_011"><span class="cls_011">board (see Chapter 1).</span></div>
<div style="position:absolute;left:287.97px;top:286.95px" class="cls_011"><span class="cls_011">and paste it into a new spreadsheet (Figure 5-22).</span></div>
<div style="position:absolute;left:48.20px;top:298.44px" class="cls_011"><span class="cls_011">Now open the Serial Monitor (Figure 5-20), and</span></div>
<div style="position:absolute;left:299.96px;top:305.93px" class="cls_011"><span class="cls_011">Once in the spreadsheet, we can even draw a</span></div>
<div style="position:absolute;left:36.21px;top:313.42px" class="cls_011"><span class="cls_011">for test purposes, we will set the temperature</span></div>
<div style="position:absolute;left:287.97px;top:320.91px" class="cls_011"><span class="cls_011">chart using our data.</span></div>
<div style="position:absolute;left:36.21px;top:328.41px" class="cls_011"><span class="cls_011">logger to log every minute by typing </span><span class="cls_016">1</span><span class="cls_011"> in the Serial</span></div>
<div style="position:absolute;left:36.21px;top:343.39px" class="cls_011"><span class="cls_011">Monitor. The board should respond with the</span></div>
<div style="position:absolute;left:36.21px;top:358.38px" class="cls_011"><span class="cls_011">message “Sample period set to: 1 mins.” If we</span></div>
<div style="position:absolute;left:287.97px;top:361.38px" class="cls_021"><span class="cls_021">Summary</span></div>
<div style="position:absolute;left:36.21px;top:373.36px" class="cls_011"><span class="cls_011">wanted to, we could then change the mode to</span></div>
<div style="position:absolute;left:36.21px;top:388.35px" class="cls_011"><span class="cls_011">Fahrenheit by typing </span><span class="cls_016">F</span><span class="cls_011"> into the Serial Monitor.</span></div>
<div style="position:absolute;left:287.97px;top:387.85px" class="cls_011"><span class="cls_011">We now know how to handle various types of</span></div>
<div style="position:absolute;left:36.21px;top:403.33px" class="cls_011"><span class="cls_011">Now we can check the status of the logger by</span></div>
<div style="position:absolute;left:287.97px;top:402.84px" class="cls_011"><span class="cls_011">sensors and input devices to go with our</span></div>
<div style="position:absolute;left:36.21px;top:418.32px" class="cls_011"><span class="cls_011">typing</span><span class="cls_016"> ?</span><span class="cls_011">.</span></div>
<div style="position:absolute;left:287.97px;top:417.82px" class="cls_011"><span class="cls_011">knowledge of LEDs. In the next section we will</span></div>
<div style="position:absolute;left:287.97px;top:432.81px" class="cls_011"><span class="cls_011">look at a number of projects that use light in</span></div>
<div style="position:absolute;left:48.20px;top:437.30px" class="cls_011"><span class="cls_011">In order to unplug the USB cable, we need to</span></div>
<div style="position:absolute;left:287.97px;top:447.79px" class="cls_011"><span class="cls_011">various ways and get our hands on some more</span></div>
<div style="position:absolute;left:36.21px;top:452.28px" class="cls_011"><span class="cls_011">have an alternative source of power, such as the</span></div>
<div style="position:absolute;left:287.97px;top:462.78px" class="cls_011"><span class="cls_011">advanced display technologies, such as LCD text</span></div>
<div style="position:absolute;left:36.21px;top:467.27px" class="cls_011"><span class="cls_011">battery lead we made back in Project 6. You need</span></div>
<div style="position:absolute;left:287.97px;top:477.76px" class="cls_011"><span class="cls_011">panels and seven-segment LEDs.</span></div>
<div style="position:absolute;left:36.21px;top:482.25px" class="cls_011"><span class="cls_011">to have this plugged in and powered up at the same</span></div>
<div style="position:absolute;left:40.21px;top:707.86px" class="cls_025"><span class="cls_025">Figure 5-20</span></div>
<div style="position:absolute;left:102.15px;top:708.85px" class="cls_026"><span class="cls_026">Issuing commands through the Serial Monitor.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:78000px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background101.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">84</span></div>
<div style="position:absolute;left:77.86px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:169.19px;top:363.96px" class="cls_025"><span class="cls_025">Figure 5-21</span></div>
<div style="position:absolute;left:229.13px;top:364.95px" class="cls_026"><span class="cls_026">Data to copy and paste into a</span></div>
<div style="position:absolute;left:229.13px;top:378.94px" class="cls_026"><span class="cls_026">spreadsheet.</span></div>
<div style="position:absolute;left:42.11px;top:707.86px" class="cls_025"><span class="cls_025">Figure 5-22</span></div>
<div style="position:absolute;left:102.05px;top:708.85px" class="cls_026"><span class="cls_026">Temperature data imported into a spreadsheet.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:78780px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background102.jpg" width=552 height=770></div>
<div style="position:absolute;left:196.16px;top:54.87px" class="cls_024"><span class="cls_024">C H A P T E R</span></div>
<div style="position:absolute;left:344.00px;top:54.87px" class="cls_024"><span class="cls_024">6</span></div>
<div style="position:absolute;left:176.29px;top:103.55px" class="cls_023"><span class="cls_023">Light Projects</span></div>
<div style="position:absolute;left:36.21px;top:223.00px" class="cls_016"><span class="cls_016">I</span><span class="cls_019">N THIS CHAPTER</span><span class="cls_016">,</span><span class="cls_011"> we look at some more projects</span></div>
<div style="position:absolute;left:299.96px;top:222.99px" class="cls_011"><span class="cls_011">If you cannot find a four-pin RGB (Red, Green,</span></div>
<div style="position:absolute;left:36.21px;top:237.98px" class="cls_011"><span class="cls_011">based on lights and displays. In particular, we look</span></div>
<div style="position:absolute;left:287.97px;top:237.98px" class="cls_011"><span class="cls_011">Blue) LED, you can use a six-pin device instead.</span></div>
<div style="position:absolute;left:36.21px;top:252.97px" class="cls_011"><span class="cls_011">at how to use multicolor LEDs, seven-segment</span></div>
<div style="position:absolute;left:287.97px;top:252.96px" class="cls_011"><span class="cls_011">Simply connect the separate anodes together,</span></div>
<div style="position:absolute;left:36.21px;top:267.95px" class="cls_011"><span class="cls_011">LEDs, LED matrix displays, and LCD panels.</span></div>
<div style="position:absolute;left:287.97px;top:267.95px" class="cls_011"><span class="cls_011">referring to the datasheet for the component.</span></div>
<div style="position:absolute;left:287.97px;top:300.92px" class="cls_005"><span class="cls_005">Hardware</span></div>
<div style="position:absolute;left:36.21px;top:306.42px" class="cls_027"><span class="cls_027">Project 14</span></div>
<div style="position:absolute;left:287.97px;top:324.40px" class="cls_011"><span class="cls_011">Figure 6-1 shows the schematic diagram for</span></div>
<div style="position:absolute;left:36.21px;top:326.40px" class="cls_021"><span class="cls_021">Multicolor Light Display</span></div>
<div style="position:absolute;left:287.97px;top:339.38px" class="cls_011"><span class="cls_011">Project 14 and Figure 6-2 the breadboard layout.</span></div>
<div style="position:absolute;left:36.21px;top:352.87px" class="cls_011"><span class="cls_011">This project uses a high-brightness, three-color</span></div>
<div style="position:absolute;left:299.96px;top:358.37px" class="cls_011"><span class="cls_011">It’s a simple schematic diagram. The rotary</span></div>
<div style="position:absolute;left:36.21px;top:367.86px" class="cls_011"><span class="cls_011">LED in combination with a rotary encoder.</span></div>
<div style="position:absolute;left:287.97px;top:373.35px" class="cls_011"><span class="cls_011">encoder has pull-down resistors for the direction</span></div>
<div style="position:absolute;left:36.21px;top:382.84px" class="cls_011"><span class="cls_011">Turning the rotary encoder changes the color</span></div>
<div style="position:absolute;left:287.97px;top:388.34px" class="cls_011"><span class="cls_011">sensors and the push switch. For more detail on</span></div>
<div style="position:absolute;left:36.21px;top:397.83px" class="cls_011"><span class="cls_011">displayed by the LED.</span></div>
<div style="position:absolute;left:287.97px;top:403.32px" class="cls_011"><span class="cls_011">rotary encoders and how they work, see Chapter 5.</span></div>
<div style="position:absolute;left:299.96px;top:422.30px" class="cls_011"><span class="cls_011">Each LED has its own series resistor to limit the</span></div>
<div style="position:absolute;left:287.97px;top:437.29px" class="cls_011"><span class="cls_011">current to about 30 mA per LED.</span></div>
<div style="position:absolute;left:44.22px;top:438.70px" class="cls_028"><span class="cls_028">COMPONENTS AND EQUIPMENT</span></div>
<div style="position:absolute;left:299.96px;top:456.27px" class="cls_011"><span class="cls_011">The LED package has a slight flatness to one</span></div>
<div style="position:absolute;left:82.17px;top:462.07px" class="cls_029"><span class="cls_029">Description</span></div>
<div style="position:absolute;left:209.65px;top:462.07px" class="cls_029"><span class="cls_029">Appendix</span></div>
<div style="position:absolute;left:287.97px;top:471.25px" class="cls_011"><span class="cls_011">side. Pin 1 is the pin closest to that edge. The other</span></div>
<div style="position:absolute;left:82.17px;top:482.05px" class="cls_026"><span class="cls_026">Arduino Diecimila or</span></div>
<div style="position:absolute;left:287.97px;top:486.24px" class="cls_011"><span class="cls_011">way to identify the pins is by length. Pin 2 is the</span></div>
<div style="position:absolute;left:82.17px;top:495.04px" class="cls_026"><span class="cls_026">Duemilanove board or clone</span></div>
<div style="position:absolute;left:230.03px;top:495.04px" class="cls_026"><span class="cls_026">1</span></div>
<div style="position:absolute;left:287.97px;top:501.22px" class="cls_011"><span class="cls_011">common anode and is the longest pin.</span></div>
<div style="position:absolute;left:46.20px;top:512.02px" class="cls_026"><span class="cls_026">D1</span></div>
<div style="position:absolute;left:82.17px;top:512.02px" class="cls_026"><span class="cls_026">RGB LED (common anode)</span></div>
<div style="position:absolute;left:227.27px;top:512.02px" class="cls_026"><span class="cls_026">31</span></div>
<div style="position:absolute;left:299.96px;top:520.21px" class="cls_011"><span class="cls_011">The completed project is shown in Figure 6-3.</span></div>
<div style="position:absolute;left:46.20px;top:529.01px" class="cls_026"><span class="cls_026">R1-R3</span></div>
<div style="position:absolute;left:82.17px;top:529.01px" class="cls_026"><span class="cls_026">100</span></div>
<div style="position:absolute;left:111.17px;top:529.01px" class="cls_026"><span class="cls_026">0.5W metal film resistor</span></div>
<div style="position:absolute;left:228.89px;top:529.01px" class="cls_026"><span class="cls_026">5</span></div>
<div style="position:absolute;left:299.96px;top:539.19px" class="cls_011"><span class="cls_011">Each of the LEDs (red, green, and blue) is</span></div>
<div style="position:absolute;left:46.20px;top:545.99px" class="cls_026"><span class="cls_026">R4-6</span></div>
<div style="position:absolute;left:82.17px;top:545.99px" class="cls_026"><span class="cls_026">100 K</span></div>
<div style="position:absolute;left:117.63px;top:545.99px" class="cls_026"><span class="cls_026">0.5W metal film</span></div>
<div style="position:absolute;left:82.17px;top:558.98px" class="cls_026"><span class="cls_026">resistor</span></div>
<div style="position:absolute;left:227.26px;top:558.98px" class="cls_026"><span class="cls_026">13</span></div>
<div style="position:absolute;left:287.97px;top:554.17px" class="cls_011"><span class="cls_011">driven from a pulse width modulation (PWM)</span></div>
<div style="position:absolute;left:287.97px;top:569.16px" class="cls_011"><span class="cls_011">output of the Arduino board, so that by varying the</span></div>
<div style="position:absolute;left:46.20px;top:575.96px" class="cls_026"><span class="cls_026">S1</span></div>
<div style="position:absolute;left:82.17px;top:575.96px" class="cls_026"><span class="cls_026">Rotary encoder with switch</span></div>
<div style="position:absolute;left:226.35px;top:575.96px" class="cls_026"><span class="cls_026">57</span></div>
<div style="position:absolute;left:287.97px;top:584.14px" class="cls_011"><span class="cls_011">output of each LED, we can produce a full</span></div>
<div style="position:absolute;left:287.97px;top:599.13px" class="cls_011"><span class="cls_011">spectrum of visible light colors.</span></div>
<div style="position:absolute;left:48.20px;top:611.62px" class="cls_011"><span class="cls_011">The LED lamp is interesting because it has three</span></div>
<div style="position:absolute;left:299.96px;top:618.11px" class="cls_011"><span class="cls_011">The rotary encoder is connected in the same</span></div>
<div style="position:absolute;left:36.21px;top:626.60px" class="cls_011"><span class="cls_011">LED lights in one four-pin package. The LED has</span></div>
<div style="position:absolute;left:287.97px;top:633.09px" class="cls_011"><span class="cls_011">way as for Project 11: rotating it changes the color</span></div>
<div style="position:absolute;left:36.21px;top:641.59px" class="cls_011"><span class="cls_011">a common anode arrangement, meaning that the</span></div>
<div style="position:absolute;left:287.97px;top:648.08px" class="cls_011"><span class="cls_011">and pressing it will turn the LED on and off.</span></div>
<div style="position:absolute;left:36.21px;top:656.57px" class="cls_011"><span class="cls_011">positive connections of all three LEDs come out of</span></div>
<div style="position:absolute;left:36.21px;top:671.56px" class="cls_011"><span class="cls_011">one pin (pin 2).</span></div>
<div style="position:absolute;left:503.16px;top:718.82px" class="cls_017"><span class="cls_017">85</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:79560px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background103.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">86</span></div>
<div style="position:absolute;left:77.59px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:42.11px;top:413.52px" class="cls_025"><span class="cls_025">Figure 6-1</span></div>
<div style="position:absolute;left:102.05px;top:414.50px" class="cls_026"><span class="cls_026">Schematic diagram for Project 14.</span></div>
<div style="position:absolute;left:42.11px;top:652.72px" class="cls_025"><span class="cls_025">Figure 6-2</span></div>
<div style="position:absolute;left:102.05px;top:653.70px" class="cls_026"><span class="cls_026">Breadboard layout for Project 14.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:80340px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background104.jpg" width=552 height=770></div>
<div style="position:absolute;left:322.15px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 6</span></div>
<div style="position:absolute;left:385.98px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    Light Projects</span></div>
<div style="position:absolute;left:503.27px;top:34.50px" class="cls_017"><span class="cls_017">87</span></div>
<div style="position:absolute;left:42.21px;top:278.45px" class="cls_025"><span class="cls_025">Figure 6-3</span></div>
<div style="position:absolute;left:102.15px;top:279.44px" class="cls_026"><span class="cls_026">Project 14. Multicolor Light Display.</span></div>
<div style="position:absolute;left:36.21px;top:319.23px" class="cls_005"><span class="cls_005">Software</span></div>
<div style="position:absolute;left:287.97px;top:318.32px" class="cls_011"><span class="cls_011">elements should be lit. The numbers in the array</span></div>
<div style="position:absolute;left:287.97px;top:333.30px" class="cls_011"><span class="cls_011">are shown in hexadecimal and correspond to the</span></div>
<div style="position:absolute;left:36.21px;top:342.70px" class="cls_011"><span class="cls_011">This sketch (Listing Project 14) uses an array to</span></div>
<div style="position:absolute;left:287.97px;top:348.29px" class="cls_011"><span class="cls_011">hex number format used to represent 24-bit colors</span></div>
<div style="position:absolute;left:36.21px;top:357.69px" class="cls_011"><span class="cls_011">represent the different colors that will be displayed</span></div>
<div style="position:absolute;left:287.97px;top:363.27px" class="cls_011"><span class="cls_011">on webpages. If there is a particular color that you</span></div>
<div style="position:absolute;left:36.21px;top:372.67px" class="cls_011"><span class="cls_011">by the LED. Each of the elements of the array is a</span></div>
<div style="position:absolute;left:287.97px;top:378.26px" class="cls_011"><span class="cls_011">want to try and create, find yourself a web color</span></div>
<div style="position:absolute;left:36.21px;top:387.66px" class="cls_011"><span class="cls_011">long 32-bit number. Three of the bytes of the long</span></div>
<div style="position:absolute;left:287.97px;top:393.24px" class="cls_011"><span class="cls_011">chart by typing </span><span class="cls_016">web color chart</span><span class="cls_011"> into your favorite</span></div>
<div style="position:absolute;left:36.21px;top:402.64px" class="cls_011"><span class="cls_011">number are used to represent the red, green, and</span></div>
<div style="position:absolute;left:287.97px;top:408.23px" class="cls_011"><span class="cls_011">search engine. You can then look up the hex value</span></div>
<div style="position:absolute;left:36.21px;top:417.63px" class="cls_011"><span class="cls_011">blue components of the color, which correspond to</span></div>
<div style="position:absolute;left:287.97px;top:423.21px" class="cls_011"><span class="cls_011">for the color that you want.</span></div>
<div style="position:absolute;left:36.21px;top:432.61px" class="cls_011"><span class="cls_011">how brightly each of the red, green, or blue LED</span></div>
<div style="position:absolute;left:43.21px;top:476.48px" class="cls_032"><span class="cls_032">LISTING PROJECT 14</span></div>
<div style="position:absolute;left:52.20px;top:498.72px" class="cls_031"><span class="cls_031">int redPin = 9;</span></div>
<div style="position:absolute;left:52.20px;top:510.70px" class="cls_031"><span class="cls_031">int greenPin = 10;</span></div>
<div style="position:absolute;left:52.20px;top:522.69px" class="cls_031"><span class="cls_031">int bluePin = 11;</span></div>
<div style="position:absolute;left:52.20px;top:534.68px" class="cls_031"><span class="cls_031">int aPin = 6;</span></div>
<div style="position:absolute;left:52.20px;top:546.67px" class="cls_031"><span class="cls_031">int bPin = 7;</span></div>
<div style="position:absolute;left:52.20px;top:558.66px" class="cls_031"><span class="cls_031">int buttonPin = 5;</span></div>
<div style="position:absolute;left:52.20px;top:582.63px" class="cls_031"><span class="cls_031">boolean isOn = true;</span></div>
<div style="position:absolute;left:52.20px;top:594.62px" class="cls_031"><span class="cls_031">int color = 0;</span></div>
<div style="position:absolute;left:52.20px;top:618.60px" class="cls_031"><span class="cls_031">long colors[48]= {</span></div>
<div style="position:absolute;left:64.06px;top:630.59px" class="cls_031"><span class="cls_031">0xFF2000, 0xFF4000, 0xFF6000, 0xFF8000, 0xFFA000, 0xFFC000, 0xFFE000, 0xFFFF00,</span></div>
<div style="position:absolute;left:64.06px;top:642.57px" class="cls_031"><span class="cls_031">0xE0FF00, 0xC0FF00, 0xA0FF00, 0x80FF00, 0x60FF00, 0x40FF00, 0x20FF00, 0x00FF00,</span></div>
<div style="position:absolute;left:64.06px;top:654.56px" class="cls_031"><span class="cls_031">0x00FF20, 0x00FF40, 0x00FF60, 0x00FF80, 0x00FFA0, 0x00FFC0, 0x00FFE0, 0x00FFFF,</span></div>
<div style="position:absolute;left:64.06px;top:666.55px" class="cls_031"><span class="cls_031">0x00E0FF, 0x00C0FF, 0x00A0FF, 0x0080FF, 0x0060FF, 0x0040FF, 0x0020FF, 0x0000FF,</span></div>
<div style="position:absolute;left:64.06px;top:678.54px" class="cls_031"><span class="cls_031">0x2000FF, 0x4000FF, 0x6000FF, 0x8000FF, 0xA000FF, 0xC000FF, 0xE000FF, 0xFF00FF,</span></div>
<div style="position:absolute;left:464.31px;top:696.52px" class="cls_037"><span class="cls_037">(continued)</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:81120px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background105.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">88</span></div>
<div style="position:absolute;left:77.27px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:43.11px;top:76.46px" class="cls_032"><span class="cls_032">LISTING PROJECT 14 (continued)</span></div>
<div style="position:absolute;left:63.97px;top:98.70px" class="cls_031"><span class="cls_031">0xFF00E0, 0xFF00C0, 0xFF00A0, 0xFF0080, 0xFF0060, 0xFF0040, 0xFF0020, 0xFF0000</span></div>
<div style="position:absolute;left:52.10px;top:110.69px" class="cls_031"><span class="cls_031">};</span></div>
<div style="position:absolute;left:52.10px;top:134.67px" class="cls_031"><span class="cls_031">void setup()</span></div>
<div style="position:absolute;left:52.10px;top:146.66px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:63.97px;top:158.64px" class="cls_031"><span class="cls_031">pinMode(aPin, INPUT);</span></div>
<div style="position:absolute;left:63.97px;top:170.63px" class="cls_031"><span class="cls_031">pinMode(bPin, INPUT);</span></div>
<div style="position:absolute;left:63.97px;top:182.62px" class="cls_031"><span class="cls_031">pinMode(buttonPin, INPUT);</span></div>
<div style="position:absolute;left:63.97px;top:194.61px" class="cls_031"><span class="cls_031">pinMode(redPin, OUTPUT);</span></div>
<div style="position:absolute;left:63.97px;top:206.60px" class="cls_031"><span class="cls_031">pinMode(greenPin, OUTPUT);</span></div>
<div style="position:absolute;left:63.97px;top:218.58px" class="cls_031"><span class="cls_031">pinMode(bluePin, OUTPUT);</span></div>
<div style="position:absolute;left:52.10px;top:230.57px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.10px;top:254.55px" class="cls_031"><span class="cls_031">void loop()</span></div>
<div style="position:absolute;left:52.10px;top:266.54px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:63.97px;top:278.53px" class="cls_031"><span class="cls_031">if (digitalRead(buttonPin))</span></div>
<div style="position:absolute;left:63.97px;top:290.51px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.83px;top:302.50px" class="cls_031"><span class="cls_031">isOn = ! isOn;</span></div>
<div style="position:absolute;left:75.83px;top:314.49px" class="cls_031"><span class="cls_031">delay(200);</span></div>
<div style="position:absolute;left:158.90px;top:314.49px" class="cls_031"><span class="cls_031">// de-bounce</span></div>
<div style="position:absolute;left:63.97px;top:326.48px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:63.97px;top:338.47px" class="cls_031"><span class="cls_031">if (isOn)</span></div>
<div style="position:absolute;left:63.97px;top:350.45px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.83px;top:362.44px" class="cls_031"><span class="cls_031">int change = getEncoderTurn();</span></div>
<div style="position:absolute;left:75.83px;top:374.43px" class="cls_031"><span class="cls_031">color = color + change;</span></div>
<div style="position:absolute;left:75.83px;top:386.42px" class="cls_031"><span class="cls_031">if (color &lt; 0)</span></div>
<div style="position:absolute;left:75.83px;top:398.40px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:87.70px;top:410.39px" class="cls_031"><span class="cls_031">color = 47;</span></div>
<div style="position:absolute;left:75.83px;top:422.38px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:75.83px;top:434.37px" class="cls_031"><span class="cls_031">else if (color > 47)</span></div>
<div style="position:absolute;left:75.83px;top:446.36px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:87.70px;top:458.34px" class="cls_031"><span class="cls_031">color = 0;</span></div>
<div style="position:absolute;left:75.83px;top:470.33px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:75.83px;top:482.32px" class="cls_031"><span class="cls_031">setColor(colors[color]);</span></div>
<div style="position:absolute;left:63.97px;top:494.31px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:63.97px;top:506.30px" class="cls_031"><span class="cls_031">else</span></div>
<div style="position:absolute;left:63.97px;top:518.28px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:69.90px;top:530.27px" class="cls_031"><span class="cls_031">setColor(0);</span></div>
<div style="position:absolute;left:63.97px;top:542.26px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:63.97px;top:554.25px" class="cls_031"><span class="cls_031">delay(1);</span></div>
<div style="position:absolute;left:52.10px;top:566.24px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.10px;top:590.21px" class="cls_031"><span class="cls_031">int getEncoderTurn()</span></div>
<div style="position:absolute;left:52.10px;top:602.20px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:63.97px;top:614.19px" class="cls_031"><span class="cls_031">// return -1, 0, or +1</span></div>
<div style="position:absolute;left:63.97px;top:626.18px" class="cls_031"><span class="cls_031">static int oldA = LOW;</span></div>
<div style="position:absolute;left:63.97px;top:638.17px" class="cls_031"><span class="cls_031">static int oldB = LOW;</span></div>
<div style="position:absolute;left:63.97px;top:650.15px" class="cls_031"><span class="cls_031">int result = 0;</span></div>
<div style="position:absolute;left:63.97px;top:662.14px" class="cls_031"><span class="cls_031">int newA = digitalRead(aPin);</span></div>
<div style="position:absolute;left:63.97px;top:674.13px" class="cls_031"><span class="cls_031">int newB = digitalRead(bPin);</span></div>
<div style="position:absolute;left:63.97px;top:686.12px" class="cls_031"><span class="cls_031">if (newA != oldA || newB != oldB)</span></div>
<div style="position:absolute;left:63.97px;top:698.11px" class="cls_031"><span class="cls_031">{</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:81900px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background106.jpg" width=552 height=770></div>
<div style="position:absolute;left:321.72px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 6</span></div>
<div style="position:absolute;left:385.55px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    Light Projects</span></div>
<div style="position:absolute;left:502.84px;top:34.50px" class="cls_017"><span class="cls_017">89</span></div>
<div style="position:absolute;left:43.21px;top:76.46px" class="cls_032"><span class="cls_032">LISTING PROJECT 14 (continued)</span></div>
<div style="position:absolute;left:75.93px;top:98.70px" class="cls_031"><span class="cls_031">// something has changed</span></div>
<div style="position:absolute;left:75.93px;top:110.69px" class="cls_031"><span class="cls_031">if (oldA == LOW && newA == HIGH)</span></div>
<div style="position:absolute;left:75.93px;top:122.68px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:87.79px;top:134.67px" class="cls_031"><span class="cls_031">result = -(oldB * 2 - 1);</span></div>
<div style="position:absolute;left:75.93px;top:146.66px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:64.06px;top:158.64px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:64.06px;top:170.63px" class="cls_031"><span class="cls_031">oldA = newA;</span></div>
<div style="position:absolute;left:64.06px;top:182.62px" class="cls_031"><span class="cls_031">oldB = newB;</span></div>
<div style="position:absolute;left:64.06px;top:194.61px" class="cls_031"><span class="cls_031">return result;</span></div>
<div style="position:absolute;left:52.20px;top:206.60px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.20px;top:230.57px" class="cls_031"><span class="cls_031">void setColor(long rgb)</span></div>
<div style="position:absolute;left:52.20px;top:242.56px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:64.06px;top:254.55px" class="cls_031"><span class="cls_031">int red = rgb >> 16;</span></div>
<div style="position:absolute;left:64.06px;top:266.54px" class="cls_031"><span class="cls_031">int green = (rgb >> 8) & 0xFF;</span></div>
<div style="position:absolute;left:64.06px;top:278.52px" class="cls_031"><span class="cls_031">int blue = rgb & 0xFF;</span></div>
<div style="position:absolute;left:64.06px;top:290.51px" class="cls_031"><span class="cls_031">analogWrite(redPin, 255 - red);</span></div>
<div style="position:absolute;left:64.06px;top:302.50px" class="cls_031"><span class="cls_031">analogWrite(greenPin, 255 - green);</span></div>
<div style="position:absolute;left:64.06px;top:314.49px" class="cls_031"><span class="cls_031">analogWrite(bluePin, 255 - blue);</span></div>
<div style="position:absolute;left:52.20px;top:326.48px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:48.20px;top:363.47px" class="cls_011"><span class="cls_011">The 48 colors in the array are chosen from just</span></div>
<div style="position:absolute;left:299.96px;top:363.47px" class="cls_011"><span class="cls_011">Seven-segment LEDs (see Figure 6-4) have</span></div>
<div style="position:absolute;left:36.21px;top:378.46px" class="cls_011"><span class="cls_011">such a table, and are a range of colors more or less</span></div>
<div style="position:absolute;left:287.97px;top:378.46px" class="cls_011"><span class="cls_011">largely been superseded by backlit LCD displays</span></div>
<div style="position:absolute;left:36.21px;top:393.44px" class="cls_011"><span class="cls_011">spanning the spectrum from red to violet.</span></div>
<div style="position:absolute;left:287.97px;top:393.44px" class="cls_011"><span class="cls_011">(see later in this chapter), but they do find uses</span></div>
<div style="position:absolute;left:287.97px;top:408.43px" class="cls_011"><span class="cls_011">from time to time. They also add that “Evil</span></div>
<div style="position:absolute;left:287.97px;top:423.41px" class="cls_011"><span class="cls_011">Genius” feel to a project.</span></div>
<div style="position:absolute;left:36.21px;top:426.41px" class="cls_005"><span class="cls_005">Putting It All Together</span></div>
<div style="position:absolute;left:299.96px;top:442.39px" class="cls_011"><span class="cls_011">Figure 6-5 shows the circuit for driving a single</span></div>
<div style="position:absolute;left:36.21px;top:449.89px" class="cls_011"><span class="cls_011">Load the completed sketch for Project 14 from</span></div>
<div style="position:absolute;left:287.97px;top:457.38px" class="cls_011"><span class="cls_011">seven-segment display.</span></div>
<div style="position:absolute;left:36.21px;top:464.87px" class="cls_011"><span class="cls_011">your Arduino Sketchbook and download it to the</span></div>
<div style="position:absolute;left:36.21px;top:479.86px" class="cls_011"><span class="cls_011">board (see Chapter 1).</span></div>
<div style="position:absolute;left:36.21px;top:520.32px" class="cls_021"><span class="cls_021">Seven-Segment LEDs</span></div>
<div style="position:absolute;left:36.21px;top:546.80px" class="cls_011"><span class="cls_011">There was a time when the height of fashion was</span></div>
<div style="position:absolute;left:36.21px;top:561.78px" class="cls_011"><span class="cls_011">an LED watch. This required the wearer to press a</span></div>
<div style="position:absolute;left:36.21px;top:576.77px" class="cls_011"><span class="cls_011">button on the watch for the time to magically</span></div>
<div style="position:absolute;left:36.21px;top:591.75px" class="cls_011"><span class="cls_011">appear as four bright red digits. After a while, the</span></div>
<div style="position:absolute;left:36.21px;top:606.74px" class="cls_011"><span class="cls_011">inconvenience of having to use both limbs to tell</span></div>
<div style="position:absolute;left:36.21px;top:621.72px" class="cls_011"><span class="cls_011">the time overcame the novelty of a digital watch,</span></div>
<div style="position:absolute;left:36.21px;top:636.71px" class="cls_011"><span class="cls_011">and the Evil Genius went out and bought an LCD</span></div>
<div style="position:absolute;left:36.21px;top:651.69px" class="cls_011"><span class="cls_011">watch instead. This could only be read in bright</span></div>
<div style="position:absolute;left:36.21px;top:666.68px" class="cls_011"><span class="cls_011">sunlight.</span></div>
<div style="position:absolute;left:293.96px;top:692.88px" class="cls_025"><span class="cls_025">Figure 6-4</span></div>
<div style="position:absolute;left:353.90px;top:693.86px" class="cls_026"><span class="cls_026">Seven-segment LED display.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:82680px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background107.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">90</span></div>
<div style="position:absolute;left:78.59px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:42.11px;top:359.97px" class="cls_025"><span class="cls_025">Figure 6-5</span></div>
<div style="position:absolute;left:102.05px;top:360.96px" class="cls_026"><span class="cls_026">An Arduino board driving a seven-segment LED.</span></div>
<div style="position:absolute;left:48.11px;top:403.84px" class="cls_011"><span class="cls_011">A single seven-segment LED is not usually a</span></div>
<div style="position:absolute;left:287.87px;top:403.83px" class="cls_011"><span class="cls_011">through the base of the transistor and out through</span></div>
<div style="position:absolute;left:36.12px;top:418.82px" class="cls_011"><span class="cls_011">great deal of use. Most projects will want two or</span></div>
<div style="position:absolute;left:287.87px;top:418.82px" class="cls_011"><span class="cls_011">the emitter, it allows a much greater current to</span></div>
<div style="position:absolute;left:36.12px;top:433.81px" class="cls_011"><span class="cls_011">four digits. When this is the case, we will not have</span></div>
<div style="position:absolute;left:287.87px;top:433.80px" class="cls_011"><span class="cls_011">flow through from the collector to the emitter. We</span></div>
<div style="position:absolute;left:36.12px;top:448.79px" class="cls_011"><span class="cls_011">enough digital output pins to drive each display</span></div>
<div style="position:absolute;left:287.87px;top:448.79px" class="cls_011"><span class="cls_011">have met this kind of transistor before in Project 4,</span></div>
<div style="position:absolute;left:36.12px;top:463.78px" class="cls_011"><span class="cls_011">separately and so the arrangement of Figure 6-6 is</span></div>
<div style="position:absolute;left:287.87px;top:463.77px" class="cls_011"><span class="cls_011">where we used it to control the current to a high-</span></div>
<div style="position:absolute;left:36.12px;top:478.76px" class="cls_011"><span class="cls_011">used.</span></div>
<div style="position:absolute;left:287.87px;top:478.76px" class="cls_011"><span class="cls_011">power Luxeon LED.</span></div>
<div style="position:absolute;left:48.11px;top:497.74px" class="cls_011"><span class="cls_011">Rather like our keyboard scanning, we are going</span></div>
<div style="position:absolute;left:299.86px;top:497.74px" class="cls_011"><span class="cls_011">We do not need to limit the current that flows</span></div>
<div style="position:absolute;left:36.12px;top:512.73px" class="cls_011"><span class="cls_011">to activate each display in turn and set the</span></div>
<div style="position:absolute;left:287.87px;top:512.72px" class="cls_011"><span class="cls_011">through the collector to the emitter, as this is</span></div>
<div style="position:absolute;left:36.12px;top:527.71px" class="cls_011"><span class="cls_011">segments for that before moving on to the next</span></div>
<div style="position:absolute;left:287.87px;top:527.71px" class="cls_011"><span class="cls_011">already limited by the series resistors for the</span></div>
<div style="position:absolute;left:36.12px;top:542.70px" class="cls_011"><span class="cls_011">digit. We do this so fast that the illusion of all</span></div>
<div style="position:absolute;left:287.87px;top:542.69px" class="cls_011"><span class="cls_011">LEDs. However, we do need to limit the current</span></div>
<div style="position:absolute;left:36.12px;top:557.68px" class="cls_011"><span class="cls_011">displays being lit is created.</span></div>
<div style="position:absolute;left:287.87px;top:557.68px" class="cls_011"><span class="cls_011">flowing into the base. Most transistors will</span></div>
<div style="position:absolute;left:287.87px;top:572.66px" class="cls_011"><span class="cls_011">multiply the current by a factor of 100 or more, so</span></div>
<div style="position:absolute;left:48.11px;top:576.66px" class="cls_011"><span class="cls_011">Each display could potentially draw the current</span></div>
<div style="position:absolute;left:287.87px;top:587.65px" class="cls_011"><span class="cls_011">we only need to allow about 2 mA to flow through</span></div>
<div style="position:absolute;left:36.12px;top:591.65px" class="cls_011"><span class="cls_011">for eight LEDs at once, which could amount to</span></div>
<div style="position:absolute;left:287.87px;top:602.63px" class="cls_011"><span class="cls_011">the base to fully turn on the transistor.</span></div>
<div style="position:absolute;left:36.12px;top:606.63px" class="cls_011"><span class="cls_011">160 mA (at 20 mA per LED)—far more than we</span></div>
<div style="position:absolute;left:36.12px;top:621.62px" class="cls_011"><span class="cls_011">can take from a digital output pin. For this reason,</span></div>
<div style="position:absolute;left:299.86px;top:621.61px" class="cls_011"><span class="cls_011">Transistors have the interesting property that</span></div>
<div style="position:absolute;left:36.12px;top:636.60px" class="cls_011"><span class="cls_011">we use a transistor that is switched by a digital</span></div>
<div style="position:absolute;left:287.87px;top:636.60px" class="cls_011"><span class="cls_011">under normal use, the voltage between base and</span></div>
<div style="position:absolute;left:36.12px;top:651.59px" class="cls_011"><span class="cls_011">output to enable each display in turn.</span></div>
<div style="position:absolute;left:287.87px;top:651.58px" class="cls_011"><span class="cls_011">emitter is a fairly constant 0.6V no matter how</span></div>
<div style="position:absolute;left:287.87px;top:666.57px" class="cls_011"><span class="cls_011">much current is flowing. So, if our Arduino pin</span></div>
<div style="position:absolute;left:48.11px;top:670.57px" class="cls_011"><span class="cls_011">The type of transistor we are using is called a</span></div>
<div style="position:absolute;left:287.87px;top:681.55px" class="cls_011"><span class="cls_011">supplies 5V, 0.6 of that will be across the</span></div>
<div style="position:absolute;left:36.12px;top:685.56px" class="cls_011"><span class="cls_011">bipolar transistor. It has three connections: the</span></div>
<div style="position:absolute;left:36.12px;top:700.54px" class="cls_011"><span class="cls_011">emitter, base, and collector. When a current flows</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:83460px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background108.jpg" width=552 height=770></div>
<div style="position:absolute;left:323.80px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 6</span></div>
<div style="position:absolute;left:387.62px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    Light Projects</span></div>
<div style="position:absolute;left:504.92px;top:34.50px" class="cls_017"><span class="cls_017">91</span></div>
<div style="position:absolute;left:42.21px;top:337.59px" class="cls_025"><span class="cls_025">Figure 6-6</span></div>
<div style="position:absolute;left:102.15px;top:338.58px" class="cls_026"><span class="cls_026">Driving more than one seven-segment LED from an Arduino board.</span></div>
<div style="position:absolute;left:36.21px;top:367.47px" class="cls_011"><span class="cls_011">base/emitter of the transistor, meaning that our</span></div>
<div style="position:absolute;left:295.97px;top:374.57px" class="cls_028"><span class="cls_028">COMPONENTS AND EQUIPMENT</span></div>
<div style="position:absolute;left:36.21px;top:382.46px" class="cls_011"><span class="cls_011">resistor should have a value of about:</span></div>
<div style="position:absolute;left:333.92px;top:397.95px" class="cls_029"><span class="cls_029">Description</span></div>
<div style="position:absolute;left:455.81px;top:397.95px" class="cls_029"><span class="cls_029">Appendix</span></div>
<div style="position:absolute;left:131.79px;top:408.93px" class="cls_011"><span class="cls_011">R   V/I</span></div>
<div style="position:absolute;left:333.92px;top:417.93px" class="cls_026"><span class="cls_026">Arduino Diecimila or</span></div>
<div style="position:absolute;left:95.24px;top:427.91px" class="cls_011"><span class="cls_011">R</span></div>
<div style="position:absolute;left:117.77px;top:427.91px" class="cls_011"><span class="cls_011">4.4/2mA</span></div>
<div style="position:absolute;left:171.73px;top:427.91px" class="cls_011"><span class="cls_011">2.2 K</span></div>
<div style="position:absolute;left:333.92px;top:430.92px" class="cls_026"><span class="cls_026">Duemilanove board or clone</span></div>
<div style="position:absolute;left:476.19px;top:430.92px" class="cls_026"><span class="cls_026">1</span></div>
<div style="position:absolute;left:297.96px;top:447.90px" class="cls_026"><span class="cls_026">D1</span></div>
<div style="position:absolute;left:333.92px;top:447.90px" class="cls_026"><span class="cls_026">Two-digit, seven-segment</span></div>
<div style="position:absolute;left:48.20px;top:450.39px" class="cls_011"><span class="cls_011">In actual fact it would be just fine if we let 4 mA</span></div>
<div style="position:absolute;left:333.92px;top:460.89px" class="cls_026"><span class="cls_026">LED display (common anode) 33</span></div>
<div style="position:absolute;left:36.21px;top:465.38px" class="cls_011"><span class="cls_011">flow because the digital output can cope with</span></div>
<div style="position:absolute;left:297.96px;top:477.87px" class="cls_026"><span class="cls_026">R1</span></div>
<div style="position:absolute;left:333.92px;top:477.87px" class="cls_026"><span class="cls_026">100 K</span></div>
<div style="position:absolute;left:369.38px;top:477.87px" class="cls_026"><span class="cls_026">0.5W metal film</span></div>
<div style="position:absolute;left:36.21px;top:480.36px" class="cls_011"><span class="cls_011">about 40 mA, so let’s choose the nice standard</span></div>
<div style="position:absolute;left:333.92px;top:490.86px" class="cls_026"><span class="cls_026">resistor</span></div>
<div style="position:absolute;left:473.42px;top:490.86px" class="cls_026"><span class="cls_026">13</span></div>
<div style="position:absolute;left:36.21px;top:495.35px" class="cls_011"><span class="cls_011">resistor value of 1 K</span></div>
<div style="position:absolute;left:135.29px;top:495.35px" class="cls_011"><span class="cls_011">, which will allow us to be</span></div>
<div style="position:absolute;left:297.96px;top:507.84px" class="cls_026"><span class="cls_026">R4-13</span></div>
<div style="position:absolute;left:333.93px;top:507.84px" class="cls_026"><span class="cls_026">270</span></div>
<div style="position:absolute;left:363.04px;top:507.84px" class="cls_026"><span class="cls_026">0.5W metal film resistor</span></div>
<div style="position:absolute;left:474.87px;top:507.84px" class="cls_026"><span class="cls_026">6</span></div>
<div style="position:absolute;left:36.21px;top:510.33px" class="cls_011"><span class="cls_011">sure that the transistor will act like a switch and</span></div>
<div style="position:absolute;left:297.96px;top:524.82px" class="cls_026"><span class="cls_026">R2, R3</span></div>
<div style="position:absolute;left:333.93px;top:524.82px" class="cls_026"><span class="cls_026">1 K</span></div>
<div style="position:absolute;left:475.10px;top:524.82px" class="cls_026"><span class="cls_026">7</span></div>
<div style="position:absolute;left:36.21px;top:525.32px" class="cls_011"><span class="cls_011">always turn fully on or fully off.</span></div>
<div style="position:absolute;left:297.96px;top:541.81px" class="cls_026"><span class="cls_026">T1, T2</span></div>
<div style="position:absolute;left:333.93px;top:541.81px" class="cls_026"><span class="cls_026">BC307</span></div>
<div style="position:absolute;left:472.15px;top:541.81px" class="cls_026"><span class="cls_026">39</span></div>
<div style="position:absolute;left:297.96px;top:558.79px" class="cls_026"><span class="cls_026">S1</span></div>
<div style="position:absolute;left:333.93px;top:558.79px" class="cls_026"><span class="cls_026">Push switch</span></div>
<div style="position:absolute;left:471.91px;top:558.79px" class="cls_026"><span class="cls_026">48</span></div>
<div style="position:absolute;left:36.21px;top:563.78px" class="cls_027"><span class="cls_027">Project 15</span></div>
<div style="position:absolute;left:36.21px;top:583.76px" class="cls_021"><span class="cls_021">Seven-Segment LED</span></div>
<div style="position:absolute;left:287.97px;top:592.16px" class="cls_005"><span class="cls_005">Hardware</span></div>
<div style="position:absolute;left:36.21px;top:601.74px" class="cls_021"><span class="cls_021">Double Dice</span></div>
<div style="position:absolute;left:287.97px;top:615.64px" class="cls_011"><span class="cls_011">The schematic for this project is shown in Figure</span></div>
<div style="position:absolute;left:36.21px;top:628.22px" class="cls_011"><span class="cls_011">In Project 9 we made a single dice using seven</span></div>
<div style="position:absolute;left:287.97px;top:630.62px" class="cls_011"><span class="cls_011">6-7.</span></div>
<div style="position:absolute;left:36.21px;top:643.20px" class="cls_011"><span class="cls_011">separate LEDs. In this project we will use two</span></div>
<div style="position:absolute;left:299.96px;top:649.61px" class="cls_011"><span class="cls_011">The seven-segment LED module that we are</span></div>
<div style="position:absolute;left:36.21px;top:658.19px" class="cls_011"><span class="cls_011">seven-segment LED displays to create a double</span></div>
<div style="position:absolute;left:287.97px;top:664.59px" class="cls_011"><span class="cls_011">using is described as “common anode,” which</span></div>
<div style="position:absolute;left:36.21px;top:673.17px" class="cls_011"><span class="cls_011">dice.</span></div>
<div style="position:absolute;left:287.97px;top:679.58px" class="cls_011"><span class="cls_011">means that all the anodes (positive ends) of the</span></div>
<div style="position:absolute;left:287.97px;top:694.56px" class="cls_011"><span class="cls_011">segment LEDs are connected together. So to</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:84240px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background109.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">92</span></div>
<div style="position:absolute;left:77.52px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:42.11px;top:336.99px" class="cls_025"><span class="cls_025">Figure 6-7</span></div>
<div style="position:absolute;left:102.05px;top:337.98px" class="cls_026"><span class="cls_026">Schematic diagram for Project 15.</span></div>
<div style="position:absolute;left:36.12px;top:366.87px" class="cls_011"><span class="cls_011">switch each display on in turn, we must control the</span></div>
<div style="position:absolute;left:287.87px;top:366.87px" class="cls_011"><span class="cls_011">connect between the Arduino board connectors and</span></div>
<div style="position:absolute;left:36.12px;top:381.86px" class="cls_011"><span class="cls_011">positive supply to each of the two common anodes</span></div>
<div style="position:absolute;left:287.87px;top:381.85px" class="cls_011"><span class="cls_011">the breadboard. This does mean that there are</span></div>
<div style="position:absolute;left:36.12px;top:396.84px" class="cls_011"><span class="cls_011">in turn. This is in contrast to how we controlled the</span></div>
<div style="position:absolute;left:287.87px;top:396.84px" class="cls_011"><span class="cls_011">relatively long and bare resistor leads, so take care</span></div>
<div style="position:absolute;left:36.12px;top:411.83px" class="cls_011"><span class="cls_011">power to the Luxeon LED in Project 4, where we</span></div>
<div style="position:absolute;left:287.87px;top:411.82px" class="cls_011"><span class="cls_011">to ensure that none of them are touching each</span></div>
<div style="position:absolute;left:36.12px;top:426.81px" class="cls_011"><span class="cls_011">controlled the power on the ground side of the</span></div>
<div style="position:absolute;left:287.87px;top:426.81px" class="cls_011"><span class="cls_011">other. This also accounts for the apparently random</span></div>
<div style="position:absolute;left:36.12px;top:441.80px" class="cls_011"><span class="cls_011">circuit. This all means that we are going to use a</span></div>
<div style="position:absolute;left:287.87px;top:441.79px" class="cls_011"><span class="cls_011">allocation of Arduino pins to segments on the LED</span></div>
<div style="position:absolute;left:36.12px;top:456.78px" class="cls_011"><span class="cls_011">different type of transistor. Instead of the NPN</span></div>
<div style="position:absolute;left:287.87px;top:456.78px" class="cls_011"><span class="cls_011">display. They are arranged like that for ease of</span></div>
<div style="position:absolute;left:36.12px;top:471.77px" class="cls_011"><span class="cls_011">(negative-positive-negative) transistor we used</span></div>
<div style="position:absolute;left:287.87px;top:471.76px" class="cls_011"><span class="cls_011">connection.</span></div>
<div style="position:absolute;left:36.12px;top:486.75px" class="cls_011"><span class="cls_011">before, we need to use a PNP (positive-negative-</span></div>
<div style="position:absolute;left:36.12px;top:501.74px" class="cls_011"><span class="cls_011">positive) transistor. You will notice the different</span></div>
<div style="position:absolute;left:287.87px;top:504.74px" class="cls_005"><span class="cls_005">Software</span></div>
<div style="position:absolute;left:36.12px;top:516.72px" class="cls_011"><span class="cls_011">position of the arrow in the circuit symbol for the</span></div>
<div style="position:absolute;left:287.87px;top:528.21px" class="cls_011"><span class="cls_011">We use an array to contain the pins that are</span></div>
<div style="position:absolute;left:36.12px;top:531.71px" class="cls_011"><span class="cls_011">transistor to indicate this.</span></div>
<div style="position:absolute;left:287.87px;top:543.20px" class="cls_011"><span class="cls_011">connected to each of the segments “a” to “g” and</span></div>
<div style="position:absolute;left:48.11px;top:550.69px" class="cls_011"><span class="cls_011">If we were using a common cathode seven-</span></div>
<div style="position:absolute;left:287.87px;top:558.18px" class="cls_011"><span class="cls_011">the decimal point. We also use an array to</span></div>
<div style="position:absolute;left:36.12px;top:565.67px" class="cls_011"><span class="cls_011">segment display, then we would have an NPN</span></div>
<div style="position:absolute;left:287.87px;top:573.17px" class="cls_011"><span class="cls_011">determine which segments should be lit to display</span></div>
<div style="position:absolute;left:36.12px;top:580.66px" class="cls_011"><span class="cls_011">transistor, but at the bottom of the circuit rather</span></div>
<div style="position:absolute;left:287.87px;top:588.15px" class="cls_011"><span class="cls_011">any particular digit. This is a two-dimensional</span></div>
<div style="position:absolute;left:36.12px;top:595.64px" class="cls_011"><span class="cls_011">than at the top.</span></div>
<div style="position:absolute;left:287.87px;top:603.14px" class="cls_011"><span class="cls_011">array, where each row represents a separate digit (0</span></div>
<div style="position:absolute;left:48.11px;top:614.63px" class="cls_011"><span class="cls_011">The breadboard layout and photograph of the</span></div>
<div style="position:absolute;left:287.87px;top:618.12px" class="cls_011"><span class="cls_011">to 9) and each column a segment (see Listing</span></div>
<div style="position:absolute;left:36.12px;top:629.61px" class="cls_011"><span class="cls_011">project are shown in Figures 6-8 and 6-9.</span></div>
<div style="position:absolute;left:287.87px;top:633.11px" class="cls_011"><span class="cls_011">Project 15).</span></div>
<div style="position:absolute;left:48.11px;top:648.59px" class="cls_011"><span class="cls_011">To reduce the number of wires required, the</span></div>
<div style="position:absolute;left:36.12px;top:663.58px" class="cls_011"><span class="cls_011">seven-segment display is placed close to the</span></div>
<div style="position:absolute;left:36.12px;top:678.56px" class="cls_011"><span class="cls_011">Arduino board so that the resistors can directly</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:85020px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background110.jpg" width=552 height=770></div>
<div style="position:absolute;left:321.81px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 6</span></div>
<div style="position:absolute;left:385.64px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    Light Projects</span></div>
<div style="position:absolute;left:502.93px;top:34.50px" class="cls_017"><span class="cls_017">93</span></div>
<div style="position:absolute;left:42.21px;top:277.88px" class="cls_025"><span class="cls_025">Figure 6-8</span></div>
<div style="position:absolute;left:102.15px;top:278.87px" class="cls_026"><span class="cls_026">Breadboard layout for Project 15.</span></div>
<div style="position:absolute;left:42.21px;top:646.89px" class="cls_025"><span class="cls_025">Figure 6-9</span></div>
<div style="position:absolute;left:102.15px;top:647.88px" class="cls_026"><span class="cls_026">Project 15. Double seven-segment LED dice.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:85800px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background111.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">94</span></div>
<div style="position:absolute;left:78.18px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:43.11px;top:76.46px" class="cls_032"><span class="cls_032">LISTING PROJECT 15</span></div>
<div style="position:absolute;left:52.10px;top:98.70px" class="cls_031"><span class="cls_031">int segmentPins[] = {3, 2, 19, 16, 18, 4, 5, 17};</span></div>
<div style="position:absolute;left:52.10px;top:111.19px" class="cls_031"><span class="cls_031">int displayPins[] = {10, 11};</span></div>
<div style="position:absolute;left:52.10px;top:136.17px" class="cls_031"><span class="cls_031">int buttonPin = 12;</span></div>
<div style="position:absolute;left:52.10px;top:161.14px" class="cls_031"><span class="cls_031">byte digits[10][8] = {</span></div>
<div style="position:absolute;left:52.10px;top:173.63px" class="cls_031"><span class="cls_031">//  a  b  c  d  e  f  g  .</span></div>
<div style="position:absolute;left:63.97px;top:186.12px" class="cls_031"><span class="cls_031">{ 1, 1, 1, 1, 1, 1, 0, 0},</span></div>
<div style="position:absolute;left:220.40px;top:186.12px" class="cls_031"><span class="cls_031">// 0</span></div>
<div style="position:absolute;left:63.97px;top:198.61px" class="cls_031"><span class="cls_031">{ 0, 1, 1, 0, 0, 0, 0, 0},</span></div>
<div style="position:absolute;left:220.40px;top:198.61px" class="cls_031"><span class="cls_031">// 1</span></div>
<div style="position:absolute;left:63.97px;top:211.09px" class="cls_031"><span class="cls_031">{ 1, 1, 0, 1, 1, 0, 1, 0},</span></div>
<div style="position:absolute;left:220.40px;top:211.09px" class="cls_031"><span class="cls_031">// 2</span></div>
<div style="position:absolute;left:63.97px;top:223.58px" class="cls_031"><span class="cls_031">{ 1, 1, 1, 1, 0, 0, 1, 0},</span></div>
<div style="position:absolute;left:220.40px;top:223.58px" class="cls_031"><span class="cls_031">// 3</span></div>
<div style="position:absolute;left:63.97px;top:236.07px" class="cls_031"><span class="cls_031">{ 0, 1, 1, 0, 0, 1, 1, 0},</span></div>
<div style="position:absolute;left:220.40px;top:236.07px" class="cls_031"><span class="cls_031">// 4</span></div>
<div style="position:absolute;left:63.97px;top:248.56px" class="cls_031"><span class="cls_031">{ 1, 0, 1, 1, 0, 1, 1, 0},</span></div>
<div style="position:absolute;left:220.40px;top:248.56px" class="cls_031"><span class="cls_031">// 5</span></div>
<div style="position:absolute;left:63.97px;top:261.05px" class="cls_031"><span class="cls_031">{ 1, 0, 1, 1, 1, 1, 1, 0},</span></div>
<div style="position:absolute;left:220.40px;top:261.05px" class="cls_031"><span class="cls_031">// 6</span></div>
<div style="position:absolute;left:63.97px;top:273.53px" class="cls_031"><span class="cls_031">{ 1, 1, 1, 0, 0, 0, 0, 0},</span></div>
<div style="position:absolute;left:220.40px;top:273.53px" class="cls_031"><span class="cls_031">// 7</span></div>
<div style="position:absolute;left:63.97px;top:286.02px" class="cls_031"><span class="cls_031">{ 1, 1, 1, 1, 1, 1, 1, 0},</span></div>
<div style="position:absolute;left:220.40px;top:286.02px" class="cls_031"><span class="cls_031">// 8</span></div>
<div style="position:absolute;left:63.97px;top:298.51px" class="cls_031"><span class="cls_031">{ 1, 1, 1, 1, 0, 1, 1, 0}</span></div>
<div style="position:absolute;left:215.00px;top:298.51px" class="cls_031"><span class="cls_031">// 9</span></div>
<div style="position:absolute;left:52.10px;top:311.00px" class="cls_031"><span class="cls_031">};</span></div>
<div style="position:absolute;left:52.10px;top:335.97px" class="cls_031"><span class="cls_031">void setup()</span></div>
<div style="position:absolute;left:52.10px;top:348.46px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:63.97px;top:360.95px" class="cls_031"><span class="cls_031">for (int i=0; i &lt; 8; i++)</span></div>
<div style="position:absolute;left:63.97px;top:373.44px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.83px;top:385.93px" class="cls_031"><span class="cls_031">pinMode(segmentPins[i], OUTPUT);</span></div>
<div style="position:absolute;left:63.97px;top:398.41px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:63.97px;top:410.90px" class="cls_031"><span class="cls_031">pinMode(displayPins[0], OUTPUT);</span></div>
<div style="position:absolute;left:63.97px;top:423.39px" class="cls_031"><span class="cls_031">pinMode(displayPins[0], OUTPUT);</span></div>
<div style="position:absolute;left:63.97px;top:435.88px" class="cls_031"><span class="cls_031">pinMode(buttonPin, INPUT);</span></div>
<div style="position:absolute;left:52.10px;top:448.36px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.10px;top:473.34px" class="cls_031"><span class="cls_031">void loop()</span></div>
<div style="position:absolute;left:52.10px;top:485.83px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:63.97px;top:498.32px" class="cls_031"><span class="cls_031">static int dice1;</span></div>
<div style="position:absolute;left:63.97px;top:510.80px" class="cls_031"><span class="cls_031">static int dice2;</span></div>
<div style="position:absolute;left:63.97px;top:523.29px" class="cls_031"><span class="cls_031">if (digitalRead(buttonPin))</span></div>
<div style="position:absolute;left:63.97px;top:535.78px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.83px;top:548.27px" class="cls_031"><span class="cls_031">dice1 = random(1,7);</span></div>
<div style="position:absolute;left:75.83px;top:560.76px" class="cls_031"><span class="cls_031">dice2 = random(1,7);</span></div>
<div style="position:absolute;left:63.97px;top:573.24px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:63.97px;top:585.73px" class="cls_031"><span class="cls_031">updateDisplay(dice1, dice2);</span></div>
<div style="position:absolute;left:52.10px;top:598.22px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.10px;top:623.19px" class="cls_031"><span class="cls_031">void updateDisplay(int value1, int value2)</span></div>
<div style="position:absolute;left:52.10px;top:635.68px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:63.97px;top:648.17px" class="cls_031"><span class="cls_031">digitalWrite(displayPins[0], HIGH);</span></div>
<div style="position:absolute;left:63.97px;top:660.66px" class="cls_031"><span class="cls_031">digitalWrite(displayPins[1], LOW);</span></div>
<div style="position:absolute;left:63.97px;top:673.15px" class="cls_031"><span class="cls_031">setSegments(value1);</span></div>
<div style="position:absolute;left:63.97px;top:685.63px" class="cls_031"><span class="cls_031">delay(5);</span></div>
<div style="position:absolute;left:63.97px;top:698.12px" class="cls_031"><span class="cls_031">digitalWrite(displayPins[0], LOW);</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:86580px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background112.jpg" width=552 height=770></div>
<div style="position:absolute;left:321.72px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 6</span></div>
<div style="position:absolute;left:385.55px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    Light Projects</span></div>
<div style="position:absolute;left:502.84px;top:34.50px" class="cls_017"><span class="cls_017">95</span></div>
<div style="position:absolute;left:43.21px;top:76.46px" class="cls_032"><span class="cls_032">LISTING PROJECT 15 (continued)</span></div>
<div style="position:absolute;left:64.06px;top:98.70px" class="cls_031"><span class="cls_031">digitalWrite(displayPins[1], HIGH);</span></div>
<div style="position:absolute;left:64.06px;top:111.19px" class="cls_031"><span class="cls_031">setSegments(value2);</span></div>
<div style="position:absolute;left:64.06px;top:123.68px" class="cls_031"><span class="cls_031">delay(5);</span></div>
<div style="position:absolute;left:52.20px;top:136.17px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.20px;top:161.15px" class="cls_031"><span class="cls_031">void setSegments(int n)</span></div>
<div style="position:absolute;left:52.20px;top:173.64px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:64.06px;top:186.13px" class="cls_031"><span class="cls_031">for (int i=0; i &lt; 8; i++)</span></div>
<div style="position:absolute;left:64.06px;top:198.61px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.93px;top:211.10px" class="cls_031"><span class="cls_031">digitalWrite(segmentPins[i], ! digits[n][i]);</span></div>
<div style="position:absolute;left:64.06px;top:223.59px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.20px;top:236.08px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:48.20px;top:284.35px" class="cls_011"><span class="cls_011">To drive both displays, we have to turn each</span></div>
<div style="position:absolute;left:287.97px;top:284.37px" class="cls_011"><span class="cls_011">a single lens so that they appear to be one dot. We</span></div>
<div style="position:absolute;left:36.21px;top:299.34px" class="cls_011"><span class="cls_011">display on in turn, setting its segments</span></div>
<div style="position:absolute;left:287.97px;top:299.36px" class="cls_011"><span class="cls_011">can then light either one or both LEDs to make a</span></div>
<div style="position:absolute;left:36.21px;top:314.33px" class="cls_011"><span class="cls_011">appropriately. So our loop function must keep the</span></div>
<div style="position:absolute;left:287.97px;top:314.35px" class="cls_011"><span class="cls_011">red, green, or orange color.</span></div>
<div style="position:absolute;left:36.21px;top:329.32px" class="cls_011"><span class="cls_011">values that are displayed in each display in</span></div>
<div style="position:absolute;left:299.96px;top:333.33px" class="cls_011"><span class="cls_011">The completed project is shown in Figure 6-10.</span></div>
<div style="position:absolute;left:36.21px;top:344.31px" class="cls_011"><span class="cls_011">separate variables: dice1 and dice2.</span></div>
<div style="position:absolute;left:299.96px;top:352.31px" class="cls_011"><span class="cls_011">This project makes use of one of these devices</span></div>
<div style="position:absolute;left:48.20px;top:363.29px" class="cls_011"><span class="cls_011">To throw the dice, we use the random function,</span></div>
<div style="position:absolute;left:287.97px;top:367.30px" class="cls_011"><span class="cls_011">and allows multicolor patterns to be displayed on it</span></div>
<div style="position:absolute;left:36.21px;top:378.28px" class="cls_011"><span class="cls_011">and whenever the button is pressed, a new value</span></div>
<div style="position:absolute;left:287.97px;top:382.29px" class="cls_011"><span class="cls_011">over the USB connection. As projects go, this one</span></div>
<div style="position:absolute;left:36.21px;top:393.27px" class="cls_011"><span class="cls_011">will be set for dice1 and dice2. This means that the</span></div>
<div style="position:absolute;left:287.97px;top:397.28px" class="cls_011"><span class="cls_011">involves a lot of components and will use almost</span></div>
<div style="position:absolute;left:36.21px;top:408.26px" class="cls_011"><span class="cls_011">throw will also depend on how long the button is</span></div>
<div style="position:absolute;left:287.97px;top:412.27px" class="cls_011"><span class="cls_011">every connection pin of the Arduino.</span></div>
<div style="position:absolute;left:36.21px;top:423.25px" class="cls_011"><span class="cls_011">pressed for, so we do not need to worry about</span></div>
<div style="position:absolute;left:36.21px;top:438.23px" class="cls_011"><span class="cls_011">seeding the random number generator.</span></div>
<div style="position:absolute;left:295.97px;top:445.90px" class="cls_028"><span class="cls_028">COMPONENTS AND EQUIPMENT</span></div>
<div style="position:absolute;left:327.93px;top:469.28px" class="cls_029"><span class="cls_029">Description</span></div>
<div style="position:absolute;left:459.80px;top:469.28px" class="cls_029"><span class="cls_029">Appendix</span></div>
<div style="position:absolute;left:36.21px;top:471.17px" class="cls_005"><span class="cls_005">Putting It All Together</span></div>
<div style="position:absolute;left:327.93px;top:489.26px" class="cls_026"><span class="cls_026">Arduino Diecimila or</span></div>
<div style="position:absolute;left:36.21px;top:494.65px" class="cls_011"><span class="cls_011">Load the completed sketch for Project 15 from</span></div>
<div style="position:absolute;left:327.93px;top:502.24px" class="cls_026"><span class="cls_026">Duemilanove board or clone</span></div>
<div style="position:absolute;left:480.19px;top:502.24px" class="cls_026"><span class="cls_026">1</span></div>
<div style="position:absolute;left:36.21px;top:509.64px" class="cls_011"><span class="cls_011">your Arduino Sketchbook and download it to the</span></div>
<div style="position:absolute;left:327.93px;top:519.23px" class="cls_026"><span class="cls_026">8 by 8 LED array (two-color)</span></div>
<div style="position:absolute;left:476.03px;top:519.23px" class="cls_026"><span class="cls_026">34</span></div>
<div style="position:absolute;left:36.21px;top:524.62px" class="cls_011"><span class="cls_011">board (see Chapter 1).</span></div>
<div style="position:absolute;left:297.96px;top:536.21px" class="cls_026"><span class="cls_026">R1-16</span></div>
<div style="position:absolute;left:327.94px;top:536.21px" class="cls_026"><span class="cls_026">100</span></div>
<div style="position:absolute;left:356.93px;top:536.21px" class="cls_026"><span class="cls_026">0.5W metal film resistor</span></div>
<div style="position:absolute;left:479.05px;top:536.21px" class="cls_026"><span class="cls_026">5</span></div>
<div style="position:absolute;left:297.97px;top:553.20px" class="cls_026"><span class="cls_026">IC1</span></div>
<div style="position:absolute;left:327.94px;top:553.20px" class="cls_026"><span class="cls_026">4017 decade counter</span></div>
<div style="position:absolute;left:475.89px;top:553.20px" class="cls_026"><span class="cls_026">46</span></div>
<div style="position:absolute;left:36.21px;top:563.08px" class="cls_027"><span class="cls_027">Project 16</span></div>
<div style="position:absolute;left:297.97px;top:570.18px" class="cls_026"><span class="cls_026">T1-8</span></div>
<div style="position:absolute;left:327.95px;top:570.18px" class="cls_026"><span class="cls_026">2N7000</span></div>
<div style="position:absolute;left:476.09px;top:570.18px" class="cls_026"><span class="cls_026">42</span></div>
<div style="position:absolute;left:36.21px;top:583.06px" class="cls_021"><span class="cls_021">LED Array</span></div>
<div style="position:absolute;left:327.94px;top:587.16px" class="cls_026"><span class="cls_026">Extra large breadboard</span></div>
<div style="position:absolute;left:468.26px;top:587.16px" class="cls_026"><span class="cls_026">72 x 2</span></div>
<div style="position:absolute;left:36.21px;top:609.53px" class="cls_011"><span class="cls_011">LED arrays are one of those components that just</span></div>
<div style="position:absolute;left:36.21px;top:624.52px" class="cls_011"><span class="cls_011">look like they would be useful to the Evil Genius.</span></div>
<div style="position:absolute;left:287.97px;top:625.02px" class="cls_005"><span class="cls_005">Hardware</span></div>
<div style="position:absolute;left:36.21px;top:639.51px" class="cls_011"><span class="cls_011">They consist of an array of LEDs (in this case, 8</span></div>
<div style="position:absolute;left:287.97px;top:648.50px" class="cls_011"><span class="cls_011">Figure 6-11 shows the schematic diagram for the</span></div>
<div style="position:absolute;left:36.21px;top:654.50px" class="cls_011"><span class="cls_011">by 8). These devices can have just a single LED at</span></div>
<div style="position:absolute;left:287.97px;top:663.49px" class="cls_011"><span class="cls_011">project. As you might expect, the LEDs are</span></div>
<div style="position:absolute;left:36.21px;top:669.49px" class="cls_011"><span class="cls_011">each position; however, in the device that we are</span></div>
<div style="position:absolute;left:287.97px;top:678.47px" class="cls_011"><span class="cls_011">organized in rows and columns with all the</span></div>
<div style="position:absolute;left:36.21px;top:684.48px" class="cls_011"><span class="cls_011">going to use, each of these LEDs is actually a pair</span></div>
<div style="position:absolute;left:287.97px;top:693.46px" class="cls_011"><span class="cls_011">negative leads for a particular column connected</span></div>
<div style="position:absolute;left:36.21px;top:699.47px" class="cls_011"><span class="cls_011">of LEDs, one red and one green, positioned under</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:87360px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background113.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">96</span></div>
<div style="position:absolute;left:77.91px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:42.11px;top:387.94px" class="cls_025"><span class="cls_025">Figure 6-10</span></div>
<div style="position:absolute;left:102.05px;top:388.93px" class="cls_026"><span class="cls_026">Project 16. LED Array.</span></div>
<div style="position:absolute;left:36.12px;top:431.81px" class="cls_011"><span class="cls_011">together and a separate positive connection to each</span></div>
<div style="position:absolute;left:287.87px;top:431.80px" class="cls_011"><span class="cls_011">pulse at the “clock” pin. It also has a “reset” pin</span></div>
<div style="position:absolute;left:36.12px;top:446.79px" class="cls_011"><span class="cls_011">LED in the row.</span></div>
<div style="position:absolute;left:287.87px;top:446.79px" class="cls_011"><span class="cls_011">that sets the count back to 0. So instead of needing</span></div>
<div style="position:absolute;left:287.87px;top:461.77px" class="cls_011"><span class="cls_011">an Arduino board output for each row, we just</span></div>
<div style="position:absolute;left:48.11px;top:465.78px" class="cls_011"><span class="cls_011">To drive the matrix, we have to do the same</span></div>
<div style="position:absolute;left:287.87px;top:476.76px" class="cls_011"><span class="cls_011">need two outputs: one for clock and one for reset.</span></div>
<div style="position:absolute;left:36.12px;top:480.76px" class="cls_011"><span class="cls_011">kind of trick that we did with the two-digit,</span></div>
<div style="position:absolute;left:36.12px;top:495.75px" class="cls_011"><span class="cls_011">seven-segment display in Project 15 and switch</span></div>
<div style="position:absolute;left:299.86px;top:495.74px" class="cls_011"><span class="cls_011">Each of the outputs of the 4017 is connected to</span></div>
<div style="position:absolute;left:36.12px;top:510.73px" class="cls_011"><span class="cls_011">between columns, each time setting the appropriate</span></div>
<div style="position:absolute;left:287.87px;top:510.73px" class="cls_011"><span class="cls_011">a field effect transistor (FET). The only reason that</span></div>
<div style="position:absolute;left:36.12px;top:525.72px" class="cls_011"><span class="cls_011">row of LEDs on and off to create the illusion that</span></div>
<div style="position:absolute;left:287.87px;top:525.71px" class="cls_011"><span class="cls_011">we have used an FET rather than a bipolar</span></div>
<div style="position:absolute;left:36.12px;top:540.70px" class="cls_011"><span class="cls_011">all the LEDs are lit at the same time. Actually,</span></div>
<div style="position:absolute;left:287.87px;top:540.70px" class="cls_011"><span class="cls_011">transistor is that we can connect the gate of the</span></div>
<div style="position:absolute;left:36.12px;top:555.69px" class="cls_011"><span class="cls_011">only a maximum of 16 (8 red</span></div>
<div style="position:absolute;left:181.75px;top:555.69px" class="cls_011"><span class="cls_011">8 green) are on at</span></div>
<div style="position:absolute;left:287.87px;top:555.68px" class="cls_011"><span class="cls_011">FET directly to an Arduino board output without</span></div>
<div style="position:absolute;left:36.12px;top:570.67px" class="cls_011"><span class="cls_011">any instant.</span></div>
<div style="position:absolute;left:287.87px;top:570.67px" class="cls_011"><span class="cls_011">having to use a current-limiting resistor.</span></div>
<div style="position:absolute;left:48.11px;top:589.65px" class="cls_011"><span class="cls_011">There are 24 leads on the LED array, and only</span></div>
<div style="position:absolute;left:299.86px;top:589.65px" class="cls_011"><span class="cls_011">Note that we do not use the first output of the</span></div>
<div style="position:absolute;left:36.12px;top:604.64px" class="cls_011"><span class="cls_011">17 pins on the Arduino that we can easily use (D2-</span></div>
<div style="position:absolute;left:287.87px;top:604.63px" class="cls_011"><span class="cls_011">4017. This is because this pin is on as soon as the</span></div>
<div style="position:absolute;left:36.12px;top:619.62px" class="cls_011"><span class="cls_011">13 and A0-5). So we are going to use an integrated</span></div>
<div style="position:absolute;left:287.87px;top:619.62px" class="cls_011"><span class="cls_011">4017 is reset and this would lead to that column</span></div>
<div style="position:absolute;left:36.12px;top:634.61px" class="cls_011"><span class="cls_011">circuit called a decade counter to control each of</span></div>
<div style="position:absolute;left:287.87px;top:634.60px" class="cls_011"><span class="cls_011">being enabled for longer than it should be, making</span></div>
<div style="position:absolute;left:36.12px;top:649.59px" class="cls_011"><span class="cls_011">the columns in turn.</span></div>
<div style="position:absolute;left:287.87px;top:649.59px" class="cls_011"><span class="cls_011">that column appear brighter than the others.</span></div>
<div style="position:absolute;left:48.11px;top:668.57px" class="cls_011"><span class="cls_011">The 4017 decade counter has ten output pins,</span></div>
<div style="position:absolute;left:299.86px;top:668.57px" class="cls_011"><span class="cls_011">To build this project on the breadboard, we</span></div>
<div style="position:absolute;left:36.12px;top:683.56px" class="cls_011"><span class="cls_011">which take it in turn to go high whenever there is a</span></div>
<div style="position:absolute;left:287.87px;top:683.55px" class="cls_011"><span class="cls_011">actually need a bigger breadboard than we have</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:88140px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background114.jpg" width=552 height=770></div>
<div style="position:absolute;left:321.83px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 6</span></div>
<div style="position:absolute;left:385.66px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    Light Projects</span></div>
<div style="position:absolute;left:502.95px;top:34.50px" class="cls_017"><span class="cls_017">97</span></div>
<div style="position:absolute;left:42.21px;top:528.04px" class="cls_025"><span class="cls_025">Figure 6-11</span></div>
<div style="position:absolute;left:102.15px;top:529.02px" class="cls_026"><span class="cls_026">Schematic diagram for Project 16.</span></div>
<div style="position:absolute;left:36.21px;top:557.92px" class="cls_011"><span class="cls_011">used so far. The layout for this is shown in Figure</span></div>
<div style="position:absolute;left:287.97px;top:558.83px" class="cls_005"><span class="cls_005">Software</span></div>
<div style="position:absolute;left:36.21px;top:572.90px" class="cls_011"><span class="cls_011">6-12. Be careful to check every connection as you</span></div>
<div style="position:absolute;left:287.97px;top:582.30px" class="cls_011"><span class="cls_011">The software for this project is quite short (Listing</span></div>
<div style="position:absolute;left:36.21px;top:587.89px" class="cls_011"><span class="cls_011">plug your wires in because connections</span></div>
<div style="position:absolute;left:287.97px;top:597.29px" class="cls_011"><span class="cls_011">Project 16), but the tricky bit is getting the timing</span></div>
<div style="position:absolute;left:36.21px;top:602.87px" class="cls_011"><span class="cls_011">accidentally swapped over produce very strange</span></div>
<div style="position:absolute;left:287.97px;top:612.27px" class="cls_011"><span class="cls_011">right, because if you do things too quickly, the 4017</span></div>
<div style="position:absolute;left:36.21px;top:617.86px" class="cls_011"><span class="cls_011">and hard-to-debug results.</span></div>
<div style="position:absolute;left:287.97px;top:627.26px" class="cls_011"><span class="cls_011">will not have moved properly onto the next row</span></div>
<div style="position:absolute;left:287.97px;top:642.24px" class="cls_011"><span class="cls_011">before the next column starts being set. This causes</span></div>
<div style="position:absolute;left:287.97px;top:657.23px" class="cls_011"><span class="cls_011">a blurring of colors. On the other hand, if you do</span></div>
<div style="position:absolute;left:287.97px;top:672.21px" class="cls_011"><span class="cls_011">things too slowly the display will flicker. This is the</span></div>
<div style="position:absolute;left:287.97px;top:687.20px" class="cls_011"><span class="cls_011">reason for the calls to delayMicroseconds. This</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:88920px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background115.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">98</span></div>
<div style="position:absolute;left:77.59px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:42.11px;top:387.94px" class="cls_025"><span class="cls_025">Figure 6-12</span></div>
<div style="position:absolute;left:102.05px;top:388.93px" class="cls_026"><span class="cls_026">Breadboard layout for Project 16.</span></div>
<div style="position:absolute;left:43.11px;top:435.31px" class="cls_032"><span class="cls_032">LISTING PROJECT 16</span></div>
<div style="position:absolute;left:52.10px;top:457.55px" class="cls_031"><span class="cls_031">int clockPin = 18;</span></div>
<div style="position:absolute;left:52.10px;top:469.54px" class="cls_031"><span class="cls_031">int resetPin = 19;</span></div>
<div style="position:absolute;left:52.10px;top:493.52px" class="cls_031"><span class="cls_031">int greenPins[8] = {2, 3, 4, 5, 6, 7, 8, 9};</span></div>
<div style="position:absolute;left:52.10px;top:505.51px" class="cls_031"><span class="cls_031">int redPins[8] = {10, 11, 12, 13, 14, 15, 16, 17};</span></div>
<div style="position:absolute;left:52.10px;top:529.48px" class="cls_031"><span class="cls_031">int row = 0;</span></div>
<div style="position:absolute;left:52.10px;top:541.47px" class="cls_031"><span class="cls_031">int col = 0;</span></div>
<div style="position:absolute;left:52.10px;top:565.45px" class="cls_031"><span class="cls_031">// colors off = 0, green = 1, red = 2, orange = 3</span></div>
<div style="position:absolute;left:52.10px;top:577.44px" class="cls_031"><span class="cls_031">byte pixels[8][8] = {</span></div>
<div style="position:absolute;left:52.10px;top:589.42px" class="cls_031"><span class="cls_031">{1, 1, 1, 1, 1, 1, 1, 1},</span></div>
<div style="position:absolute;left:52.10px;top:601.41px" class="cls_031"><span class="cls_031">{1, 2, 2, 2, 2, 2, 2, 1},</span></div>
<div style="position:absolute;left:52.10px;top:613.40px" class="cls_031"><span class="cls_031">{1, 2, 3, 3, 3, 3, 2, 1},</span></div>
<div style="position:absolute;left:52.10px;top:625.39px" class="cls_031"><span class="cls_031">{1, 2, 3, 3, 3, 3, 2, 1},</span></div>
<div style="position:absolute;left:52.10px;top:637.38px" class="cls_031"><span class="cls_031">{1, 2, 3, 3, 3, 3, 2, 1},</span></div>
<div style="position:absolute;left:52.10px;top:649.36px" class="cls_031"><span class="cls_031">{1, 2, 3, 3, 3, 3, 2, 1},</span></div>
<div style="position:absolute;left:52.10px;top:661.35px" class="cls_031"><span class="cls_031">{1, 2, 2, 2, 2, 2, 2, 1},</span></div>
<div style="position:absolute;left:52.10px;top:673.34px" class="cls_031"><span class="cls_031">{1, 1, 1, 1, 1, 1, 1, 1}</span></div>
<div style="position:absolute;left:52.10px;top:685.33px" class="cls_031"><span class="cls_031">};</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:89700px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background116.jpg" width=552 height=770></div>
<div style="position:absolute;left:321.41px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 6</span></div>
<div style="position:absolute;left:385.23px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    Light Projects</span></div>
<div style="position:absolute;left:502.52px;top:34.50px" class="cls_017"><span class="cls_017">99</span></div>
<div style="position:absolute;left:43.21px;top:76.46px" class="cls_032"><span class="cls_032">LISTING PROJECT 16 (continued)</span></div>
<div style="position:absolute;left:52.20px;top:98.70px" class="cls_031"><span class="cls_031">void setup()</span></div>
<div style="position:absolute;left:52.20px;top:110.69px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:64.06px;top:122.68px" class="cls_031"><span class="cls_031">pinMode(clockPin, OUTPUT);</span></div>
<div style="position:absolute;left:64.06px;top:134.67px" class="cls_031"><span class="cls_031">pinMode(resetPin, OUTPUT);</span></div>
<div style="position:absolute;left:64.06px;top:146.66px" class="cls_031"><span class="cls_031">for (int i = 0; i &lt; 8; i++)</span></div>
<div style="position:absolute;left:64.06px;top:158.64px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.93px;top:170.63px" class="cls_031"><span class="cls_031">pinMode(greenPins[i], OUTPUT);</span></div>
<div style="position:absolute;left:75.93px;top:182.62px" class="cls_031"><span class="cls_031">pinMode(redPins[i], OUTPUT);</span></div>
<div style="position:absolute;left:64.06px;top:194.61px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:64.06px;top:206.60px" class="cls_031"><span class="cls_031">Serial.begin(9600);</span></div>
<div style="position:absolute;left:52.20px;top:218.58px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.20px;top:242.56px" class="cls_031"><span class="cls_031">void loop()</span></div>
<div style="position:absolute;left:52.20px;top:254.55px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:64.06px;top:266.54px" class="cls_031"><span class="cls_031">if (Serial.available())</span></div>
<div style="position:absolute;left:64.06px;top:278.52px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.93px;top:290.51px" class="cls_031"><span class="cls_031">char ch = Serial.read();</span></div>
<div style="position:absolute;left:75.93px;top:302.50px" class="cls_031"><span class="cls_031">if (ch == 'x')</span></div>
<div style="position:absolute;left:75.93px;top:314.49px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:87.79px;top:326.48px" class="cls_031"><span class="cls_031">clear();</span></div>
<div style="position:absolute;left:75.93px;top:338.46px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:75.93px;top:350.45px" class="cls_031"><span class="cls_031">if (ch >= 'a' and ch &lt;= 'g')</span></div>
<div style="position:absolute;left:75.93px;top:362.44px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:87.79px;top:374.43px" class="cls_031"><span class="cls_031">col = 0;</span></div>
<div style="position:absolute;left:87.79px;top:386.42px" class="cls_031"><span class="cls_031">row = ch - 'a';</span></div>
<div style="position:absolute;left:75.93px;top:398.40px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:75.93px;top:410.39px" class="cls_031"><span class="cls_031">else if (ch >= '0' and ch &lt;= '3')</span></div>
<div style="position:absolute;left:75.93px;top:422.38px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:87.79px;top:434.37px" class="cls_031"><span class="cls_031">byte pixel = ch - '0';</span></div>
<div style="position:absolute;left:87.79px;top:446.36px" class="cls_031"><span class="cls_031">pixels[row][col] = pixel;</span></div>
<div style="position:absolute;left:87.79px;top:458.34px" class="cls_031"><span class="cls_031">col++;</span></div>
<div style="position:absolute;left:75.93px;top:470.33px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:64.06px;top:482.32px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:64.06px;top:494.31px" class="cls_031"><span class="cls_031">refresh();</span></div>
<div style="position:absolute;left:52.20px;top:506.30px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.20px;top:530.27px" class="cls_031"><span class="cls_031">void refresh()</span></div>
<div style="position:absolute;left:52.20px;top:542.26px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:64.06px;top:554.25px" class="cls_031"><span class="cls_031">pulse(resetPin);</span></div>
<div style="position:absolute;left:64.06px;top:566.24px" class="cls_031"><span class="cls_031">delayMicroseconds(2000);</span></div>
<div style="position:absolute;left:64.06px;top:578.22px" class="cls_031"><span class="cls_031">for (int row = 0; row &lt; 8; row++)</span></div>
<div style="position:absolute;left:64.06px;top:590.21px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.93px;top:602.20px" class="cls_031"><span class="cls_031">for (int col = 0; col &lt; 8; col++)</span></div>
<div style="position:absolute;left:75.93px;top:614.19px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:87.79px;top:626.18px" class="cls_031"><span class="cls_031">int redPixel = pixels[col][row] & 2;</span></div>
<div style="position:absolute;left:87.79px;top:638.16px" class="cls_031"><span class="cls_031">int greenPixel = pixels[col][row] & 1;</span></div>
<div style="position:absolute;left:87.79px;top:650.15px" class="cls_031"><span class="cls_031">digitalWrite(greenPins[col], greenPixel);</span></div>
<div style="position:absolute;left:87.79px;top:662.14px" class="cls_031"><span class="cls_031">digitalWrite(redPins[col], redPixel);</span></div>
<div style="position:absolute;left:75.93px;top:674.13px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:75.93px;top:686.12px" class="cls_031"><span class="cls_031">pulse(clockPin);</span></div>
<div style="position:absolute;left:464.31px;top:698.10px" class="cls_037"><span class="cls_037">(continued)</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:90480px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background117.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">100</span></div>
<div style="position:absolute;left:83.48px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:43.11px;top:76.46px" class="cls_032"><span class="cls_032">LISTING PROJECT 16 (continued)</span></div>
<div style="position:absolute;left:75.83px;top:98.70px" class="cls_031"><span class="cls_031">delayMicroseconds(1500);</span></div>
<div style="position:absolute;left:63.97px;top:110.69px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.10px;top:122.68px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.10px;top:146.66px" class="cls_031"><span class="cls_031">void clear()</span></div>
<div style="position:absolute;left:52.10px;top:158.64px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:63.97px;top:170.63px" class="cls_031"><span class="cls_031">for (int row = 0; row &lt; 8; row++)</span></div>
<div style="position:absolute;left:63.97px;top:182.62px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.83px;top:194.61px" class="cls_031"><span class="cls_031">for (int col = 0; col &lt; 8; col++)</span></div>
<div style="position:absolute;left:75.83px;top:206.60px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:87.70px;top:218.58px" class="cls_031"><span class="cls_031">pixels[row][col] = 0;</span></div>
<div style="position:absolute;left:75.83px;top:230.57px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:63.97px;top:242.56px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.10px;top:254.55px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.10px;top:290.51px" class="cls_031"><span class="cls_031">void pulse(int pin)</span></div>
<div style="position:absolute;left:52.10px;top:302.50px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:63.97px;top:314.49px" class="cls_031"><span class="cls_031">delayMicroseconds(20);</span></div>
<div style="position:absolute;left:63.97px;top:326.48px" class="cls_031"><span class="cls_031">digitalWrite(pin, HIGH);</span></div>
<div style="position:absolute;left:63.97px;top:338.47px" class="cls_031"><span class="cls_031">delayMicroseconds(50);</span></div>
<div style="position:absolute;left:63.97px;top:350.45px" class="cls_031"><span class="cls_031">digitalWrite(pin, LOW);</span></div>
<div style="position:absolute;left:63.97px;top:362.44px" class="cls_031"><span class="cls_031">delayMicroseconds(50);</span></div>
<div style="position:absolute;left:52.10px;top:374.43px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:36.12px;top:416.82px" class="cls_011"><span class="cls_011">function is like the delay function, but allows</span></div>
<div style="position:absolute;left:287.87px;top:416.82px" class="cls_011"><span class="cls_011">for the row (a-h) followed immediately by eight</span></div>
<div style="position:absolute;left:36.12px;top:431.81px" class="cls_011"><span class="cls_011">shorter delays to be made.</span></div>
<div style="position:absolute;left:287.87px;top:431.80px" class="cls_011"><span class="cls_011">digits. Each digit will be 0 for off, 1 for green, 2</span></div>
<div style="position:absolute;left:287.87px;top:446.79px" class="cls_011"><span class="cls_011">for red, and 3 for orange. So typing </span><span class="cls_016">a12121212</span></div>
<div style="position:absolute;left:48.11px;top:450.79px" class="cls_011"><span class="cls_011">Apart from that, the code is fairly</span></div>
<div style="position:absolute;left:287.87px;top:461.77px" class="cls_011"><span class="cls_011">will set the top row to alternating red and green.</span></div>
<div style="position:absolute;left:36.12px;top:465.77px" class="cls_011"><span class="cls_011">straightforward.</span></div>
<div style="position:absolute;left:287.87px;top:476.76px" class="cls_011"><span class="cls_011">When designing patterns to display, it is a good</span></div>
<div style="position:absolute;left:287.87px;top:491.74px" class="cls_011"><span class="cls_011">idea to write out the lines in a text editor or word</span></div>
<div style="position:absolute;left:36.12px;top:498.74px" class="cls_005"><span class="cls_005">Putting It All Together</span></div>
<div style="position:absolute;left:287.87px;top:506.73px" class="cls_011"><span class="cls_011">processor and then paste the entire pattern into the</span></div>
<div style="position:absolute;left:36.12px;top:522.22px" class="cls_011"><span class="cls_011">Load the completed sketch for Project 16 from</span></div>
<div style="position:absolute;left:287.87px;top:521.71px" class="cls_011"><span class="cls_011">Serial Monitor.</span></div>
<div style="position:absolute;left:36.12px;top:537.20px" class="cls_011"><span class="cls_011">your Arduino Sketchbook and download it to the</span></div>
<div style="position:absolute;left:299.86px;top:540.70px" class="cls_011"><span class="cls_011">You might like to try entering the following:</span></div>
<div style="position:absolute;left:36.12px;top:552.19px" class="cls_011"><span class="cls_011">board (see Chapter 1).</span></div>
<div style="position:absolute;left:293.87px;top:566.18px" class="cls_031"><span class="cls_031">x</span></div>
<div style="position:absolute;left:48.11px;top:571.17px" class="cls_011"><span class="cls_011">You can now try out the project. As soon as it is</span></div>
<div style="position:absolute;left:293.87px;top:579.16px" class="cls_031"><span class="cls_031">a11222211</span></div>
<div style="position:absolute;left:36.12px;top:586.16px" class="cls_011"><span class="cls_011">connected to the USB port and has reset, you</span></div>
<div style="position:absolute;left:293.87px;top:592.15px" class="cls_031"><span class="cls_031">b11222211</span></div>
<div style="position:absolute;left:36.12px;top:601.14px" class="cls_011"><span class="cls_011">should see a test pattern of a green outer ring with</span></div>
<div style="position:absolute;left:293.87px;top:605.14px" class="cls_031"><span class="cls_031">c11222211</span></div>
<div style="position:absolute;left:36.12px;top:616.13px" class="cls_011"><span class="cls_011">a red ring inside that and then a block of orange in</span></div>
<div style="position:absolute;left:293.87px;top:618.12px" class="cls_031"><span class="cls_031">d11111111</span></div>
<div style="position:absolute;left:36.12px;top:631.11px" class="cls_011"><span class="cls_011">the center.</span></div>
<div style="position:absolute;left:293.87px;top:631.11px" class="cls_031"><span class="cls_031">e11111111</span></div>
<div style="position:absolute;left:293.87px;top:644.10px" class="cls_031"><span class="cls_031">f11222211</span></div>
<div style="position:absolute;left:48.11px;top:650.09px" class="cls_011"><span class="cls_011">Open the Arduino software’s Serial Monitor and</span></div>
<div style="position:absolute;left:293.87px;top:657.08px" class="cls_031"><span class="cls_031">g11222211</span></div>
<div style="position:absolute;left:36.12px;top:665.08px" class="cls_011"><span class="cls_011">type</span><span class="cls_016"> x</span><span class="cls_011">. This should clear the display. You can now</span></div>
<div style="position:absolute;left:293.87px;top:670.07px" class="cls_031"><span class="cls_031">h11111111</span></div>
<div style="position:absolute;left:36.12px;top:680.06px" class="cls_011"><span class="cls_011">change each line of the display by entering a letter</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:91260px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background118.jpg" width=552 height=770></div>
<div style="position:absolute;left:318.91px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 6</span></div>
<div style="position:absolute;left:382.73px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    Light Projects</span></div>
<div style="position:absolute;left:500.02px;top:34.50px" class="cls_017"><span class="cls_017">101</span></div>
<div style="position:absolute;left:36.21px;top:69.16px" class="cls_011"><span class="cls_011">or</span></div>
<div style="position:absolute;left:287.97px;top:69.47px" class="cls_021"><span class="cls_021">LCD Displays</span></div>
<div style="position:absolute;left:42.21px;top:94.64px" class="cls_031"><span class="cls_031">x</span></div>
<div style="position:absolute;left:287.97px;top:95.94px" class="cls_011"><span class="cls_011">If our project needs to display more than a few</span></div>
<div style="position:absolute;left:42.21px;top:107.62px" class="cls_031"><span class="cls_031">a22222222</span></div>
<div style="position:absolute;left:287.97px;top:110.93px" class="cls_011"><span class="cls_011">numeric digits, we likely want to use an LCD</span></div>
<div style="position:absolute;left:42.21px;top:120.61px" class="cls_031"><span class="cls_031">b12333321</span></div>
<div style="position:absolute;left:287.97px;top:125.91px" class="cls_011"><span class="cls_011">display module. These have the advantage that</span></div>
<div style="position:absolute;left:42.21px;top:133.60px" class="cls_031"><span class="cls_031">c11211211</span></div>
<div style="position:absolute;left:287.97px;top:140.90px" class="cls_011"><span class="cls_011">they come with built-in driver electronics, so a lot</span></div>
<div style="position:absolute;left:42.21px;top:146.58px" class="cls_031"><span class="cls_031">d11122111</span></div>
<div style="position:absolute;left:42.21px;top:159.57px" class="cls_031"><span class="cls_031">e11233211</span></div>
<div style="position:absolute;left:287.97px;top:155.88px" class="cls_011"><span class="cls_011">of the work is already done for us and we do not</span></div>
<div style="position:absolute;left:42.21px;top:172.56px" class="cls_031"><span class="cls_031">f12333321</span></div>
<div style="position:absolute;left:287.97px;top:170.87px" class="cls_011"><span class="cls_011">have to poll round each digit, setting each segment.</span></div>
<div style="position:absolute;left:42.21px;top:185.54px" class="cls_031"><span class="cls_031">g22222222</span></div>
<div style="position:absolute;left:299.96px;top:189.85px" class="cls_011"><span class="cls_011">There is also something of a standard for these</span></div>
<div style="position:absolute;left:42.21px;top:198.53px" class="cls_031"><span class="cls_031">h11111111</span></div>
<div style="position:absolute;left:287.97px;top:204.84px" class="cls_011"><span class="cls_011">devices, so there are lots of devices from different</span></div>
<div style="position:absolute;left:287.97px;top:219.82px" class="cls_011"><span class="cls_011">manufacturers that we can use in the same way.</span></div>
<div style="position:absolute;left:36.21px;top:227.51px" class="cls_011"><span class="cls_011">or</span></div>
<div style="position:absolute;left:287.97px;top:234.81px" class="cls_011"><span class="cls_011">The devices to look for are the ones that use the</span></div>
<div style="position:absolute;left:42.21px;top:252.98px" class="cls_031"><span class="cls_031">x</span></div>
<div style="position:absolute;left:287.97px;top:249.79px" class="cls_011"><span class="cls_011">HD44780 driver chip.</span></div>
<div style="position:absolute;left:42.21px;top:265.97px" class="cls_031"><span class="cls_031">a11111111</span></div>
<div style="position:absolute;left:299.96px;top:268.77px" class="cls_011"><span class="cls_011">LCD panels can be quite expensive from retail</span></div>
<div style="position:absolute;left:42.21px;top:278.96px" class="cls_031"><span class="cls_031">b22212221</span></div>
<div style="position:absolute;left:287.97px;top:283.76px" class="cls_011"><span class="cls_011">electronic component suppliers, but if you look on</span></div>
<div style="position:absolute;left:42.21px;top:291.94px" class="cls_031"><span class="cls_031">c11212121</span></div>
<div style="position:absolute;left:287.97px;top:298.74px" class="cls_011"><span class="cls_011">the Internet, they can often be bought for a few</span></div>
<div style="position:absolute;left:42.21px;top:304.93px" class="cls_031"><span class="cls_031">d22212121</span></div>
<div style="position:absolute;left:42.21px;top:317.92px" class="cls_031"><span class="cls_031">e11212121</span></div>
<div style="position:absolute;left:287.97px;top:313.73px" class="cls_011"><span class="cls_011">dollars, particularly if you are willing to buy a few</span></div>
<div style="position:absolute;left:42.21px;top:330.90px" class="cls_031"><span class="cls_031">f22212221</span></div>
<div style="position:absolute;left:287.97px;top:328.71px" class="cls_011"><span class="cls_011">at a time.</span></div>
<div style="position:absolute;left:42.21px;top:343.89px" class="cls_031"><span class="cls_031">g11111111</span></div>
<div style="position:absolute;left:299.96px;top:347.69px" class="cls_011"><span class="cls_011">Figure 6-13 shows a module that can display</span></div>
<div style="position:absolute;left:42.21px;top:356.88px" class="cls_031"><span class="cls_031">h11111111</span></div>
<div style="position:absolute;left:287.97px;top:362.68px" class="cls_011"><span class="cls_011">two rows of 16 characters. Each character is made</span></div>
<div style="position:absolute;left:287.97px;top:377.66px" class="cls_011"><span class="cls_011">up of an array of 7 by 5 segments. So it is just as</span></div>
<div style="position:absolute;left:48.20px;top:385.85px" class="cls_011"><span class="cls_011">This is a really good project for the Evil Genius</span></div>
<div style="position:absolute;left:287.97px;top:392.65px" class="cls_011"><span class="cls_011">well that we do not have to drive each segment</span></div>
<div style="position:absolute;left:36.21px;top:400.84px" class="cls_011"><span class="cls_011">to experiment with. You may like to try and</span></div>
<div style="position:absolute;left:287.97px;top:407.63px" class="cls_011"><span class="cls_011">separately.</span></div>
<div style="position:absolute;left:36.21px;top:415.82px" class="cls_011"><span class="cls_011">produce an animation effect by changing the pixels</span></div>
<div style="position:absolute;left:36.21px;top:430.81px" class="cls_011"><span class="cls_011">array while in the loop.</span></div>
<div style="position:absolute;left:42.21px;top:707.86px" class="cls_025"><span class="cls_025">Figure 6-13</span></div>
<div style="position:absolute;left:102.15px;top:708.85px" class="cls_026"><span class="cls_026">2 by 16 LCD module.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:92040px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background119.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">102</span></div>
<div style="position:absolute;left:82.41px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:48.11px;top:69.16px" class="cls_011"><span class="cls_011">The display module includes a character set so</span></div>
<div style="position:absolute;left:287.87px;top:70.07px" class="cls_005"><span class="cls_005">Hardware</span></div>
<div style="position:absolute;left:36.12px;top:84.15px" class="cls_011"><span class="cls_011">that it knows which segments to turn on for any</span></div>
<div style="position:absolute;left:287.87px;top:93.55px" class="cls_011"><span class="cls_011">The schematic diagram for the LCD display is</span></div>
<div style="position:absolute;left:36.12px;top:99.13px" class="cls_011"><span class="cls_011">character. This means we just have to tell it which</span></div>
<div style="position:absolute;left:287.87px;top:108.53px" class="cls_011"><span class="cls_011">shown in Figure 6-14 and the breadboard layout in</span></div>
<div style="position:absolute;left:36.12px;top:114.12px" class="cls_011"><span class="cls_011">character to display where on the display.</span></div>
<div style="position:absolute;left:287.87px;top:123.52px" class="cls_011"><span class="cls_011">Figure 6-15. As you can see, the only components</span></div>
<div style="position:absolute;left:48.11px;top:133.10px" class="cls_011"><span class="cls_011">We need just seven digital outputs to drive the</span></div>
<div style="position:absolute;left:287.87px;top:138.50px" class="cls_011"><span class="cls_011">required are the LCD module itself and a resistor</span></div>
<div style="position:absolute;left:36.12px;top:148.08px" class="cls_011"><span class="cls_011">display. Four of these are data connections and</span></div>
<div style="position:absolute;left:287.87px;top:153.49px" class="cls_011"><span class="cls_011">to limit the current to the LED backlight.</span></div>
<div style="position:absolute;left:36.12px;top:163.07px" class="cls_011"><span class="cls_011">three control the flow of data. The actual details of</span></div>
<div style="position:absolute;left:299.86px;top:172.47px" class="cls_011"><span class="cls_011">The LCD module receives data four bits at a</span></div>
<div style="position:absolute;left:36.12px;top:178.05px" class="cls_011"><span class="cls_011">what is sent to the LCD module can be ignored, as</span></div>
<div style="position:absolute;left:287.87px;top:187.45px" class="cls_011"><span class="cls_011">time through the connections D4-7. The LCD</span></div>
<div style="position:absolute;left:36.12px;top:193.04px" class="cls_011"><span class="cls_011">there is a standard library that we can use.</span></div>
<div style="position:absolute;left:287.87px;top:202.44px" class="cls_011"><span class="cls_011">module also has connectors for D0-3, which are</span></div>
<div style="position:absolute;left:48.11px;top:212.02px" class="cls_011"><span class="cls_011">This is illustrated in the next project.</span></div>
<div style="position:absolute;left:287.87px;top:217.42px" class="cls_011"><span class="cls_011">only used for transferring data eight bits at a time.</span></div>
<div style="position:absolute;left:287.87px;top:232.41px" class="cls_011"><span class="cls_011">To reduce the number of pins required, we do not</span></div>
<div style="position:absolute;left:287.87px;top:247.39px" class="cls_011"><span class="cls_011">use these.</span></div>
<div style="position:absolute;left:36.12px;top:250.48px" class="cls_027"><span class="cls_027">Project 17</span></div>
<div style="position:absolute;left:299.86px;top:266.38px" class="cls_011"><span class="cls_011">The easiest way to attach the LCD module to</span></div>
<div style="position:absolute;left:36.12px;top:270.46px" class="cls_021"><span class="cls_021">USB Message Board</span></div>
<div style="position:absolute;left:287.87px;top:281.36px" class="cls_011"><span class="cls_011">the breadboard is to solder header pins into the</span></div>
<div style="position:absolute;left:36.12px;top:296.94px" class="cls_011"><span class="cls_011">This project will allow us to display a message on</span></div>
<div style="position:absolute;left:287.87px;top:296.35px" class="cls_011"><span class="cls_011">connector strip, and then the module can be</span></div>
<div style="position:absolute;left:36.12px;top:311.92px" class="cls_011"><span class="cls_011">an LCD module from our computer. There is no</span></div>
<div style="position:absolute;left:287.87px;top:311.33px" class="cls_011"><span class="cls_011">plugged directly into the breadboard.</span></div>
<div style="position:absolute;left:36.12px;top:326.91px" class="cls_011"><span class="cls_011">reason why the LCD module needs to be right next</span></div>
<div style="position:absolute;left:36.12px;top:341.89px" class="cls_011"><span class="cls_011">to the computer, so you could use it on the end of a</span></div>
<div style="position:absolute;left:287.87px;top:344.30px" class="cls_005"><span class="cls_005">Software</span></div>
<div style="position:absolute;left:36.12px;top:356.88px" class="cls_011"><span class="cls_011">long USB lead to display messages remotely—</span></div>
<div style="position:absolute;left:287.87px;top:367.78px" class="cls_011"><span class="cls_011">The software for this project is straightforward</span></div>
<div style="position:absolute;left:36.12px;top:371.86px" class="cls_011"><span class="cls_011">next to an intercom at the door to the Evil Genius’s</span></div>
<div style="position:absolute;left:287.87px;top:382.76px" class="cls_011"><span class="cls_011">(Listing Project 17). All the work of</span></div>
<div style="position:absolute;left:36.12px;top:386.85px" class="cls_011"><span class="cls_011">lair, for example.</span></div>
<div style="position:absolute;left:287.87px;top:397.75px" class="cls_011"><span class="cls_011">communicating with the LCD module is taken</span></div>
<div style="position:absolute;left:287.87px;top:412.73px" class="cls_011"><span class="cls_011">care of by the LCD library. This library is included</span></div>
<div style="position:absolute;left:287.87px;top:427.72px" class="cls_011"><span class="cls_011">as part of the standard Arduino software</span></div>
<div style="position:absolute;left:44.12px;top:431.72px" class="cls_028"><span class="cls_028">COMPONENTS AND EQUIPMENT</span></div>
<div style="position:absolute;left:287.87px;top:442.70px" class="cls_011"><span class="cls_011">installation, so we do not need to download or</span></div>
<div style="position:absolute;left:63.09px;top:455.09px" class="cls_029"><span class="cls_029">Description</span></div>
<div style="position:absolute;left:203.96px;top:455.09px" class="cls_029"><span class="cls_029">Appendix</span></div>
<div style="position:absolute;left:287.87px;top:457.69px" class="cls_011"><span class="cls_011">install anything special.</span></div>
<div style="position:absolute;left:63.09px;top:475.07px" class="cls_026"><span class="cls_026">Arduino Diecimila or</span></div>
<div style="position:absolute;left:299.86px;top:476.67px" class="cls_011"><span class="cls_011">The loop reads any input and if it is a #</span></div>
<div style="position:absolute;left:63.09px;top:488.06px" class="cls_026"><span class="cls_026">Duemilanove board or clone</span></div>
<div style="position:absolute;left:224.34px;top:488.06px" class="cls_026"><span class="cls_026">1</span></div>
<div style="position:absolute;left:287.87px;top:491.66px" class="cls_011"><span class="cls_011">character clears the display. If it is a / character, it</span></div>
<div style="position:absolute;left:63.09px;top:505.05px" class="cls_026"><span class="cls_026">LCD Module</span></div>
<div style="position:absolute;left:287.87px;top:506.64px" class="cls_011"><span class="cls_011">moves to the second row; otherwise, it just</span></div>
<div style="position:absolute;left:63.09px;top:518.03px" class="cls_026"><span class="cls_026">(HD44780 controller)</span></div>
<div style="position:absolute;left:220.36px;top:518.03px" class="cls_026"><span class="cls_026">58</span></div>
<div style="position:absolute;left:287.87px;top:521.63px" class="cls_011"><span class="cls_011">displays the character that was sent.</span></div>
<div style="position:absolute;left:46.11px;top:535.02px" class="cls_026"><span class="cls_026">R1</span></div>
<div style="position:absolute;left:63.09px;top:535.02px" class="cls_026"><span class="cls_026">100</span></div>
<div style="position:absolute;left:92.09px;top:535.02px" class="cls_026"><span class="cls_026">0.5W metal film resistor</span></div>
<div style="position:absolute;left:223.20px;top:535.02px" class="cls_026"><span class="cls_026">5</span></div>
<div style="position:absolute;left:63.09px;top:552.00px" class="cls_026"><span class="cls_026">Strip of 0.1-inch header pins</span></div>
<div style="position:absolute;left:63.09px;top:564.99px" class="cls_026"><span class="cls_026">(at least 16)</span></div>
<div style="position:absolute;left:220.45px;top:564.99px" class="cls_026"><span class="cls_026">55</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:92820px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background120.jpg" width=552 height=770></div>
<div style="position:absolute;left:42.21px;top:463.87px" class="cls_025"><span class="cls_025">Figure 6-14</span></div>
<div style="position:absolute;left:102.15px;top:464.85px" class="cls_026"><span class="cls_026">Schematic diagram for Project 17.</span></div>
<div style="position:absolute;left:42.21px;top:707.86px" class="cls_025"><span class="cls_025">Figure 6-15</span></div>
<div style="position:absolute;left:102.15px;top:708.85px" class="cls_026"><span class="cls_026">Breadboard layout for Project 17.</span></div>
<div style="position:absolute;left:498.04px;top:732.82px" class="cls_017"><span class="cls_017">103</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:93600px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background121.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">104</span></div>
<div style="position:absolute;left:83.07px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:43.11px;top:76.46px" class="cls_032"><span class="cls_032">LISTING PROJECT 17</span></div>
<div style="position:absolute;left:52.10px;top:98.70px" class="cls_031"><span class="cls_031">#include &lt;LiquidCrystal.h></span></div>
<div style="position:absolute;left:52.10px;top:124.68px" class="cls_031"><span class="cls_031">// LiquidCrystal display with:</span></div>
<div style="position:absolute;left:52.10px;top:137.67px" class="cls_031"><span class="cls_031">// rs on pin 12</span></div>
<div style="position:absolute;left:52.10px;top:150.65px" class="cls_031"><span class="cls_031">// rw on pin 11</span></div>
<div style="position:absolute;left:52.10px;top:163.64px" class="cls_031"><span class="cls_031">// enable on pin 10</span></div>
<div style="position:absolute;left:52.10px;top:176.63px" class="cls_031"><span class="cls_031">// d4-7 on pins 5-2</span></div>
<div style="position:absolute;left:52.10px;top:189.61px" class="cls_031"><span class="cls_031">LiquidCrystal lcd(12, 11, 10, 5, 4, 3, 2);</span></div>
<div style="position:absolute;left:52.10px;top:215.59px" class="cls_031"><span class="cls_031">void setup()</span></div>
<div style="position:absolute;left:52.10px;top:228.57px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:63.97px;top:241.56px" class="cls_031"><span class="cls_031">Serial.begin(9600);</span></div>
<div style="position:absolute;left:63.97px;top:254.55px" class="cls_031"><span class="cls_031">lcd.begin(2, 20);</span></div>
<div style="position:absolute;left:63.97px;top:267.54px" class="cls_031"><span class="cls_031">lcd.clear();</span></div>
<div style="position:absolute;left:63.97px;top:280.52px" class="cls_031"><span class="cls_031">lcd.setCursor(0,0);</span></div>
<div style="position:absolute;left:63.97px;top:293.51px" class="cls_031"><span class="cls_031">lcd.print("Evil Genius");</span></div>
<div style="position:absolute;left:63.97px;top:306.50px" class="cls_031"><span class="cls_031">lcd.setCursor(0,1);</span></div>
<div style="position:absolute;left:63.97px;top:319.48px" class="cls_031"><span class="cls_031">lcd.print("Rules");</span></div>
<div style="position:absolute;left:52.10px;top:332.47px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.10px;top:384.42px" class="cls_031"><span class="cls_031">void loop()</span></div>
<div style="position:absolute;left:52.10px;top:397.41px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:63.97px;top:410.39px" class="cls_031"><span class="cls_031">if (Serial.available())</span></div>
<div style="position:absolute;left:63.97px;top:423.38px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.83px;top:436.37px" class="cls_031"><span class="cls_031">char ch = Serial.read();</span></div>
<div style="position:absolute;left:75.83px;top:449.35px" class="cls_031"><span class="cls_031">if (ch == '#')</span></div>
<div style="position:absolute;left:75.83px;top:462.34px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:87.70px;top:475.33px" class="cls_031"><span class="cls_031">lcd.clear();</span></div>
<div style="position:absolute;left:75.83px;top:488.31px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:75.83px;top:501.30px" class="cls_031"><span class="cls_031">else if (ch == '/')</span></div>
<div style="position:absolute;left:75.83px;top:514.29px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:87.70px;top:527.27px" class="cls_031"><span class="cls_031">lcd.setCursor(0,1);</span></div>
<div style="position:absolute;left:75.83px;top:540.26px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:75.83px;top:553.25px" class="cls_031"><span class="cls_031">else</span></div>
<div style="position:absolute;left:75.83px;top:566.24px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:87.70px;top:579.23px" class="cls_031"><span class="cls_031">lcd.write(ch);</span></div>
<div style="position:absolute;left:75.83px;top:592.21px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:63.97px;top:605.20px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.10px;top:618.19px" class="cls_031"><span class="cls_031">}</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:94380px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background122.jpg" width=552 height=770></div>
<div style="position:absolute;left:316.83px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 6</span></div>
<div style="position:absolute;left:380.65px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    Light Projects</span></div>
<div style="position:absolute;left:497.95px;top:34.50px" class="cls_017"><span class="cls_017">105</span></div>
<div style="position:absolute;left:36.21px;top:70.07px" class="cls_005"><span class="cls_005">Putting It All Together</span></div>
<div style="position:absolute;left:287.97px;top:69.47px" class="cls_021"><span class="cls_021">Summary</span></div>
<div style="position:absolute;left:36.21px;top:93.55px" class="cls_011"><span class="cls_011">Load the completed sketch for Project 17 from</span></div>
<div style="position:absolute;left:287.97px;top:95.94px" class="cls_011"><span class="cls_011">That’s all for LED- and light-related projects. In</span></div>
<div style="position:absolute;left:36.21px;top:108.53px" class="cls_011"><span class="cls_011">your Arduino Sketchbook and download it to the</span></div>
<div style="position:absolute;left:287.97px;top:110.93px" class="cls_011"><span class="cls_011">the next chapter we will look at projects that use</span></div>
<div style="position:absolute;left:36.21px;top:123.52px" class="cls_011"><span class="cls_011">board (see Chapter 1).</span></div>
<div style="position:absolute;left:287.97px;top:125.91px" class="cls_011"><span class="cls_011">sound in one way or another.</span></div>
<div style="position:absolute;left:48.20px;top:142.50px" class="cls_011"><span class="cls_011">We can now try out the project by opening the</span></div>
<div style="position:absolute;left:36.21px;top:157.48px" class="cls_011"><span class="cls_011">Serial Monitor and entering some text.</span></div>
<div style="position:absolute;left:48.20px;top:176.47px" class="cls_011"><span class="cls_011">Later on in Project 22, we will be using the</span></div>
<div style="position:absolute;left:36.21px;top:191.45px" class="cls_011"><span class="cls_011">LCD panel again with a thermistor and rotary</span></div>
<div style="position:absolute;left:36.21px;top:206.44px" class="cls_011"><span class="cls_011">encoder to make a thermostat.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:95160px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background123.jpg" width=552 height=770></div>
<div style="position:absolute;left:196.00px;top:374.44px" class="cls_020"><span class="cls_020">This page intentionally left blank</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:95940px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background124.jpg" width=552 height=770></div>
<div style="position:absolute;left:196.58px;top:50.87px" class="cls_024"><span class="cls_024">C H A P T E R</span></div>
<div style="position:absolute;left:344.42px;top:50.87px" class="cls_024"><span class="cls_024">7</span></div>
<div style="position:absolute;left:167.97px;top:99.55px" class="cls_023"><span class="cls_023">Sound Projects</span></div>
<div style="position:absolute;left:36.21px;top:219.00px" class="cls_016"><span class="cls_016">A</span><span class="cls_019">N</span><span class="cls_016"> A</span><span class="cls_019">RDUINO BOARD</span><span class="cls_011"> can be used to both generate</span></div>
<div style="position:absolute;left:287.97px;top:219.00px" class="cls_011"><span class="cls_011">on the Y-axis (vertical axis) of a cathode ray tube</span></div>
<div style="position:absolute;left:36.21px;top:233.98px" class="cls_011"><span class="cls_011">sounds as an output and receive sounds as an input</span></div>
<div style="position:absolute;left:287.97px;top:233.98px" class="cls_011"><span class="cls_011">while a timebase mechanism sweeps left to right on</span></div>
<div style="position:absolute;left:36.21px;top:248.97px" class="cls_011"><span class="cls_011">using a microphone. In this chapter, we have</span></div>
<div style="position:absolute;left:287.97px;top:248.97px" class="cls_011"><span class="cls_011">the X-axis and then flips back when it reaches the</span></div>
<div style="position:absolute;left:36.21px;top:263.95px" class="cls_011"><span class="cls_011">various “musical instrument” type projects and</span></div>
<div style="position:absolute;left:287.97px;top:263.95px" class="cls_011"><span class="cls_011">end. The result will look something like Figure 7-1.</span></div>
<div style="position:absolute;left:36.21px;top:278.94px" class="cls_011"><span class="cls_011">also projects that process sound inputs.</span></div>
<div style="position:absolute;left:299.96px;top:282.93px" class="cls_011"><span class="cls_011">These days, cathode ray tubes have largely been</span></div>
<div style="position:absolute;left:48.20px;top:297.92px" class="cls_011"><span class="cls_011">Although not strictly a “sound” project, our first</span></div>
<div style="position:absolute;left:287.97px;top:297.92px" class="cls_011"><span class="cls_011">replaced by digital oscilloscopes that use LCD</span></div>
<div style="position:absolute;left:36.21px;top:312.90px" class="cls_011"><span class="cls_011">project is to create a simple oscilloscope so that we</span></div>
<div style="position:absolute;left:287.97px;top:312.90px" class="cls_011"><span class="cls_011">displays, but the principles remain the same.</span></div>
<div style="position:absolute;left:36.21px;top:327.89px" class="cls_011"><span class="cls_011">can view the waveform at an analog input.</span></div>
<div style="position:absolute;left:299.96px;top:331.88px" class="cls_011"><span class="cls_011">This project reads values from the analog input</span></div>
<div style="position:absolute;left:287.97px;top:346.87px" class="cls_011"><span class="cls_011">and sends them over USB to your computer.</span></div>
<div style="position:absolute;left:287.97px;top:361.85px" class="cls_011"><span class="cls_011">Rather than be received by the Serial Monitor, they</span></div>
<div style="position:absolute;left:36.21px;top:366.35px" class="cls_027"><span class="cls_027">Project 18</span></div>
<div style="position:absolute;left:287.97px;top:376.84px" class="cls_011"><span class="cls_011">are received by a little program that displays them</span></div>
<div style="position:absolute;left:36.21px;top:386.33px" class="cls_021"><span class="cls_021">Oscilloscope</span></div>
<div style="position:absolute;left:287.97px;top:391.82px" class="cls_011"><span class="cls_011">in an oscilloscope-like manner. As the signal</span></div>
<div style="position:absolute;left:287.97px;top:406.81px" class="cls_011"><span class="cls_011">changes, so does the shape of the waveform.</span></div>
<div style="position:absolute;left:36.21px;top:412.81px" class="cls_011"><span class="cls_011">An oscilloscope is a device that allows you to see</span></div>
<div style="position:absolute;left:36.21px;top:427.79px" class="cls_011"><span class="cls_011">an electronic signal so that it appears as a</span></div>
<div style="position:absolute;left:299.96px;top:425.79px" class="cls_011"><span class="cls_011">Note that as oscilloscopes go, this one is not</span></div>
<div style="position:absolute;left:36.21px;top:442.78px" class="cls_011"><span class="cls_011">waveform. A traditional oscilloscope works by</span></div>
<div style="position:absolute;left:287.97px;top:440.78px" class="cls_011"><span class="cls_011">going to win any prizes for accuracy or speed, but</span></div>
<div style="position:absolute;left:36.21px;top:457.76px" class="cls_011"><span class="cls_011">amplifying a signal to control the position of a dot</span></div>
<div style="position:absolute;left:287.97px;top:455.76px" class="cls_011"><span class="cls_011">it is kind of fun.</span></div>
<div style="position:absolute;left:42.21px;top:689.86px" class="cls_025"><span class="cls_025">Figure 7-1</span></div>
<div style="position:absolute;left:102.15px;top:690.85px" class="cls_026"><span class="cls_026">50-Hz noise on oscilloscope.</span></div>
<div style="position:absolute;left:498.06px;top:721.05px" class="cls_017"><span class="cls_017">107</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:96720px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background125.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">108</span></div>
<div style="position:absolute;left:82.48px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:287.87px;top:70.07px" class="cls_005"><span class="cls_005">Hardware</span></div>
<div style="position:absolute;left:44.12px;top:74.27px" class="cls_028"><span class="cls_028">COMPONENTS AND EQUIPMENT</span></div>
<div style="position:absolute;left:86.07px;top:97.64px" class="cls_029"><span class="cls_029">Description</span></div>
<div style="position:absolute;left:206.96px;top:97.64px" class="cls_029"><span class="cls_029">Appendix</span></div>
<div style="position:absolute;left:287.87px;top:93.55px" class="cls_011"><span class="cls_011">Figure 7-2 shows the schematic diagram for</span></div>
<div style="position:absolute;left:287.87px;top:108.53px" class="cls_011"><span class="cls_011">Project 18 and Figure 7-3 the breadboard layout.</span></div>
<div style="position:absolute;left:86.07px;top:117.62px" class="cls_026"><span class="cls_026">Arduino Diecimila or</span></div>
<div style="position:absolute;left:86.07px;top:130.61px" class="cls_026"><span class="cls_026">Duemilanove board or clone</span></div>
<div style="position:absolute;left:227.34px;top:130.61px" class="cls_026"><span class="cls_026">1</span></div>
<div style="position:absolute;left:299.86px;top:127.51px" class="cls_011"><span class="cls_011">There are two parts to the circuit. R1 and R2 are</span></div>
<div style="position:absolute;left:287.87px;top:142.50px" class="cls_011"><span class="cls_011">high-value resistors that “bias” the signal going to</span></div>
<div style="position:absolute;left:46.11px;top:147.59px" class="cls_026"><span class="cls_026">C1</span></div>
<div style="position:absolute;left:86.07px;top:147.59px" class="cls_026"><span class="cls_026">220nF nonpolarized</span></div>
<div style="position:absolute;left:224.64px;top:147.59px" class="cls_026"><span class="cls_026">21</span></div>
<div style="position:absolute;left:287.87px;top:157.48px" class="cls_011"><span class="cls_011">the analog input to 2.5V. They are just like a</span></div>
<div style="position:absolute;left:46.11px;top:164.58px" class="cls_026"><span class="cls_026">C2, C3</span></div>
<div style="position:absolute;left:86.08px;top:164.58px" class="cls_026"><span class="cls_026">100 </span><span class="cls_033">µ</span><span class="cls_026">F electrolytic</span></div>
<div style="position:absolute;left:223.56px;top:164.58px" class="cls_026"><span class="cls_026">22</span></div>
<div style="position:absolute;left:287.87px;top:172.47px" class="cls_011"><span class="cls_011">voltage divider. The capacitor C1 allows the signal</span></div>
<div style="position:absolute;left:46.11px;top:181.56px" class="cls_026"><span class="cls_026">R1, R2</span></div>
<div style="position:absolute;left:86.07px;top:181.56px" class="cls_026"><span class="cls_026">1 M</span><span class="cls_033">Ω</span><span class="cls_026"> 0.5W metal film resistor</span></div>
<div style="position:absolute;left:224.59px;top:181.56px" class="cls_026"><span class="cls_026">15</span></div>
<div style="position:absolute;left:287.87px;top:187.45px" class="cls_011"><span class="cls_011">to pass without any direct current (DC) component</span></div>
<div style="position:absolute;left:46.11px;top:198.54px" class="cls_026"><span class="cls_026">R3, R4</span></div>
<div style="position:absolute;left:86.08px;top:198.54px" class="cls_026"><span class="cls_026">1 K</span><span class="cls_033">Ω</span><span class="cls_026"> 0.5W metal film resistor</span></div>
<div style="position:absolute;left:226.27px;top:198.54px" class="cls_026"><span class="cls_026">7</span></div>
<div style="position:absolute;left:287.87px;top:202.44px" class="cls_011"><span class="cls_011">to the signal (alternating current, or AC, mode in a</span></div>
<div style="position:absolute;left:287.87px;top:217.42px" class="cls_011"><span class="cls_011">traditional oscilloscope).</span></div>
<div style="position:absolute;left:48.11px;top:236.50px" class="cls_011"><span class="cls_011">This is the first time we have used capacitors.</span></div>
<div style="position:absolute;left:299.86px;top:236.41px" class="cls_011"><span class="cls_011">R3, R4, C2, and C3 just provide a stable</span></div>
<div style="position:absolute;left:36.12px;top:251.48px" class="cls_011"><span class="cls_011">C1 can be connected either way round; however,</span></div>
<div style="position:absolute;left:287.87px;top:251.39px" class="cls_011"><span class="cls_011">reference voltage of 2.5V. The reason for this is so</span></div>
<div style="position:absolute;left:36.12px;top:266.47px" class="cls_011"><span class="cls_011">C2 and C3 are polarized and must be connected</span></div>
<div style="position:absolute;left:287.87px;top:266.38px" class="cls_011"><span class="cls_011">that our oscilloscope can display both positive and</span></div>
<div style="position:absolute;left:36.12px;top:281.45px" class="cls_011"><span class="cls_011">the correct way round, or they are likely to be</span></div>
<div style="position:absolute;left:287.87px;top:281.36px" class="cls_011"><span class="cls_011">negative signals. So one terminal of our test lead is</span></div>
<div style="position:absolute;left:36.12px;top:296.44px" class="cls_011"><span class="cls_011">damaged. As with LEDs, on polarized capacitors,</span></div>
<div style="position:absolute;left:287.87px;top:296.35px" class="cls_011"><span class="cls_011">fixed at 2.5V; any signal on the other lead will be</span></div>
<div style="position:absolute;left:36.12px;top:311.42px" class="cls_011"><span class="cls_011">the positive lead (marked as the white rectangle on</span></div>
<div style="position:absolute;left:287.87px;top:311.33px" class="cls_011"><span class="cls_011">relative to that. A positive voltage will mean a</span></div>
<div style="position:absolute;left:36.12px;top:326.41px" class="cls_011"><span class="cls_011">the schematic symbol) is longer than the negative</span></div>
<div style="position:absolute;left:287.87px;top:326.32px" class="cls_011"><span class="cls_011">value at the analog input of greater than 2.5V, and</span></div>
<div style="position:absolute;left:36.12px;top:341.39px" class="cls_011"><span class="cls_011">lead. The negative lead also often has a</span></div>
<div style="position:absolute;left:215.97px;top:341.39px" class="cls_011"><span class="cls_011">- (minus)</span></div>
<div style="position:absolute;left:287.87px;top:341.30px" class="cls_011"><span class="cls_011">a negative value will mean a value at the analog</span></div>
<div style="position:absolute;left:36.12px;top:356.38px" class="cls_011"><span class="cls_011">or diamond shape next to the negative lead.</span></div>
<div style="position:absolute;left:287.87px;top:356.29px" class="cls_011"><span class="cls_011">input of less than 2.5V.</span></div>
<div style="position:absolute;left:299.86px;top:375.27px" class="cls_011"><span class="cls_011">Figure 7-4 shows the completed oscilloscope.</span></div>
<div style="position:absolute;left:42.11px;top:707.86px" class="cls_025"><span class="cls_025">Figure 7-2</span></div>
<div style="position:absolute;left:102.05px;top:708.85px" class="cls_026"><span class="cls_026">Schematic diagram for Project 18.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:97500px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background126.jpg" width=552 height=770></div>
<div style="position:absolute;left:310.86px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 7</span></div>
<div style="position:absolute;left:374.18px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    Sound Projects</span></div>
<div style="position:absolute;left:497.63px;top:34.50px" class="cls_017"><span class="cls_017">109</span></div>
<div style="position:absolute;left:42.21px;top:256.07px" class="cls_025"><span class="cls_025">Figure 7-3</span></div>
<div style="position:absolute;left:102.15px;top:257.06px" class="cls_026"><span class="cls_026">Breadboard layout for Project 18.</span></div>
<div style="position:absolute;left:42.21px;top:506.63px" class="cls_025"><span class="cls_025">Figure 7-4</span></div>
<div style="position:absolute;left:102.15px;top:507.61px" class="cls_026"><span class="cls_026">Project 18. Oscilloscope.</span></div>
<div style="position:absolute;left:36.21px;top:547.40px" class="cls_005"><span class="cls_005">Software</span></div>
<div style="position:absolute;left:287.97px;top:546.49px" class="cls_011"><span class="cls_011">of dividing it by four and making it fit into a</span></div>
<div style="position:absolute;left:287.97px;top:561.48px" class="cls_011"><span class="cls_011">single byte.</span></div>
<div style="position:absolute;left:36.21px;top:570.88px" class="cls_011"><span class="cls_011">The sketch is short and simple (Listing Project 18).</span></div>
<div style="position:absolute;left:299.96px;top:580.46px" class="cls_011"><span class="cls_011">We obviously need some corresponding</span></div>
<div style="position:absolute;left:36.21px;top:585.87px" class="cls_011"><span class="cls_011">Its only purpose is to read the analog input and</span></div>
<div style="position:absolute;left:287.97px;top:595.45px" class="cls_011"><span class="cls_011">software to run on our computer so that we can see</span></div>
<div style="position:absolute;left:36.21px;top:600.85px" class="cls_011"><span class="cls_011">blast it out to the USB port as fast as possible.</span></div>
<div style="position:absolute;left:287.97px;top:610.43px" class="cls_011"><span class="cls_011">the data sent by the board (Figure 7-1). This can be</span></div>
<div style="position:absolute;left:48.20px;top:619.83px" class="cls_011"><span class="cls_011">The first thing to note is that we have increased</span></div>
<div style="position:absolute;left:287.97px;top:625.42px" class="cls_011"><span class="cls_011">downloaded from </span><A HREF="http://www.arduinoevilgenius.com./">www.arduinoevilgenius.com.</A> </div>
<div style="position:absolute;left:36.21px;top:634.82px" class="cls_011"><span class="cls_011">the baud rate to 115,200, the highest available. To</span></div>
<div style="position:absolute;left:299.96px;top:644.40px" class="cls_011"><span class="cls_011">To install the software, you first need to install</span></div>
<div style="position:absolute;left:36.21px;top:649.80px" class="cls_011"><span class="cls_011">get as much data through the connection as</span></div>
<div style="position:absolute;left:287.97px;top:659.38px" class="cls_011"><span class="cls_011">the Ruby language on your computer. If you use a</span></div>
<div style="position:absolute;left:36.21px;top:664.79px" class="cls_011"><span class="cls_011">possible without resorting to complex compression</span></div>
<div style="position:absolute;left:287.97px;top:674.37px" class="cls_011"><span class="cls_011">Mac, you are in luck, because they come with</span></div>
<div style="position:absolute;left:36.21px;top:679.77px" class="cls_011"><span class="cls_011">techniques, we are going to shift our raw ten-bit</span></div>
<div style="position:absolute;left:287.97px;top:689.35px" class="cls_011"><span class="cls_011">Ruby pre-installed. If you are using Windows or</span></div>
<div style="position:absolute;left:36.21px;top:694.76px" class="cls_011"><span class="cls_011">value right two bits (>> 2); this has the effect</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:98280px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background127.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">110</span></div>
<div style="position:absolute;left:80.41px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:299.86px;top:69.16px" class="cls_011"><span class="cls_011">To run the software, change directory in your</span></div>
<div style="position:absolute;left:43.11px;top:76.46px" class="cls_032"><span class="cls_032">LISTING PROJECT 18</span></div>
<div style="position:absolute;left:287.87px;top:84.15px" class="cls_011"><span class="cls_011">terminal or command prompt to the directory</span></div>
<div style="position:absolute;left:52.10px;top:98.70px" class="cls_031"><span class="cls_031">#define CHANNEL_A_PIN 0</span></div>
<div style="position:absolute;left:287.87px;top:99.13px" class="cls_011"><span class="cls_011">where you downloaded scope.rb. Then just type:</span></div>
<div style="position:absolute;left:293.87px;top:124.61px" class="cls_031"><span class="cls_031">ruby scope.rb</span></div>
<div style="position:absolute;left:52.10px;top:124.68px" class="cls_031"><span class="cls_031">void setup()</span></div>
<div style="position:absolute;left:52.10px;top:137.67px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:58.03px;top:150.65px" class="cls_031"><span class="cls_031">Serial.begin(115200);</span></div>
<div style="position:absolute;left:299.86px;top:150.58px" class="cls_011"><span class="cls_011">A window like Figure 7-1 should then appear.</span></div>
<div style="position:absolute;left:52.10px;top:163.64px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:287.87px;top:183.55px" class="cls_005"><span class="cls_005">Putting It All Together</span></div>
<div style="position:absolute;left:52.10px;top:189.61px" class="cls_031"><span class="cls_031">void loop()</span></div>
<div style="position:absolute;left:52.10px;top:202.60px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:287.87px;top:207.03px" class="cls_011"><span class="cls_011">Load the completed sketch for Project 18 from</span></div>
<div style="position:absolute;left:63.97px;top:215.59px" class="cls_031"><span class="cls_031">int value =</span></div>
<div style="position:absolute;left:287.87px;top:222.01px" class="cls_011"><span class="cls_011">your Arduino Sketchbook and download it to the</span></div>
<div style="position:absolute;left:87.88px;top:228.58px" class="cls_031"><span class="cls_031">analogRead(CHANNEL_A_PIN);</span></div>
<div style="position:absolute;left:287.87px;top:237.00px" class="cls_011"><span class="cls_011">board (see Chapter 1). Install the software for your</span></div>
<div style="position:absolute;left:63.97px;top:241.56px" class="cls_031"><span class="cls_031">value = (value >> 2) & 0xFF;</span></div>
<div style="position:absolute;left:63.97px;top:254.55px" class="cls_031"><span class="cls_031">Serial.print(value, BYTE);</span></div>
<div style="position:absolute;left:287.87px;top:251.98px" class="cls_011"><span class="cls_011">computer as described previously, and you are</span></div>
<div style="position:absolute;left:63.97px;top:267.54px" class="cls_031"><span class="cls_031">delayMicroseconds(100);</span></div>
<div style="position:absolute;left:287.87px;top:266.97px" class="cls_011"><span class="cls_011">ready to go.</span></div>
<div style="position:absolute;left:52.10px;top:280.52px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:299.86px;top:285.95px" class="cls_011"><span class="cls_011">The easiest way to test the oscilloscope is to use</span></div>
<div style="position:absolute;left:287.87px;top:300.93px" class="cls_011"><span class="cls_011">the one readily available signal that permeates</span></div>
<div style="position:absolute;left:287.87px;top:315.92px" class="cls_011"><span class="cls_011">most of our lives and that is mains hum. Mains</span></div>
<div style="position:absolute;left:36.12px;top:323.71px" class="cls_011"><span class="cls_011">LINUX, please follow the instructions at</span></div>
<div style="position:absolute;left:287.87px;top:330.90px" class="cls_011"><span class="cls_011">electricity oscillates at 50 or 60Hz (depending on</span></div>
<div style="position:absolute;left:36.12px;top:338.70px" class="cls_011"><span class="cls_011"> </span><A HREF="http://www.ruby-lang.org/en/downloads./">http://www.ruby-lang.org/en/downloads.</A> </div>
<div style="position:absolute;left:287.87px;top:345.89px" class="cls_011"><span class="cls_011">where you live in the world), and every electrical</span></div>
<div style="position:absolute;left:48.11px;top:357.68px" class="cls_011"><span class="cls_011">Once you have installed Ruby, the next step is</span></div>
<div style="position:absolute;left:287.87px;top:360.87px" class="cls_011"><span class="cls_011">appliance emits electromagnetic radiation at this</span></div>
<div style="position:absolute;left:36.12px;top:372.67px" class="cls_011"><span class="cls_011">to install an optional Ruby module to communicate</span></div>
<div style="position:absolute;left:287.87px;top:375.86px" class="cls_011"><span class="cls_011">frequency. To pick it up, all you have to do is</span></div>
<div style="position:absolute;left:36.12px;top:387.65px" class="cls_011"><span class="cls_011">with the USB port. To install this, open a</span></div>
<div style="position:absolute;left:287.87px;top:390.84px" class="cls_011"><span class="cls_011">touch the test lead connected to the analog input</span></div>
<div style="position:absolute;left:36.12px;top:402.64px" class="cls_011"><span class="cls_011">command prompt in Windows or a terminal for</span></div>
<div style="position:absolute;left:287.87px;top:405.83px" class="cls_011"><span class="cls_011">and you should see a signal similar to that of</span></div>
<div style="position:absolute;left:36.12px;top:417.62px" class="cls_011"><span class="cls_011">Mac and Linux, and if using Windows type:</span></div>
<div style="position:absolute;left:287.87px;top:420.81px" class="cls_011"><span class="cls_011">Figure 7-1. Try waving your arm around near any</span></div>
<div style="position:absolute;left:287.87px;top:435.80px" class="cls_011"><span class="cls_011">electrical equipment and see how this signal</span></div>
<div style="position:absolute;left:42.11px;top:443.10px" class="cls_031"><span class="cls_031">gem install ruby-serialport</span></div>
<div style="position:absolute;left:287.87px;top:450.78px" class="cls_011"><span class="cls_011">changes.</span></div>
<div style="position:absolute;left:48.11px;top:469.07px" class="cls_011"><span class="cls_011">If you are using Mac or Linux, enter:</span></div>
<div style="position:absolute;left:299.86px;top:469.77px" class="cls_011"><span class="cls_011">As well as showing the waveform, the window</span></div>
<div style="position:absolute;left:287.87px;top:484.75px" class="cls_011"><span class="cls_011">contains a small box with a number in it. This is</span></div>
<div style="position:absolute;left:42.11px;top:494.55px" class="cls_031"><span class="cls_031">sudo gem install ruby-serialport</span></div>
<div style="position:absolute;left:287.87px;top:499.74px" class="cls_011"><span class="cls_011">the number of samples per second. Each sample</span></div>
<div style="position:absolute;left:287.87px;top:514.72px" class="cls_011"><span class="cls_011">represents one pixel across the window, and the</span></div>
<div style="position:absolute;left:48.11px;top:520.52px" class="cls_011"><span class="cls_011">If everything has worked okay, you should see a</span></div>
<div style="position:absolute;left:287.87px;top:529.71px" class="cls_011"><span class="cls_011">window is 600 pixels wide. A sample rate of 4700</span></div>
<div style="position:absolute;left:36.12px;top:535.51px" class="cls_011"><span class="cls_011">message like this:</span></div>
<div style="position:absolute;left:287.87px;top:544.69px" class="cls_011"><span class="cls_011">samples per second means that each sample has a</span></div>
<div style="position:absolute;left:42.11px;top:560.98px" class="cls_031"><span class="cls_031">Building native extensions.  This could</span></div>
<div style="position:absolute;left:287.87px;top:559.68px" class="cls_011"><span class="cls_011">duration of 1/4700 seconds and so the full width of</span></div>
<div style="position:absolute;left:60.09px;top:573.97px" class="cls_031"><span class="cls_031">take a while...</span></div>
<div style="position:absolute;left:287.87px;top:574.66px" class="cls_011"><span class="cls_011">600 samples represents 600/4700 or 128</span></div>
<div style="position:absolute;left:42.11px;top:586.96px" class="cls_031"><span class="cls_031">Successfully installed ruby-</span></div>
<div style="position:absolute;left:287.87px;top:589.65px" class="cls_011"><span class="cls_011">milliseconds. The wavelength in Figure 7-1 is</span></div>
<div style="position:absolute;left:60.09px;top:599.94px" class="cls_031"><span class="cls_031">serialport-0.7.0</span></div>
<div style="position:absolute;left:287.87px;top:604.63px" class="cls_011"><span class="cls_011">about 1/6th of that, or 21 milliseconds, which</span></div>
<div style="position:absolute;left:42.11px;top:612.93px" class="cls_031"><span class="cls_031">1 gem installed</span></div>
<div style="position:absolute;left:287.87px;top:619.62px" class="cls_011"><span class="cls_011">equals a frequency of 1/0.021 or 47.6Hz. That’s</span></div>
<div style="position:absolute;left:42.11px;top:625.92px" class="cls_031"><span class="cls_031">Installing ri documentation for</span></div>
<div style="position:absolute;left:60.09px;top:638.90px" class="cls_031"><span class="cls_031">ruby-serialport-0.7.0...</span></div>
<div style="position:absolute;left:287.87px;top:634.60px" class="cls_011"><span class="cls_011">close enough to confirm that what we are seeing</span></div>
<div style="position:absolute;left:42.11px;top:651.89px" class="cls_031"><span class="cls_031">Installing RDoc documentation for</span></div>
<div style="position:absolute;left:287.87px;top:649.59px" class="cls_011"><span class="cls_011">there is a mains frequency hum of 50Hz.</span></div>
<div style="position:absolute;left:60.09px;top:664.88px" class="cls_031"><span class="cls_031">ruby-serialport-0.7.0...</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:99060px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background128.jpg" width=552 height=770></div>
<div style="position:absolute;left:316.34px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 7</span></div>
<div style="position:absolute;left:379.65px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    Sound Projects</span></div>
<div style="position:absolute;left:503.10px;top:34.50px" class="cls_017"><span class="cls_017">111</span></div>
<div style="position:absolute;left:48.20px;top:69.16px" class="cls_011"><span class="cls_011">The amplitude of the signal, as displayed in</span></div>
<div style="position:absolute;left:287.97px;top:69.16px" class="cls_011"><span class="cls_011">frequency. If you do this, the sound produced is</span></div>
<div style="position:absolute;left:36.21px;top:84.15px" class="cls_011"><span class="cls_011">Figure 7-1, has a resolution of one pixel per</span></div>
<div style="position:absolute;left:287.97px;top:84.14px" class="cls_011"><span class="cls_011">rough and grating. This is called a </span><span class="cls_006">square wave</span><span class="cls_011">. To</span></div>
<div style="position:absolute;left:36.21px;top:99.13px" class="cls_011"><span class="cls_011">sample step, there being 256 steps. So if you</span></div>
<div style="position:absolute;left:287.97px;top:99.13px" class="cls_011"><span class="cls_011">produce a more pleasing tone, you need a signal that</span></div>
<div style="position:absolute;left:36.21px;top:114.12px" class="cls_011"><span class="cls_011">connect the two test leads together, you should see</span></div>
<div style="position:absolute;left:287.97px;top:114.11px" class="cls_011"><span class="cls_011">is more like a sine wave (see Figure 7-5).</span></div>
<div style="position:absolute;left:36.21px;top:129.10px" class="cls_011"><span class="cls_011">a horizontal line halfway across the window. This</span></div>
<div style="position:absolute;left:299.96px;top:133.10px" class="cls_011"><span class="cls_011">Generating a sine wave requires a little bit of</span></div>
<div style="position:absolute;left:36.21px;top:144.09px" class="cls_011"><span class="cls_011">corresponds to 0V and is 128 pixels from the top</span></div>
<div style="position:absolute;left:287.97px;top:148.08px" class="cls_011"><span class="cls_011">thought and effort. A first idea may be to use the</span></div>
<div style="position:absolute;left:36.21px;top:159.07px" class="cls_011"><span class="cls_011">of the screen, as the window is 256 pixels high.</span></div>
<div style="position:absolute;left:287.97px;top:163.07px" class="cls_011"><span class="cls_011">analog output of one of the pins to write out the</span></div>
<div style="position:absolute;left:36.21px;top:174.06px" class="cls_011"><span class="cls_011">This means that since the signal is about two-thirds</span></div>
<div style="position:absolute;left:287.97px;top:178.05px" class="cls_011"><span class="cls_011">waveform. However, the problem is that the analog</span></div>
<div style="position:absolute;left:36.21px;top:189.04px" class="cls_011"><span class="cls_011">of the window, the amplitude of the signal is about</span></div>
<div style="position:absolute;left:287.97px;top:193.04px" class="cls_011"><span class="cls_011">outputs from an Arduino are not true analog</span></div>
<div style="position:absolute;left:36.21px;top:204.03px" class="cls_011"><span class="cls_011">3V peak to peak.</span></div>
<div style="position:absolute;left:287.97px;top:208.02px" class="cls_011"><span class="cls_011">outputs but PWM outputs that turn on and off very</span></div>
<div style="position:absolute;left:48.20px;top:223.01px" class="cls_011"><span class="cls_011">You will notice that the sample rate changes</span></div>
<div style="position:absolute;left:287.97px;top:223.01px" class="cls_011"><span class="cls_011">rapidly. In fact, their switching frequency is at an</span></div>
<div style="position:absolute;left:36.21px;top:237.99px" class="cls_011"><span class="cls_011">quite a lot, something that reinforces that this is the</span></div>
<div style="position:absolute;left:287.97px;top:237.99px" class="cls_011"><span class="cls_011">audio frequency, so without a lot of care, our</span></div>
<div style="position:absolute;left:36.21px;top:252.98px" class="cls_011"><span class="cls_011">crudest of oscilloscopes and should not be relied</span></div>
<div style="position:absolute;left:287.97px;top:252.98px" class="cls_011"><span class="cls_011">signal will sound as bad as a square wave.</span></div>
<div style="position:absolute;left:36.21px;top:267.96px" class="cls_011"><span class="cls_011">on for anything critical.</span></div>
<div style="position:absolute;left:299.96px;top:271.96px" class="cls_011"><span class="cls_011">A better way is to use a digital-to-analog</span></div>
<div style="position:absolute;left:48.20px;top:286.94px" class="cls_011"><span class="cls_011">To alter the timebase, change the value in the</span></div>
<div style="position:absolute;left:287.97px;top:286.94px" class="cls_011"><span class="cls_011">converter, or DAC as they are known. A DAC has a</span></div>
<div style="position:absolute;left:36.21px;top:301.93px" class="cls_011"><span class="cls_011">delayMicroseconds function.</span></div>
<div style="position:absolute;left:287.97px;top:301.93px" class="cls_011"><span class="cls_011">number of digital inputs and produces an output</span></div>
<div style="position:absolute;left:287.97px;top:316.91px" class="cls_011"><span class="cls_011">voltage proportional to the digital input value.</span></div>
<div style="position:absolute;left:287.97px;top:331.90px" class="cls_011"><span class="cls_011">Fortunately, it is easy to make a simple DAC—all</span></div>
<div style="position:absolute;left:36.21px;top:342.39px" class="cls_021"><span class="cls_021">Sound Generation</span></div>
<div style="position:absolute;left:287.97px;top:346.88px" class="cls_011"><span class="cls_011">you need are resistors.</span></div>
<div style="position:absolute;left:299.96px;top:365.87px" class="cls_011"><span class="cls_011">Figure 7-6 shows a DAC made from what is</span></div>
<div style="position:absolute;left:36.21px;top:368.87px" class="cls_011"><span class="cls_011">You can generate sounds from an Arduino board by</span></div>
<div style="position:absolute;left:287.97px;top:380.85px" class="cls_011"><span class="cls_011">called an R-2R resistor ladder.</span></div>
<div style="position:absolute;left:36.21px;top:383.85px" class="cls_011"><span class="cls_011">just turning one of its pins on and off at the right</span></div>
<div style="position:absolute;left:42.21px;top:707.86px" class="cls_025"><span class="cls_025">Figure 7-5</span></div>
<div style="position:absolute;left:102.15px;top:708.85px" class="cls_026"><span class="cls_026">Square and sine waves.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:99840px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background129.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">112</span></div>
<div style="position:absolute;left:79.33px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:299.86px;top:69.16px" class="cls_011"><span class="cls_011">It uses resistors of a value R and twice R, so R</span></div>
<div style="position:absolute;left:287.87px;top:84.15px" class="cls_011"><span class="cls_011">might be 5 K   and 2R 10 K  . Each of the digital</span></div>
<div style="position:absolute;left:287.87px;top:99.13px" class="cls_011"><span class="cls_011">inputs will be connected to an Arduino digital</span></div>
<div style="position:absolute;left:287.87px;top:114.12px" class="cls_011"><span class="cls_011">output. The four digits represent the four bits of</span></div>
<div style="position:absolute;left:287.87px;top:129.10px" class="cls_011"><span class="cls_011">the digital number. So this gives us 16 different</span></div>
<div style="position:absolute;left:287.87px;top:144.09px" class="cls_011"><span class="cls_011">analog outputs, as shown in Table 7-1.</span></div>
<div style="position:absolute;left:287.87px;top:182.55px" class="cls_027"><span class="cls_027">Project 19</span></div>
<div style="position:absolute;left:287.87px;top:202.53px" class="cls_021"><span class="cls_021">Tune Player</span></div>
<div style="position:absolute;left:287.87px;top:229.01px" class="cls_011"><span class="cls_011">This project will play a series of musical notes</span></div>
<div style="position:absolute;left:287.87px;top:243.99px" class="cls_011"><span class="cls_011">through a miniature loudspeaker using a DAC to</span></div>
<div style="position:absolute;left:287.87px;top:258.98px" class="cls_011"><span class="cls_011">approximate a sine wave.</span></div>
<div style="position:absolute;left:295.88px;top:291.85px" class="cls_028"><span class="cls_028">COMPONENTS AND EQUIPMENT</span></div>
<div style="position:absolute;left:327.83px;top:315.23px" class="cls_029"><span class="cls_029">Description</span></div>
<div style="position:absolute;left:458.71px;top:315.23px" class="cls_029"><span class="cls_029">Appendix</span></div>
<div style="position:absolute;left:42.11px;top:326.40px" class="cls_025"><span class="cls_025">Figure 7-6</span></div>
<div style="position:absolute;left:102.05px;top:327.39px" class="cls_026"><span class="cls_026">DAC using an R-2R ladder.</span></div>
<div style="position:absolute;left:327.83px;top:335.21px" class="cls_026"><span class="cls_026">Arduino Diecimila or</span></div>
<div style="position:absolute;left:327.83px;top:348.20px" class="cls_026"><span class="cls_026">Duemilanove board or clone</span></div>
<div style="position:absolute;left:479.09px;top:348.20px" class="cls_026"><span class="cls_026">1</span></div>
<div style="position:absolute;left:297.86px;top:365.18px" class="cls_026"><span class="cls_026">C1</span></div>
<div style="position:absolute;left:327.83px;top:365.18px" class="cls_026"><span class="cls_026">100nF non-polarized</span></div>
<div style="position:absolute;left:474.79px;top:365.18px" class="cls_026"><span class="cls_026">20</span></div>
<div style="position:absolute;left:297.86px;top:382.16px" class="cls_026"><span class="cls_026">C2</span></div>
<div style="position:absolute;left:327.83px;top:382.16px" class="cls_026"><span class="cls_026">100   F, 16V electrolytic</span></div>
<div style="position:absolute;left:475.31px;top:382.16px" class="cls_026"><span class="cls_026">22</span></div>
<div style="position:absolute;left:297.86px;top:399.15px" class="cls_026"><span class="cls_026">R1-5</span></div>
<div style="position:absolute;left:327.84px;top:399.15px" class="cls_026"><span class="cls_026">10 K</span></div>
<div style="position:absolute;left:356.87px;top:399.15px" class="cls_026"><span class="cls_026">0.5W metal film resistor</span></div>
<div style="position:absolute;left:477.79px;top:399.15px" class="cls_026"><span class="cls_026">9</span></div>
<div style="position:absolute;left:43.11px;top:406.47px" class="cls_032"><span class="cls_032">TABLE 7-1</span></div>
<div style="position:absolute;left:101.61px;top:406.47px" class="cls_026"><span class="cls_026">Analog Output from Digital Inputs</span></div>
<div style="position:absolute;left:297.86px;top:416.13px" class="cls_026"><span class="cls_026">R6-8</span></div>
<div style="position:absolute;left:327.83px;top:416.13px" class="cls_026"><span class="cls_026">4.7 K</span></div>
<div style="position:absolute;left:360.63px;top:416.13px" class="cls_026"><span class="cls_026">0.5W metal film resistor</span></div>
<div style="position:absolute;left:477.87px;top:416.13px" class="cls_026"><span class="cls_026">8</span></div>
<div style="position:absolute;left:43.11px;top:430.25px" class="cls_029"><span class="cls_029">D3</span></div>
<div style="position:absolute;left:84.79px;top:430.25px" class="cls_029"><span class="cls_029">D2</span></div>
<div style="position:absolute;left:133.72px;top:430.25px" class="cls_029"><span class="cls_029">D1</span></div>
<div style="position:absolute;left:177.80px;top:430.25px" class="cls_029"><span class="cls_029">D0</span></div>
<div style="position:absolute;left:218.83px;top:430.25px" class="cls_029"><span class="cls_029">Output</span></div>
<div style="position:absolute;left:297.86px;top:433.12px" class="cls_026"><span class="cls_026">R9</span></div>
<div style="position:absolute;left:327.83px;top:433.12px" class="cls_026"><span class="cls_026">1 M</span></div>
<div style="position:absolute;left:351.78px;top:433.12px" class="cls_026"><span class="cls_026">0.5W metal film resistor</span></div>
<div style="position:absolute;left:476.34px;top:433.12px" class="cls_026"><span class="cls_026">15</span></div>
<div style="position:absolute;left:45.89px;top:450.23px" class="cls_026"><span class="cls_026">0</span></div>
<div style="position:absolute;left:87.85px;top:450.23px" class="cls_026"><span class="cls_026">0</span></div>
<div style="position:absolute;left:135.80px;top:450.23px" class="cls_026"><span class="cls_026">0</span></div>
<div style="position:absolute;left:181.36px;top:450.23px" class="cls_026"><span class="cls_026">0</span></div>
<div style="position:absolute;left:231.71px;top:450.23px" class="cls_026"><span class="cls_026">0</span></div>
<div style="position:absolute;left:297.86px;top:450.10px" class="cls_026"><span class="cls_026">R10</span></div>
<div style="position:absolute;left:327.83px;top:450.10px" class="cls_026"><span class="cls_026">100 K   linear potentiometer</span></div>
<div style="position:absolute;left:476.34px;top:450.10px" class="cls_026"><span class="cls_026">13</span></div>
<div style="position:absolute;left:45.89px;top:467.21px" class="cls_026"><span class="cls_026">0</span></div>
<div style="position:absolute;left:87.85px;top:467.21px" class="cls_026"><span class="cls_026">0</span></div>
<div style="position:absolute;left:135.80px;top:467.21px" class="cls_026"><span class="cls_026">0</span></div>
<div style="position:absolute;left:182.96px;top:467.21px" class="cls_026"><span class="cls_026">1</span></div>
<div style="position:absolute;left:233.31px;top:467.21px" class="cls_026"><span class="cls_026">1</span></div>
<div style="position:absolute;left:297.86px;top:467.08px" class="cls_026"><span class="cls_026">IC1</span></div>
<div style="position:absolute;left:327.84px;top:467.08px" class="cls_026"><span class="cls_026">TDA7052 1W audio amplifier</span></div>
<div style="position:absolute;left:475.18px;top:467.08px" class="cls_026"><span class="cls_026">47</span></div>
<div style="position:absolute;left:45.89px;top:484.20px" class="cls_026"><span class="cls_026">0</span></div>
<div style="position:absolute;left:87.85px;top:484.20px" class="cls_026"><span class="cls_026">0</span></div>
<div style="position:absolute;left:137.41px;top:484.20px" class="cls_026"><span class="cls_026">1</span></div>
<div style="position:absolute;left:181.36px;top:484.20px" class="cls_026"><span class="cls_026">0</span></div>
<div style="position:absolute;left:232.23px;top:484.20px" class="cls_026"><span class="cls_026">2</span></div>
<div style="position:absolute;left:327.83px;top:484.07px" class="cls_026"><span class="cls_026">Miniature 8    loudspeaker</span></div>
<div style="position:absolute;left:475.06px;top:484.07px" class="cls_026"><span class="cls_026">59</span></div>
<div style="position:absolute;left:45.89px;top:501.18px" class="cls_026"><span class="cls_026">0</span></div>
<div style="position:absolute;left:87.85px;top:501.18px" class="cls_026"><span class="cls_026">0</span></div>
<div style="position:absolute;left:137.41px;top:501.18px" class="cls_026"><span class="cls_026">1</span></div>
<div style="position:absolute;left:182.96px;top:501.18px" class="cls_026"><span class="cls_026">1</span></div>
<div style="position:absolute;left:232.17px;top:501.18px" class="cls_026"><span class="cls_026">3</span></div>
<div style="position:absolute;left:45.89px;top:518.16px" class="cls_026"><span class="cls_026">0</span></div>
<div style="position:absolute;left:89.45px;top:518.16px" class="cls_026"><span class="cls_026">1</span></div>
<div style="position:absolute;left:135.80px;top:518.16px" class="cls_026"><span class="cls_026">0</span></div>
<div style="position:absolute;left:181.36px;top:518.16px" class="cls_026"><span class="cls_026">0</span></div>
<div style="position:absolute;left:231.91px;top:518.16px" class="cls_026"><span class="cls_026">4</span></div>
<div style="position:absolute;left:299.86px;top:517.72px" class="cls_011"><span class="cls_011">If you can get a miniature loudspeaker with</span></div>
<div style="position:absolute;left:45.89px;top:535.15px" class="cls_026"><span class="cls_026">0</span></div>
<div style="position:absolute;left:89.45px;top:535.15px" class="cls_026"><span class="cls_026">1</span></div>
<div style="position:absolute;left:135.80px;top:535.15px" class="cls_026"><span class="cls_026">0</span></div>
<div style="position:absolute;left:182.96px;top:535.15px" class="cls_026"><span class="cls_026">1</span></div>
<div style="position:absolute;left:232.17px;top:535.15px" class="cls_026"><span class="cls_026">5</span></div>
<div style="position:absolute;left:287.87px;top:532.71px" class="cls_011"><span class="cls_011">leads for soldering to a PCB, then this can be</span></div>
<div style="position:absolute;left:287.87px;top:547.69px" class="cls_011"><span class="cls_011">plugged directly into the breadboard. If not, you</span></div>
<div style="position:absolute;left:45.89px;top:552.13px" class="cls_026"><span class="cls_026">0</span></div>
<div style="position:absolute;left:89.45px;top:552.13px" class="cls_026"><span class="cls_026">1</span></div>
<div style="position:absolute;left:137.41px;top:552.13px" class="cls_026"><span class="cls_026">1</span></div>
<div style="position:absolute;left:181.36px;top:552.13px" class="cls_026"><span class="cls_026">0</span></div>
<div style="position:absolute;left:232.01px;top:552.13px" class="cls_026"><span class="cls_026">6</span></div>
<div style="position:absolute;left:287.87px;top:562.68px" class="cls_011"><span class="cls_011">will either have to solder short lengths of solid-</span></div>
<div style="position:absolute;left:45.89px;top:569.11px" class="cls_026"><span class="cls_026">0</span></div>
<div style="position:absolute;left:89.45px;top:569.11px" class="cls_026"><span class="cls_026">1</span></div>
<div style="position:absolute;left:137.41px;top:569.11px" class="cls_026"><span class="cls_026">1</span></div>
<div style="position:absolute;left:182.96px;top:569.11px" class="cls_026"><span class="cls_026">1</span></div>
<div style="position:absolute;left:232.24px;top:569.11px" class="cls_026"><span class="cls_026">7</span></div>
<div style="position:absolute;left:287.87px;top:577.66px" class="cls_011"><span class="cls_011">core wire to the terminals or, if you do not have</span></div>
<div style="position:absolute;left:47.50px;top:586.10px" class="cls_026"><span class="cls_026">1</span></div>
<div style="position:absolute;left:87.85px;top:586.10px" class="cls_026"><span class="cls_026">0</span></div>
<div style="position:absolute;left:135.80px;top:586.10px" class="cls_026"><span class="cls_026">0</span></div>
<div style="position:absolute;left:181.36px;top:586.10px" class="cls_026"><span class="cls_026">0</span></div>
<div style="position:absolute;left:232.09px;top:586.10px" class="cls_026"><span class="cls_026">8</span></div>
<div style="position:absolute;left:287.87px;top:592.65px" class="cls_011"><span class="cls_011">access to a soldering iron, carefully twist some</span></div>
<div style="position:absolute;left:47.50px;top:603.08px" class="cls_026"><span class="cls_026">1</span></div>
<div style="position:absolute;left:87.85px;top:603.08px" class="cls_026"><span class="cls_026">0</span></div>
<div style="position:absolute;left:135.80px;top:603.08px" class="cls_026"><span class="cls_026">0</span></div>
<div style="position:absolute;left:182.96px;top:603.08px" class="cls_026"><span class="cls_026">1</span></div>
<div style="position:absolute;left:232.01px;top:603.08px" class="cls_026"><span class="cls_026">9</span></div>
<div style="position:absolute;left:287.87px;top:607.63px" class="cls_011"><span class="cls_011">wires round the terminals.</span></div>
<div style="position:absolute;left:47.50px;top:620.07px" class="cls_026"><span class="cls_026">1</span></div>
<div style="position:absolute;left:87.85px;top:620.07px" class="cls_026"><span class="cls_026">0</span></div>
<div style="position:absolute;left:137.41px;top:620.07px" class="cls_026"><span class="cls_026">1</span></div>
<div style="position:absolute;left:181.36px;top:620.07px" class="cls_026"><span class="cls_026">0</span></div>
<div style="position:absolute;left:230.10px;top:620.07px" class="cls_026"><span class="cls_026">10</span></div>
<div style="position:absolute;left:47.50px;top:637.05px" class="cls_026"><span class="cls_026">1</span></div>
<div style="position:absolute;left:87.85px;top:637.05px" class="cls_026"><span class="cls_026">0</span></div>
<div style="position:absolute;left:137.41px;top:637.05px" class="cls_026"><span class="cls_026">1</span></div>
<div style="position:absolute;left:182.96px;top:637.05px" class="cls_026"><span class="cls_026">1</span></div>
<div style="position:absolute;left:231.71px;top:637.05px" class="cls_026"><span class="cls_026">11</span></div>
<div style="position:absolute;left:47.50px;top:654.03px" class="cls_026"><span class="cls_026">1</span></div>
<div style="position:absolute;left:89.45px;top:654.03px" class="cls_026"><span class="cls_026">1</span></div>
<div style="position:absolute;left:135.80px;top:654.03px" class="cls_026"><span class="cls_026">0</span></div>
<div style="position:absolute;left:181.36px;top:654.03px" class="cls_026"><span class="cls_026">0</span></div>
<div style="position:absolute;left:230.62px;top:654.03px" class="cls_026"><span class="cls_026">12</span></div>
<div style="position:absolute;left:47.50px;top:671.02px" class="cls_026"><span class="cls_026">1</span></div>
<div style="position:absolute;left:89.45px;top:671.02px" class="cls_026"><span class="cls_026">1</span></div>
<div style="position:absolute;left:135.80px;top:671.02px" class="cls_026"><span class="cls_026">0</span></div>
<div style="position:absolute;left:182.96px;top:671.02px" class="cls_026"><span class="cls_026">1</span></div>
<div style="position:absolute;left:230.56px;top:671.02px" class="cls_026"><span class="cls_026">13</span></div>
<div style="position:absolute;left:47.50px;top:688.00px" class="cls_026"><span class="cls_026">1</span></div>
<div style="position:absolute;left:89.45px;top:688.00px" class="cls_026"><span class="cls_026">1</span></div>
<div style="position:absolute;left:137.41px;top:688.00px" class="cls_026"><span class="cls_026">1</span></div>
<div style="position:absolute;left:181.36px;top:688.00px" class="cls_026"><span class="cls_026">0</span></div>
<div style="position:absolute;left:230.30px;top:688.00px" class="cls_026"><span class="cls_026">14</span></div>
<div style="position:absolute;left:47.50px;top:704.98px" class="cls_026"><span class="cls_026">1</span></div>
<div style="position:absolute;left:89.45px;top:704.98px" class="cls_026"><span class="cls_026">1</span></div>
<div style="position:absolute;left:137.41px;top:704.98px" class="cls_026"><span class="cls_026">1</span></div>
<div style="position:absolute;left:182.96px;top:704.98px" class="cls_026"><span class="cls_026">1</span></div>
<div style="position:absolute;left:230.56px;top:704.98px" class="cls_026"><span class="cls_026">15</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:100620px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background130.jpg" width=552 height=770></div>
<div style="position:absolute;left:314.35px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 7</span></div>
<div style="position:absolute;left:377.66px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    Sound Projects</span></div>
<div style="position:absolute;left:501.11px;top:34.50px" class="cls_017"><span class="cls_017">113</span></div>
<div style="position:absolute;left:36.21px;top:70.07px" class="cls_005"><span class="cls_005">Hardware</span></div>
<div style="position:absolute;left:287.97px;top:69.16px" class="cls_011"><span class="cls_011">resistor ladder by at least a factor of 10, depending</span></div>
<div style="position:absolute;left:287.97px;top:84.14px" class="cls_011"><span class="cls_011">on the setting of the variable resistor.</span></div>
<div style="position:absolute;left:36.21px;top:93.55px" class="cls_011"><span class="cls_011">To try and keep the number of components to a</span></div>
<div style="position:absolute;left:36.21px;top:108.53px" class="cls_011"><span class="cls_011">minimum, we have used an integrated circuit to</span></div>
<div style="position:absolute;left:287.97px;top:117.11px" class="cls_005"><span class="cls_005">Software</span></div>
<div style="position:absolute;left:36.21px;top:123.52px" class="cls_011"><span class="cls_011">amplify the signal and drive the loudspeaker. The</span></div>
<div style="position:absolute;left:36.21px;top:138.50px" class="cls_011"><span class="cls_011">TDA7052 IC provides 1W of power output in an</span></div>
<div style="position:absolute;left:287.97px;top:140.59px" class="cls_011"><span class="cls_011">To generate a sine wave, the sketch steps through a</span></div>
<div style="position:absolute;left:36.21px;top:153.49px" class="cls_011"><span class="cls_011">easy-to-use little eight-pin chip.</span></div>
<div style="position:absolute;left:287.97px;top:155.58px" class="cls_011"><span class="cls_011">series of values held in the sin16 array. Theses</span></div>
<div style="position:absolute;left:48.20px;top:172.47px" class="cls_011"><span class="cls_011">Figure 7-7 shows the schematic diagram for</span></div>
<div style="position:absolute;left:287.97px;top:170.56px" class="cls_011"><span class="cls_011">values are shown plotted on a chart in Figure 7-9.</span></div>
<div style="position:absolute;left:36.21px;top:187.45px" class="cls_011"><span class="cls_011">Project 19 and the breadboard layout is shown in</span></div>
<div style="position:absolute;left:287.97px;top:185.55px" class="cls_011"><span class="cls_011">It is not the smoothest sine wave in the world, but</span></div>
<div style="position:absolute;left:36.21px;top:202.44px" class="cls_011"><span class="cls_011">Figure 7-8.</span></div>
<div style="position:absolute;left:287.97px;top:200.53px" class="cls_011"><span class="cls_011">is a definite improvement over a square wave (see</span></div>
<div style="position:absolute;left:287.97px;top:215.52px" class="cls_011"><span class="cls_011">Listing Project 19).</span></div>
<div style="position:absolute;left:48.20px;top:221.42px" class="cls_011"><span class="cls_011">C1 is used to link the output of the ADC to the</span></div>
<div style="position:absolute;left:36.21px;top:236.41px" class="cls_011"><span class="cls_011">input of the amplifier, and C2 is used as a</span></div>
<div style="position:absolute;left:299.96px;top:234.50px" class="cls_011"><span class="cls_011">The playNote function is the key to generating</span></div>
<div style="position:absolute;left:36.21px;top:251.39px" class="cls_011"><span class="cls_011">decoupling capacitor that shunts any noise on the</span></div>
<div style="position:absolute;left:287.97px;top:249.48px" class="cls_011"><span class="cls_011">the note. The pitch of the note generated is</span></div>
<div style="position:absolute;left:36.21px;top:266.38px" class="cls_011"><span class="cls_011">power lines to ground. This should be positioned</span></div>
<div style="position:absolute;left:287.97px;top:264.47px" class="cls_011"><span class="cls_011">controlled by the delay after each step of the signal.</span></div>
<div style="position:absolute;left:36.21px;top:281.36px" class="cls_011"><span class="cls_011">as close as possible to IC1.</span></div>
<div style="position:absolute;left:287.97px;top:279.45px" class="cls_011"><span class="cls_011">The loop to write out the waveform is itself inside a</span></div>
<div style="position:absolute;left:287.97px;top:294.44px" class="cls_011"><span class="cls_011">loop that writes out a number of cycles sufficient to</span></div>
<div style="position:absolute;left:48.20px;top:300.34px" class="cls_011"><span class="cls_011">R9 and the variable resistor R10 form a</span></div>
<div style="position:absolute;left:287.97px;top:309.42px" class="cls_011"><span class="cls_011">make each note about the same duration.</span></div>
<div style="position:absolute;left:36.21px;top:315.33px" class="cls_011"><span class="cls_011">potential divider to reduce the signal from the</span></div>
<div style="position:absolute;left:42.21px;top:707.86px" class="cls_025"><span class="cls_025">Figure 7-7</span></div>
<div style="position:absolute;left:102.15px;top:708.85px" class="cls_026"><span class="cls_026">Schematic diagram for Project 19.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:101400px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background131.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">114</span></div>
<div style="position:absolute;left:80.00px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:42.11px;top:243.32px" class="cls_025"><span class="cls_025">Figure 7-8</span></div>
<div style="position:absolute;left:102.05px;top:244.30px" class="cls_026"><span class="cls_026">Breadboard layout for Project 19.</span></div>
<div style="position:absolute;left:43.11px;top:303.05px" class="cls_032"><span class="cls_032">LISTING PROJECT 19</span></div>
<div style="position:absolute;left:52.10px;top:325.29px" class="cls_031"><span class="cls_031">int dacPins[] = {2, 4, 7, 8};</span></div>
<div style="position:absolute;left:52.10px;top:338.27px" class="cls_031"><span class="cls_031">int sin16[] = {7, 8, 10, 11, 12, 13, 14, 14, 15, 14, 14, 13, 12, 11,</span></div>
<div style="position:absolute;left:135.16px;top:351.26px" class="cls_031"><span class="cls_031">10, 8, 7, 6, 4, 3, 2, 1, 0, 0, 0, 0, 0, 1, 2, 3, 4, 6};</span></div>
<div style="position:absolute;left:52.10px;top:377.23px" class="cls_031"><span class="cls_031">int lowToneDurations[] = {120, 105, 98, 89, 78, 74, 62};</span></div>
<div style="position:absolute;left:52.10px;top:390.22px" class="cls_031"><span class="cls_031">//</span></div>
<div style="position:absolute;left:211.20px;top:390.22px" class="cls_031"><span class="cls_031">A</span></div>
<div style="position:absolute;left:240.33px;top:390.22px" class="cls_031"><span class="cls_031">B</span></div>
<div style="position:absolute;left:263.52px;top:390.22px" class="cls_031"><span class="cls_031">C</span></div>
<div style="position:absolute;left:286.71px;top:390.22px" class="cls_031"><span class="cls_031">D</span></div>
<div style="position:absolute;left:315.83px;top:390.22px" class="cls_031"><span class="cls_031">E  F</span></div>
<div style="position:absolute;left:356.28px;top:390.22px" class="cls_031"><span class="cls_031">G</span></div>
<div style="position:absolute;left:52.10px;top:403.21px" class="cls_031"><span class="cls_031">int highToneDurations[] = { 54, 45, 42, 36, 28, 26, 22 };</span></div>
<div style="position:absolute;left:52.10px;top:416.19px" class="cls_031"><span class="cls_031">//</span></div>
<div style="position:absolute;left:223.07px;top:416.19px" class="cls_031"><span class="cls_031">a</span></div>
<div style="position:absolute;left:246.26px;top:416.19px" class="cls_031"><span class="cls_031">b</span></div>
<div style="position:absolute;left:269.45px;top:416.19px" class="cls_031"><span class="cls_031">c</span></div>
<div style="position:absolute;left:292.64px;top:416.19px" class="cls_031"><span class="cls_031">d</span></div>
<div style="position:absolute;left:315.83px;top:416.19px" class="cls_031"><span class="cls_031">e</span></div>
<div style="position:absolute;left:339.03px;top:416.19px" class="cls_031"><span class="cls_031">f</span></div>
<div style="position:absolute;left:362.22px;top:416.19px" class="cls_031"><span class="cls_031">g</span></div>
<div style="position:absolute;left:52.10px;top:442.17px" class="cls_031"><span class="cls_031">// Scale</span></div>
<div style="position:absolute;left:52.10px;top:455.16px" class="cls_031"><span class="cls_031">//char* song = "A B C D E F G a b c d e f g";</span></div>
<div style="position:absolute;left:52.10px;top:481.13px" class="cls_031"><span class="cls_031">// Jingle Bells</span></div>
<div style="position:absolute;left:52.10px;top:494.12px" class="cls_031"><span class="cls_031">//char* song = "E E EE E E EE E G C D EEEE F F F F F E E E E D D E DD GG E E EE</span></div>
<div style="position:absolute;left:70.08px;top:507.10px" class="cls_031"><span class="cls_031">E E EE E G C D EEEE F F F F F E E E G G F D CCCC";</span></div>
<div style="position:absolute;left:52.10px;top:533.08px" class="cls_031"><span class="cls_031">// Jingle Bells - Higher</span></div>
<div style="position:absolute;left:52.10px;top:546.07px" class="cls_031"><span class="cls_031">char* song = "e e ee e e ee e g c d eeee f f f f f e e e e d d e dd gg e e ee e</span></div>
<div style="position:absolute;left:70.08px;top:559.05px" class="cls_031"><span class="cls_031">e ee e g c d eeee f f f f f e e e g g f d cccc";</span></div>
<div style="position:absolute;left:52.10px;top:598.01px" class="cls_031"><span class="cls_031">void setup()</span></div>
<div style="position:absolute;left:52.10px;top:611.00px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:63.97px;top:623.99px" class="cls_031"><span class="cls_031">for (int i = 0; i &lt; 4; i++)</span></div>
<div style="position:absolute;left:63.97px;top:636.98px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.83px;top:649.96px" class="cls_031"><span class="cls_031">pinMode(dacPins[i], OUTPUT);</span></div>
<div style="position:absolute;left:63.97px;top:662.95px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.10px;top:675.94px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.10px;top:701.91px" class="cls_031"><span class="cls_031">void loop()</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:102180px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background132.jpg" width=552 height=770></div>
<div style="position:absolute;left:314.26px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 7</span></div>
<div style="position:absolute;left:377.57px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    Sound Projects</span></div>
<div style="position:absolute;left:501.02px;top:34.50px" class="cls_017"><span class="cls_017">115</span></div>
<div style="position:absolute;left:43.21px;top:76.46px" class="cls_032"><span class="cls_032">LISTING PROJECT 19 (continued)</span></div>
<div style="position:absolute;left:52.20px;top:98.70px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:64.06px;top:111.69px" class="cls_031"><span class="cls_031">int i = 0;</span></div>
<div style="position:absolute;left:64.06px;top:124.68px" class="cls_031"><span class="cls_031">char ch = song[0];</span></div>
<div style="position:absolute;left:64.06px;top:137.66px" class="cls_031"><span class="cls_031">while (ch != 0)</span></div>
<div style="position:absolute;left:64.06px;top:150.65px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.93px;top:163.64px" class="cls_031"><span class="cls_031">if (ch == ' ')</span></div>
<div style="position:absolute;left:75.93px;top:176.63px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:87.79px;top:189.61px" class="cls_031"><span class="cls_031">delay(75);</span></div>
<div style="position:absolute;left:75.93px;top:202.60px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:75.93px;top:215.59px" class="cls_031"><span class="cls_031">else if (ch >= 'A' and ch &lt;= 'G')</span></div>
<div style="position:absolute;left:75.93px;top:228.57px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:87.79px;top:241.56px" class="cls_031"><span class="cls_031">playNote(lowToneDurations[ch - 'A']);</span></div>
<div style="position:absolute;left:75.93px;top:254.55px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:75.93px;top:267.54px" class="cls_031"><span class="cls_031">else if (ch >= 'a' and ch &lt;= 'g')</span></div>
<div style="position:absolute;left:75.93px;top:280.52px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:87.79px;top:293.51px" class="cls_031"><span class="cls_031">playNote(highToneDurations[ch - 'a']);</span></div>
<div style="position:absolute;left:75.93px;top:306.50px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:75.93px;top:319.48px" class="cls_031"><span class="cls_031">i++;</span></div>
<div style="position:absolute;left:75.93px;top:332.47px" class="cls_031"><span class="cls_031">ch = song[i];</span></div>
<div style="position:absolute;left:64.06px;top:345.46px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:64.06px;top:371.43px" class="cls_031"><span class="cls_031">delay(5000);</span></div>
<div style="position:absolute;left:52.20px;top:384.42px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.20px;top:410.39px" class="cls_031"><span class="cls_031">void setOutput(byte value)</span></div>
<div style="position:absolute;left:52.20px;top:423.38px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.93px;top:436.37px" class="cls_031"><span class="cls_031">digitalWrite(dacPins[3], ((value & 8) > 0));</span></div>
<div style="position:absolute;left:75.93px;top:449.35px" class="cls_031"><span class="cls_031">digitalWrite(dacPins[2], ((value & 4) > 0));</span></div>
<div style="position:absolute;left:75.93px;top:462.34px" class="cls_031"><span class="cls_031">digitalWrite(dacPins[1], ((value & 2) > 0));</span></div>
<div style="position:absolute;left:75.93px;top:475.33px" class="cls_031"><span class="cls_031">digitalWrite(dacPins[0], ((value & 1) > 0));</span></div>
<div style="position:absolute;left:52.20px;top:488.32px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.20px;top:514.29px" class="cls_031"><span class="cls_031">void playNote(int pitchDelay)</span></div>
<div style="position:absolute;left:52.20px;top:527.28px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:64.06px;top:540.26px" class="cls_031"><span class="cls_031">long numCycles = 5000 / pitchDelay + (pitchDelay / 4);</span></div>
<div style="position:absolute;left:64.06px;top:553.25px" class="cls_031"><span class="cls_031">for (int c = 0; c &lt; numCycles; c++)</span></div>
<div style="position:absolute;left:64.06px;top:566.24px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.93px;top:579.23px" class="cls_031"><span class="cls_031">for (int i = 0; i &lt; 32; i++)</span></div>
<div style="position:absolute;left:75.93px;top:592.21px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:87.79px;top:605.20px" class="cls_031"><span class="cls_031">setOutput(sin16[i]);</span></div>
<div style="position:absolute;left:87.79px;top:618.19px" class="cls_031"><span class="cls_031">delayMicroseconds(pitchDelay);</span></div>
<div style="position:absolute;left:75.93px;top:631.17px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:64.06px;top:644.16px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.20px;top:657.15px" class="cls_031"><span class="cls_031">}</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:102960px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background133.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">116</span></div>
<div style="position:absolute;left:79.73px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:42.11px;top:357.97px" class="cls_025"><span class="cls_025">Figure 7-9</span></div>
<div style="position:absolute;left:102.05px;top:358.96px" class="cls_026"><span class="cls_026">A plot of the sin16 array.</span></div>
<div style="position:absolute;left:48.11px;top:387.85px" class="cls_011"><span class="cls_011">The playNote function calls setOutput to set the</span></div>
<div style="position:absolute;left:299.86px;top:387.85px" class="cls_011"><span class="cls_011">You might like to change the tune played from</span></div>
<div style="position:absolute;left:36.12px;top:402.84px" class="cls_011"><span class="cls_011">value of the four digital pins connected to the</span></div>
<div style="position:absolute;left:287.87px;top:402.83px" class="cls_011"><span class="cls_011">“Jingle Bells.” To do this, just comment out the</span></div>
<div style="position:absolute;left:36.12px;top:417.82px" class="cls_011"><span class="cls_011">resistor ladder. The & (and) operator is used to</span></div>
<div style="position:absolute;left:287.87px;top:417.82px" class="cls_011"><span class="cls_011">line starting with “char* song =” by putting // in</span></div>
<div style="position:absolute;left:36.12px;top:432.81px" class="cls_011"><span class="cls_011">mask the value so that we only see the value of the</span></div>
<div style="position:absolute;left:287.87px;top:432.80px" class="cls_011"><span class="cls_011">front of it and then define your own array.</span></div>
<div style="position:absolute;left:36.12px;top:447.79px" class="cls_011"><span class="cls_011">bit we are interested in.</span></div>
<div style="position:absolute;left:299.86px;top:451.79px" class="cls_011"><span class="cls_011">The notation works as follows. There are two</span></div>
<div style="position:absolute;left:48.11px;top:466.77px" class="cls_011"><span class="cls_011">Tunes are played from an array of characters,</span></div>
<div style="position:absolute;left:287.87px;top:466.77px" class="cls_011"><span class="cls_011">octaves, and high notes are lowercase “a” to “g”</span></div>
<div style="position:absolute;left:36.12px;top:481.76px" class="cls_011"><span class="cls_011">each character corresponding to a note, and a space</span></div>
<div style="position:absolute;left:287.87px;top:481.76px" class="cls_011"><span class="cls_011">and low notes “A” to “G.” For a longer duration</span></div>
<div style="position:absolute;left:36.12px;top:496.74px" class="cls_011"><span class="cls_011">corresponding to the silence between notes. The</span></div>
<div style="position:absolute;left:287.87px;top:496.74px" class="cls_011"><span class="cls_011">note, just repeat the note letter without putting a</span></div>
<div style="position:absolute;left:36.12px;top:511.73px" class="cls_011"><span class="cls_011">main loop looks at each letter in the song variable</span></div>
<div style="position:absolute;left:287.87px;top:511.73px" class="cls_011"><span class="cls_011">space in between.</span></div>
<div style="position:absolute;left:36.12px;top:526.71px" class="cls_011"><span class="cls_011">and plays it. When the whole song is played, there</span></div>
<div style="position:absolute;left:299.86px;top:530.71px" class="cls_011"><span class="cls_011">You will have noticed that the quality is not</span></div>
<div style="position:absolute;left:36.12px;top:541.70px" class="cls_011"><span class="cls_011">is a pause of five seconds and then the song begins</span></div>
<div style="position:absolute;left:287.87px;top:545.69px" class="cls_011"><span class="cls_011">great. It is still a lot less nasty than using a square</span></div>
<div style="position:absolute;left:36.12px;top:556.68px" class="cls_011"><span class="cls_011">again.</span></div>
<div style="position:absolute;left:287.87px;top:560.68px" class="cls_011"><span class="cls_011">wave, but is a long way from the tunefulness of a</span></div>
<div style="position:absolute;left:48.11px;top:575.66px" class="cls_011"><span class="cls_011">The Evil Genius will find this project useful for</span></div>
<div style="position:absolute;left:287.87px;top:575.66px" class="cls_011"><span class="cls_011">real musical instrument, where each note has an</span></div>
<div style="position:absolute;left:36.12px;top:590.65px" class="cls_011"><span class="cls_011">inflicting discomfort on his or her enemies.</span></div>
<div style="position:absolute;left:287.87px;top:590.65px" class="cls_011"><span class="cls_011">“envelope” where the amplitude (volume) of the</span></div>
<div style="position:absolute;left:287.87px;top:605.63px" class="cls_011"><span class="cls_011">note varies with the note as it is played.</span></div>
<div style="position:absolute;left:36.12px;top:623.62px" class="cls_005"><span class="cls_005">Putting It All Together</span></div>
<div style="position:absolute;left:36.12px;top:647.10px" class="cls_011"><span class="cls_011">Load the completed sketch for Project 19 from</span></div>
<div style="position:absolute;left:36.12px;top:662.08px" class="cls_011"><span class="cls_011">your Arduino Sketchbook and download it to the</span></div>
<div style="position:absolute;left:36.12px;top:677.07px" class="cls_011"><span class="cls_011">board (see Chapter 1).</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:103740px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background134.jpg" width=552 height=770></div>
<div style="position:absolute;left:314.37px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 7</span></div>
<div style="position:absolute;left:377.68px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    Sound Projects</span></div>
<div style="position:absolute;left:501.13px;top:34.50px" class="cls_017"><span class="cls_017">117</span></div>
<div style="position:absolute;left:287.97px;top:70.07px" class="cls_005"><span class="cls_005">Hardware</span></div>
<div style="position:absolute;left:36.21px;top:69.07px" class="cls_027"><span class="cls_027">Project 20</span></div>
<div style="position:absolute;left:36.21px;top:89.05px" class="cls_021"><span class="cls_021">Light Harp</span></div>
<div style="position:absolute;left:287.97px;top:93.55px" class="cls_011"><span class="cls_011">The volume of the sound will be controlled using a</span></div>
<div style="position:absolute;left:287.97px;top:108.53px" class="cls_011"><span class="cls_011">PWM output (D6) connected to the volume control</span></div>
<div style="position:absolute;left:36.21px;top:115.52px" class="cls_011"><span class="cls_011">This project is really an adaptation of Project 19</span></div>
<div style="position:absolute;left:287.97px;top:123.52px" class="cls_011"><span class="cls_011">input of the TDA7052. We want to eliminate all</span></div>
<div style="position:absolute;left:36.21px;top:130.51px" class="cls_011"><span class="cls_011">that uses two light sensors (LDRs): one that</span></div>
<div style="position:absolute;left:287.97px;top:138.50px" class="cls_011"><span class="cls_011">traces of the PWM pulses so we can pass the</span></div>
<div style="position:absolute;left:36.21px;top:145.49px" class="cls_011"><span class="cls_011">controls the pitch of the sound, the other to control</span></div>
<div style="position:absolute;left:287.97px;top:153.49px" class="cls_011"><span class="cls_011">output through a low-pass filter consisting of R11</span></div>
<div style="position:absolute;left:36.21px;top:160.48px" class="cls_011"><span class="cls_011">the volume. This is inspired by the Theremin</span></div>
<div style="position:absolute;left:287.97px;top:168.47px" class="cls_011"><span class="cls_011">and C3. This allows only slow changes in the</span></div>
<div style="position:absolute;left:36.21px;top:175.46px" class="cls_011"><span class="cls_011">musical instrument that is played by mysteriously</span></div>
<div style="position:absolute;left:287.97px;top:183.46px" class="cls_011"><span class="cls_011">signal to get past. One way to think of this is to</span></div>
<div style="position:absolute;left:36.21px;top:190.45px" class="cls_011"><span class="cls_011">waving your hands about between two antennae. In</span></div>
<div style="position:absolute;left:287.97px;top:198.44px" class="cls_011"><span class="cls_011">pretend that the capacitor C3 is a bucket that is</span></div>
<div style="position:absolute;left:36.21px;top:205.43px" class="cls_011"><span class="cls_011">actual fact, this project produces a sound more like</span></div>
<div style="position:absolute;left:287.97px;top:213.43px" class="cls_011"><span class="cls_011">filled with charge from resistor R11. Rapid</span></div>
<div style="position:absolute;left:36.21px;top:220.42px" class="cls_011"><span class="cls_011">a bagpipe than a harp, but it is quite fun.</span></div>
<div style="position:absolute;left:287.97px;top:228.41px" class="cls_011"><span class="cls_011">fluctuations in the signal will have little effect, as</span></div>
<div style="position:absolute;left:287.97px;top:243.40px" class="cls_011"><span class="cls_011">there is a smoothing (integration) of the signal.</span></div>
<div style="position:absolute;left:44.22px;top:259.09px" class="cls_028"><span class="cls_028">COMPONENTS AND EQUIPMENT</span></div>
<div style="position:absolute;left:299.96px;top:262.38px" class="cls_011"><span class="cls_011">Figures 7-10 and 7-11 show the schematic</span></div>
<div style="position:absolute;left:287.97px;top:277.36px" class="cls_011"><span class="cls_011">diagram and breadboard layout for the project and</span></div>
<div style="position:absolute;left:88.16px;top:282.46px" class="cls_029"><span class="cls_029">Description</span></div>
<div style="position:absolute;left:209.65px;top:282.46px" class="cls_029"><span class="cls_029">Appendix</span></div>
<div style="position:absolute;left:287.97px;top:292.35px" class="cls_011"><span class="cls_011">you can see the final project in Figure 7-12.</span></div>
<div style="position:absolute;left:88.16px;top:302.44px" class="cls_026"><span class="cls_026">Arduino Diecimila or</span></div>
<div style="position:absolute;left:88.16px;top:315.43px" class="cls_026"><span class="cls_026">Duemilanove board or clone</span></div>
<div style="position:absolute;left:230.03px;top:315.43px" class="cls_026"><span class="cls_026">1</span></div>
<div style="position:absolute;left:299.96px;top:311.33px" class="cls_011"><span class="cls_011">The LDRs, R14 and R15, are positioned at</span></div>
<div style="position:absolute;left:287.97px;top:326.32px" class="cls_011"><span class="cls_011">opposite ends of the breadboard to make it easier</span></div>
<div style="position:absolute;left:46.20px;top:332.41px" class="cls_026"><span class="cls_026">C1</span></div>
<div style="position:absolute;left:88.16px;top:332.41px" class="cls_026"><span class="cls_026">100nF un-polarized</span></div>
<div style="position:absolute;left:225.73px;top:332.41px" class="cls_026"><span class="cls_026">20</span></div>
<div style="position:absolute;left:287.97px;top:341.30px" class="cls_011"><span class="cls_011">to play the instrument with two hands.</span></div>
<div style="position:absolute;left:46.20px;top:349.40px" class="cls_026"><span class="cls_026">C2, C3</span></div>
<div style="position:absolute;left:88.17px;top:349.40px" class="cls_026"><span class="cls_026">100</span></div>
<div style="position:absolute;left:113.20px;top:349.40px" class="cls_026"><span class="cls_026">F, 16V electrolytic</span></div>
<div style="position:absolute;left:226.25px;top:349.40px" class="cls_026"><span class="cls_026">22</span></div>
<div style="position:absolute;left:46.20px;top:366.38px" class="cls_026"><span class="cls_026">R1-5</span></div>
<div style="position:absolute;left:88.16px;top:366.38px" class="cls_026"><span class="cls_026">10 K</span></div>
<div style="position:absolute;left:117.20px;top:366.38px" class="cls_026"><span class="cls_026">0.5W metal film</span></div>
<div style="position:absolute;left:88.16px;top:379.37px" class="cls_026"><span class="cls_026">resistor</span></div>
<div style="position:absolute;left:228.72px;top:379.37px" class="cls_026"><span class="cls_026">9</span></div>
<div style="position:absolute;left:287.97px;top:374.27px" class="cls_005"><span class="cls_005">Software</span></div>
<div style="position:absolute;left:46.20px;top:396.35px" class="cls_026"><span class="cls_026">R6-8</span></div>
<div style="position:absolute;left:88.16px;top:396.35px" class="cls_026"><span class="cls_026">4.7 K</span></div>
<div style="position:absolute;left:120.96px;top:396.35px" class="cls_026"><span class="cls_026">0.5W metal film</span></div>
<div style="position:absolute;left:287.97px;top:397.75px" class="cls_011"><span class="cls_011">The software for this project has a lot in common</span></div>
<div style="position:absolute;left:88.16px;top:409.34px" class="cls_026"><span class="cls_026">resistor</span></div>
<div style="position:absolute;left:228.79px;top:409.34px" class="cls_026"><span class="cls_026">8</span></div>
<div style="position:absolute;left:287.97px;top:412.73px" class="cls_011"><span class="cls_011">with Project 19 (see Listing Project 20).</span></div>
<div style="position:absolute;left:46.20px;top:426.32px" class="cls_026"><span class="cls_026">R9, R11</span></div>
<div style="position:absolute;left:88.16px;top:426.32px" class="cls_026"><span class="cls_026">1 M</span></div>
<div style="position:absolute;left:112.11px;top:426.32px" class="cls_026"><span class="cls_026">0.5W metal film resistor</span></div>
<div style="position:absolute;left:227.28px;top:426.32px" class="cls_026"><span class="cls_026">15</span></div>
<div style="position:absolute;left:299.96px;top:431.72px" class="cls_011"><span class="cls_011">The main differences are that the pitchDelay</span></div>
<div style="position:absolute;left:46.20px;top:443.30px" class="cls_026"><span class="cls_026">R10</span></div>
<div style="position:absolute;left:88.16px;top:443.30px" class="cls_026"><span class="cls_026">100 K</span></div>
<div style="position:absolute;left:123.62px;top:443.30px" class="cls_026"><span class="cls_026">0.5W metal film</span></div>
<div style="position:absolute;left:287.97px;top:446.70px" class="cls_011"><span class="cls_011">period is set by the value of the analog input 0.</span></div>
<div style="position:absolute;left:88.16px;top:456.29px" class="cls_026"><span class="cls_026">resistor</span></div>
<div style="position:absolute;left:227.26px;top:456.29px" class="cls_026"><span class="cls_026">13</span></div>
<div style="position:absolute;left:287.97px;top:461.69px" class="cls_011"><span class="cls_011">This is then scaled to the right range using the map</span></div>
<div style="position:absolute;left:46.20px;top:473.27px" class="cls_026"><span class="cls_026">R12, R13</span></div>
<div style="position:absolute;left:88.17px;top:473.27px" class="cls_026"><span class="cls_026">47 K</span></div>
<div style="position:absolute;left:118.61px;top:473.27px" class="cls_026"><span class="cls_026">0.5W metal film</span></div>
<div style="position:absolute;left:287.97px;top:476.67px" class="cls_011"><span class="cls_011">function. Similarly, the volume voltage is set by</span></div>
<div style="position:absolute;left:88.16px;top:486.26px" class="cls_026"><span class="cls_026">resistor</span></div>
<div style="position:absolute;left:228.41px;top:486.26px" class="cls_026"><span class="cls_026">11</span></div>
<div style="position:absolute;left:287.97px;top:491.66px" class="cls_011"><span class="cls_011">reading the value of analog input 1, scaling it using</span></div>
<div style="position:absolute;left:46.20px;top:503.25px" class="cls_026"><span class="cls_026">R14, R15</span></div>
<div style="position:absolute;left:88.17px;top:503.25px" class="cls_026"><span class="cls_026">LDR</span></div>
<div style="position:absolute;left:227.11px;top:503.25px" class="cls_026"><span class="cls_026">19</span></div>
<div style="position:absolute;left:287.97px;top:506.64px" class="cls_011"><span class="cls_011">map, and then writing it out to PWM output 6. It</span></div>
<div style="position:absolute;left:46.20px;top:520.23px" class="cls_026"><span class="cls_026">IC1</span></div>
<div style="position:absolute;left:88.16px;top:520.23px" class="cls_026"><span class="cls_026">TDA7052 1W audio amplifier</span></div>
<div style="position:absolute;left:226.11px;top:520.23px" class="cls_026"><span class="cls_026">47</span></div>
<div style="position:absolute;left:287.97px;top:521.63px" class="cls_011"><span class="cls_011">would be possible to just use the LDR R14 to</span></div>
<div style="position:absolute;left:88.16px;top:537.21px" class="cls_026"><span class="cls_026">Miniature 8    loudspeaker</span></div>
<div style="position:absolute;left:225.99px;top:537.21px" class="cls_026"><span class="cls_026">59</span></div>
<div style="position:absolute;left:287.97px;top:536.61px" class="cls_011"><span class="cls_011">directly control the output of the resistor ladder,</span></div>
<div style="position:absolute;left:287.97px;top:551.60px" class="cls_011"><span class="cls_011">but this way gives us more control over scaling and</span></div>
<div style="position:absolute;left:287.97px;top:566.58px" class="cls_011"><span class="cls_011">offsetting the output, and we wanted to illustrate</span></div>
<div style="position:absolute;left:287.97px;top:581.57px" class="cls_011"><span class="cls_011">smoothing a PWM signal to use it for generating a</span></div>
<div style="position:absolute;left:48.20px;top:584.06px" class="cls_011"><span class="cls_011">If you can get a miniature loudspeaker with</span></div>
<div style="position:absolute;left:287.97px;top:596.55px" class="cls_011"><span class="cls_011">steady output.</span></div>
<div style="position:absolute;left:36.21px;top:599.05px" class="cls_011"><span class="cls_011">leads for soldering to a PCB, then this can be</span></div>
<div style="position:absolute;left:36.21px;top:614.03px" class="cls_011"><span class="cls_011">plugged directly into the breadboard. If not, you</span></div>
<div style="position:absolute;left:36.21px;top:629.02px" class="cls_011"><span class="cls_011">will either have to solder short lengths of solid-</span></div>
<div style="position:absolute;left:36.21px;top:644.00px" class="cls_011"><span class="cls_011">core wire to the terminals or, if you do not have</span></div>
<div style="position:absolute;left:36.21px;top:658.99px" class="cls_011"><span class="cls_011">access to a soldering iron, carefully twist some</span></div>
<div style="position:absolute;left:36.21px;top:673.97px" class="cls_011"><span class="cls_011">solid-core wires round the terminals.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:104520px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background135.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">118</span></div>
<div style="position:absolute;left:79.41px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:42.11px;top:354.37px" class="cls_025"><span class="cls_025">Figure 7-10</span></div>
<div style="position:absolute;left:102.05px;top:355.36px" class="cls_026"><span class="cls_026">Schematic diagram for Project 20.</span></div>
<div style="position:absolute;left:42.11px;top:609.56px" class="cls_025"><span class="cls_025">Figure 7-11</span></div>
<div style="position:absolute;left:102.05px;top:610.54px" class="cls_026"><span class="cls_026">Breadboard layout for Project 20.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:105300px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background136.jpg" width=552 height=770></div>
<div style="position:absolute;left:313.94px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 7</span></div>
<div style="position:absolute;left:377.25px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    Sound Projects</span></div>
<div style="position:absolute;left:500.70px;top:34.50px" class="cls_017"><span class="cls_017">119</span></div>
<div style="position:absolute;left:42.21px;top:375.95px" class="cls_025"><span class="cls_025">Figure 7-12</span></div>
<div style="position:absolute;left:102.15px;top:376.94px" class="cls_026"><span class="cls_026">Project 20. Light harp.</span></div>
<div style="position:absolute;left:43.21px;top:427.12px" class="cls_032"><span class="cls_032">LISTING PROJECT 20</span></div>
<div style="position:absolute;left:52.20px;top:449.36px" class="cls_031"><span class="cls_031">int pitchInputPin = 0;</span></div>
<div style="position:absolute;left:52.20px;top:462.35px" class="cls_031"><span class="cls_031">int volumeInputPin = 1;</span></div>
<div style="position:absolute;left:52.20px;top:475.34px" class="cls_031"><span class="cls_031">int volumeOutputPin = 6;</span></div>
<div style="position:absolute;left:52.20px;top:501.31px" class="cls_031"><span class="cls_031">int dacPins[] = {2, 4, 7, 8};</span></div>
<div style="position:absolute;left:52.20px;top:514.30px" class="cls_031"><span class="cls_031">int sin16[] = {7, 8, 10, 11, 12, 13, 14, 14, 15, 14, 14, 13, 12, 11,</span></div>
<div style="position:absolute;left:135.26px;top:527.28px" class="cls_031"><span class="cls_031">10, 8, 7, 6, 4, 3, 2, 1, 0, 0, 0, 0, 0, 1, 2, 3, 4, 6};</span></div>
<div style="position:absolute;left:52.20px;top:553.26px" class="cls_031"><span class="cls_031">int count = 0;</span></div>
<div style="position:absolute;left:52.20px;top:579.23px" class="cls_031"><span class="cls_031">void setup()</span></div>
<div style="position:absolute;left:52.20px;top:592.22px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:64.06px;top:605.21px" class="cls_031"><span class="cls_031">for (int i = 0; i &lt; 4; i++)</span></div>
<div style="position:absolute;left:64.06px;top:618.19px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.93px;top:631.18px" class="cls_031"><span class="cls_031">pinMode(dacPins[i], OUTPUT);</span></div>
<div style="position:absolute;left:64.06px;top:644.17px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:64.06px;top:657.15px" class="cls_031"><span class="cls_031">pinMode(volumeOutputPin, OUTPUT);</span></div>
<div style="position:absolute;left:52.20px;top:670.14px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:464.31px;top:698.11px" class="cls_037"><span class="cls_037">(continued)</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:106080px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background137.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">120</span></div>
<div style="position:absolute;left:82.41px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:43.11px;top:76.46px" class="cls_032"><span class="cls_032">LISTING PROJECT 20 (continued)</span></div>
<div style="position:absolute;left:52.10px;top:98.70px" class="cls_031"><span class="cls_031">void loop()</span></div>
<div style="position:absolute;left:52.10px;top:111.69px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:63.97px;top:124.68px" class="cls_031"><span class="cls_031">int pitchDelay = map(analogRead(pitchInputPin), 0, 1023, 10, 60);</span></div>
<div style="position:absolute;left:63.97px;top:137.66px" class="cls_031"><span class="cls_031">int volume = map(analogRead(volumeInputPin), 0, 1023, 10, 70);</span></div>
<div style="position:absolute;left:63.97px;top:150.65px" class="cls_031"><span class="cls_031">for (int i = 0; i &lt; 32; i++)</span></div>
<div style="position:absolute;left:63.97px;top:163.64px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.83px;top:176.63px" class="cls_031"><span class="cls_031">setOutput(sin16[i]);</span></div>
<div style="position:absolute;left:75.83px;top:189.61px" class="cls_031"><span class="cls_031">delayMicroseconds(pitchDelay);</span></div>
<div style="position:absolute;left:63.97px;top:202.60px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:63.97px;top:215.59px" class="cls_031"><span class="cls_031">if (count == 10)</span></div>
<div style="position:absolute;left:63.97px;top:228.57px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.83px;top:241.56px" class="cls_031"><span class="cls_031">analogWrite(volumeOutputPin, volume);</span></div>
<div style="position:absolute;left:75.83px;top:254.55px" class="cls_031"><span class="cls_031">count = 0;</span></div>
<div style="position:absolute;left:63.97px;top:267.53px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:63.97px;top:280.52px" class="cls_031"><span class="cls_031">count++;</span></div>
<div style="position:absolute;left:52.10px;top:293.51px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.10px;top:319.48px" class="cls_031"><span class="cls_031">void setOutput(byte value)</span></div>
<div style="position:absolute;left:52.10px;top:332.47px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.83px;top:345.46px" class="cls_031"><span class="cls_031">digitalWrite(dacPins[3], ((value & 8) > 0));</span></div>
<div style="position:absolute;left:75.83px;top:358.44px" class="cls_031"><span class="cls_031">digitalWrite(dacPins[2], ((value & 4) > 0));</span></div>
<div style="position:absolute;left:75.83px;top:371.43px" class="cls_031"><span class="cls_031">digitalWrite(dacPins[1], ((value & 2) > 0));</span></div>
<div style="position:absolute;left:75.83px;top:384.42px" class="cls_031"><span class="cls_031">digitalWrite(dacPins[0], ((value & 1) > 0));</span></div>
<div style="position:absolute;left:52.10px;top:397.40px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:36.12px;top:434.71px" class="cls_005"><span class="cls_005">Putting It All Together</span></div>
<div style="position:absolute;left:287.87px;top:433.71px" class="cls_027"><span class="cls_027">Project 21</span></div>
<div style="position:absolute;left:36.12px;top:458.19px" class="cls_011"><span class="cls_011">Load the completed sketch for Project 20 from</span></div>
<div style="position:absolute;left:287.87px;top:453.69px" class="cls_021"><span class="cls_021">VU Meter</span></div>
<div style="position:absolute;left:36.12px;top:473.17px" class="cls_011"><span class="cls_011">your Arduino Sketchbook and download it to the</span></div>
<div style="position:absolute;left:287.87px;top:480.17px" class="cls_011"><span class="cls_011">This project (shown in Figure 7-13) uses LEDs to</span></div>
<div style="position:absolute;left:36.12px;top:488.16px" class="cls_011"><span class="cls_011">board (see Chapter 1).</span></div>
<div style="position:absolute;left:287.87px;top:495.15px" class="cls_011"><span class="cls_011">display the volume of noise picked up by a</span></div>
<div style="position:absolute;left:48.11px;top:507.14px" class="cls_011"><span class="cls_011">To play the “instrument,” use the right hand</span></div>
<div style="position:absolute;left:287.87px;top:510.14px" class="cls_011"><span class="cls_011">microphone. It uses an array of LEDs built into a</span></div>
<div style="position:absolute;left:36.12px;top:522.12px" class="cls_011"><span class="cls_011">over one LDR to control the volume of the sound</span></div>
<div style="position:absolute;left:287.87px;top:525.12px" class="cls_011"><span class="cls_011">dual-in-line (DIL) package.</span></div>
<div style="position:absolute;left:36.12px;top:537.11px" class="cls_011"><span class="cls_011">and the left hand over the other LDR to control the</span></div>
<div style="position:absolute;left:299.86px;top:544.10px" class="cls_011"><span class="cls_011">The push button toggles the mode of the VU</span></div>
<div style="position:absolute;left:36.12px;top:552.09px" class="cls_011"><span class="cls_011">pitch. Interesting effects can be achieved by</span></div>
<div style="position:absolute;left:287.87px;top:559.09px" class="cls_011"><span class="cls_011">meter. In normal mode, the bar graph just flickers</span></div>
<div style="position:absolute;left:36.12px;top:567.08px" class="cls_011"><span class="cls_011">waving your hands over the LDRs.</span></div>
<div style="position:absolute;left:287.87px;top:574.07px" class="cls_011"><span class="cls_011">up and down with the volume of sound. In</span></div>
<div style="position:absolute;left:48.11px;top:586.06px" class="cls_011"><span class="cls_011">Note that you may need to tweak the values in</span></div>
<div style="position:absolute;left:287.87px;top:589.06px" class="cls_011"><span class="cls_011">maximum mode, the bar graph registers the</span></div>
<div style="position:absolute;left:36.12px;top:601.05px" class="cls_011"><span class="cls_011">the map functions in the sketch, depending on the</span></div>
<div style="position:absolute;left:287.87px;top:604.04px" class="cls_011"><span class="cls_011">maximum value and lights that LED, so the sound</span></div>
<div style="position:absolute;left:36.12px;top:616.03px" class="cls_011"><span class="cls_011">ambient light.</span></div>
<div style="position:absolute;left:287.87px;top:619.03px" class="cls_011"><span class="cls_011">level gradually pushes it up.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:106860px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background138.jpg" width=552 height=770></div>
<div style="position:absolute;left:314.33px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 7</span></div>
<div style="position:absolute;left:377.64px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    Sound Projects</span></div>
<div style="position:absolute;left:501.09px;top:34.50px" class="cls_017"><span class="cls_017">121</span></div>
<div style="position:absolute;left:42.21px;top:276.05px" class="cls_025"><span class="cls_025">Figure 7-13</span></div>
<div style="position:absolute;left:102.15px;top:277.04px" class="cls_026"><span class="cls_026">Project 21. VU meter.</span></div>
<div style="position:absolute;left:287.97px;top:306.84px" class="cls_005"><span class="cls_005">Hardware</span></div>
<div style="position:absolute;left:44.22px;top:315.03px" class="cls_028"><span class="cls_028">COMPONENTS AND EQUIPMENT</span></div>
<div style="position:absolute;left:287.97px;top:330.32px" class="cls_011"><span class="cls_011">The schematic diagram for this project is shown in</span></div>
<div style="position:absolute;left:99.75px;top:338.41px" class="cls_029"><span class="cls_029">Description</span></div>
<div style="position:absolute;left:207.06px;top:338.41px" class="cls_029"><span class="cls_029">Appendix</span></div>
<div style="position:absolute;left:287.97px;top:345.30px" class="cls_011"><span class="cls_011">Figure 7-14. The bar graph LED package has</span></div>
<div style="position:absolute;left:99.75px;top:358.39px" class="cls_026"><span class="cls_026">Arduino Diecimila or</span></div>
<div style="position:absolute;left:287.97px;top:360.29px" class="cls_011"><span class="cls_011">separate connections for each LED. These are each</span></div>
<div style="position:absolute;left:99.75px;top:371.38px" class="cls_026"><span class="cls_026">Duemilanove board or</span></div>
<div style="position:absolute;left:287.97px;top:375.27px" class="cls_011"><span class="cls_011">driven through a current-limiting resistor.</span></div>
<div style="position:absolute;left:99.75px;top:384.36px" class="cls_026"><span class="cls_026">clone</span></div>
<div style="position:absolute;left:227.42px;top:384.36px" class="cls_026"><span class="cls_026">1</span></div>
<div style="position:absolute;left:299.96px;top:394.25px" class="cls_011"><span class="cls_011">The microphone will not produce a strong</span></div>
<div style="position:absolute;left:46.20px;top:401.35px" class="cls_026"><span class="cls_026">R1, R3, R4</span></div>
<div style="position:absolute;left:99.76px;top:401.35px" class="cls_026"><span class="cls_026">10 K</span></div>
<div style="position:absolute;left:128.79px;top:401.35px" class="cls_026"><span class="cls_026">0.5W metal film</span></div>
<div style="position:absolute;left:287.97px;top:409.24px" class="cls_011"><span class="cls_011">enough signal on its own to drive the analog input.</span></div>
<div style="position:absolute;left:99.75px;top:414.33px" class="cls_026"><span class="cls_026">resistor</span></div>
<div style="position:absolute;left:226.12px;top:414.33px" class="cls_026"><span class="cls_026">9</span></div>
<div style="position:absolute;left:287.97px;top:424.22px" class="cls_011"><span class="cls_011">So to boost the signal, we use a simple single-</span></div>
<div style="position:absolute;left:46.20px;top:431.32px" class="cls_026"><span class="cls_026">R2</span></div>
<div style="position:absolute;left:99.75px;top:431.32px" class="cls_026"><span class="cls_026">100 K</span></div>
<div style="position:absolute;left:135.21px;top:431.32px" class="cls_026"><span class="cls_026">0.5W metal film</span></div>
<div style="position:absolute;left:287.97px;top:439.21px" class="cls_011"><span class="cls_011">transistor amplifier. We use a standard arrangement</span></div>
<div style="position:absolute;left:99.75px;top:444.30px" class="cls_026"><span class="cls_026">resistor</span></div>
<div style="position:absolute;left:224.66px;top:444.30px" class="cls_026"><span class="cls_026">13</span></div>
<div style="position:absolute;left:287.97px;top:454.19px" class="cls_011"><span class="cls_011">called collector-feedback bias, where a proportion</span></div>
<div style="position:absolute;left:46.20px;top:461.29px" class="cls_026"><span class="cls_026">R5-14</span></div>
<div style="position:absolute;left:99.75px;top:461.29px" class="cls_026"><span class="cls_026">270</span></div>
<div style="position:absolute;left:129.56px;top:461.29px" class="cls_026"><span class="cls_026">0.5W metal film</span></div>
<div style="position:absolute;left:287.97px;top:469.18px" class="cls_011"><span class="cls_011">of the voltage at the collector is used to bias the</span></div>
<div style="position:absolute;left:99.75px;top:474.27px" class="cls_026"><span class="cls_026">resistor</span></div>
<div style="position:absolute;left:226.12px;top:474.27px" class="cls_026"><span class="cls_026">6</span></div>
<div style="position:absolute;left:287.97px;top:484.16px" class="cls_011"><span class="cls_011">transistor on so that it amplifies in a loosely linear</span></div>
<div style="position:absolute;left:46.20px;top:491.26px" class="cls_026"><span class="cls_026">R10</span></div>
<div style="position:absolute;left:99.75px;top:491.26px" class="cls_026"><span class="cls_026">10 K</span></div>
<div style="position:absolute;left:128.78px;top:491.26px" class="cls_026"><span class="cls_026">0.5W metal film</span></div>
<div style="position:absolute;left:287.97px;top:499.15px" class="cls_011"><span class="cls_011">way rather than just harshly switching on and off.</span></div>
<div style="position:absolute;left:99.75px;top:504.24px" class="cls_026"><span class="cls_026">resistor</span></div>
<div style="position:absolute;left:226.12px;top:504.24px" class="cls_026"><span class="cls_026">9</span></div>
<div style="position:absolute;left:46.20px;top:521.23px" class="cls_026"><span class="cls_026">C1</span></div>
<div style="position:absolute;left:99.75px;top:521.23px" class="cls_026"><span class="cls_026">100 nF</span></div>
<div style="position:absolute;left:223.12px;top:521.23px" class="cls_026"><span class="cls_026">20</span></div>
<div style="position:absolute;left:299.96px;top:518.13px" class="cls_011"><span class="cls_011">The breadboard layout is shown in Figure 7-15.</span></div>
<div style="position:absolute;left:287.97px;top:533.11px" class="cls_011"><span class="cls_011">With so many LEDs, a lot of wires are required.</span></div>
<div style="position:absolute;left:99.75px;top:538.21px" class="cls_026"><span class="cls_026">10 Segment bar graph</span></div>
<div style="position:absolute;left:99.75px;top:551.20px" class="cls_026"><span class="cls_026">display</span></div>
<div style="position:absolute;left:223.47px;top:551.20px" class="cls_026"><span class="cls_026">35</span></div>
<div style="position:absolute;left:46.20px;top:568.18px" class="cls_026"><span class="cls_026">S1</span></div>
<div style="position:absolute;left:99.75px;top:568.18px" class="cls_026"><span class="cls_026">Push to make switch</span></div>
<div style="position:absolute;left:223.15px;top:568.18px" class="cls_026"><span class="cls_026">48</span></div>
<div style="position:absolute;left:287.97px;top:566.09px" class="cls_005"><span class="cls_005">Software</span></div>
<div style="position:absolute;left:99.75px;top:585.17px" class="cls_026"><span class="cls_026">Electret microphone</span></div>
<div style="position:absolute;left:222.91px;top:585.17px" class="cls_026"><span class="cls_026">60</span></div>
<div style="position:absolute;left:287.97px;top:589.56px" class="cls_011"><span class="cls_011">The sketch for this project (Listing Project 21)</span></div>
<div style="position:absolute;left:287.97px;top:604.55px" class="cls_011"><span class="cls_011">uses an array of LED pins to shorten the setup</span></div>
<div style="position:absolute;left:287.97px;top:619.53px" class="cls_011"><span class="cls_011">function. This is also used in the loop function,</span></div>
<div style="position:absolute;left:287.97px;top:634.52px" class="cls_011"><span class="cls_011">where we iterate over each LED deciding whether</span></div>
<div style="position:absolute;left:287.97px;top:649.50px" class="cls_011"><span class="cls_011">to turn it on or off.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:107640px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background139.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">122</span></div>
<div style="position:absolute;left:81.34px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:42.11px;top:381.95px" class="cls_025"><span class="cls_025">Figure 7-14</span></div>
<div style="position:absolute;left:102.05px;top:382.93px" class="cls_026"><span class="cls_026">Schematic diagram for Project 21.</span></div>
<div style="position:absolute;left:42.11px;top:636.93px" class="cls_025"><span class="cls_025">Figure 7-15</span></div>
<div style="position:absolute;left:102.05px;top:637.92px" class="cls_026"><span class="cls_026">Breadboard layout for Project 21.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:108420px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background140.jpg" width=552 height=770></div>
<div style="position:absolute;left:312.34px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 7</span></div>
<div style="position:absolute;left:375.66px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    Sound Projects</span></div>
<div style="position:absolute;left:499.11px;top:34.50px" class="cls_017"><span class="cls_017">123</span></div>
<div style="position:absolute;left:43.21px;top:76.46px" class="cls_032"><span class="cls_032">LISTING PROJECT 21</span></div>
<div style="position:absolute;left:52.20px;top:98.70px" class="cls_031"><span class="cls_031">int ledPins[] = {3, 4, 5, 6, 7, 8, 9, 10, 11, 12};</span></div>
<div style="position:absolute;left:52.20px;top:111.69px" class="cls_031"><span class="cls_031">int switchPin = 2;</span></div>
<div style="position:absolute;left:52.20px;top:124.68px" class="cls_031"><span class="cls_031">int soundPin = 0;</span></div>
<div style="position:absolute;left:52.20px;top:150.65px" class="cls_031"><span class="cls_031">boolean showPeak = false;</span></div>
<div style="position:absolute;left:52.20px;top:163.64px" class="cls_031"><span class="cls_031">int peakValue = 0;</span></div>
<div style="position:absolute;left:52.20px;top:189.61px" class="cls_031"><span class="cls_031">void setup()</span></div>
<div style="position:absolute;left:52.20px;top:202.60px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:64.06px;top:215.59px" class="cls_031"><span class="cls_031">for (int i = 0; i &lt; 10; i++)</span></div>
<div style="position:absolute;left:64.06px;top:228.58px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:81.86px;top:241.56px" class="cls_031"><span class="cls_031">pinMode(ledPins[i], OUTPUT);</span></div>
<div style="position:absolute;left:64.06px;top:254.55px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:64.06px;top:267.54px" class="cls_031"><span class="cls_031">pinMode(switchPin, INPUT);</span></div>
<div style="position:absolute;left:52.20px;top:280.52px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.20px;top:306.50px" class="cls_031"><span class="cls_031">void loop()</span></div>
<div style="position:absolute;left:52.20px;top:319.49px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:64.06px;top:332.47px" class="cls_031"><span class="cls_031">if (digitalRead(switchPin))</span></div>
<div style="position:absolute;left:64.06px;top:345.46px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.93px;top:358.45px" class="cls_031"><span class="cls_031">showPeak = ! showPeak;</span></div>
<div style="position:absolute;left:75.93px;top:371.43px" class="cls_031"><span class="cls_031">peakValue = 0;</span></div>
<div style="position:absolute;left:75.93px;top:384.42px" class="cls_031"><span class="cls_031">delay(200); // debounce switch</span></div>
<div style="position:absolute;left:64.06px;top:397.41px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:64.06px;top:410.39px" class="cls_031"><span class="cls_031">int value = analogRead(soundPin);</span></div>
<div style="position:absolute;left:64.06px;top:423.38px" class="cls_031"><span class="cls_031">int topLED = map(value, 0, 1023, 0, 11) - 1;</span></div>
<div style="position:absolute;left:64.06px;top:436.37px" class="cls_031"><span class="cls_031">if (topLED > peakValue)</span></div>
<div style="position:absolute;left:64.06px;top:449.36px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.93px;top:462.34px" class="cls_031"><span class="cls_031">peakValue = topLED;</span></div>
<div style="position:absolute;left:64.06px;top:475.33px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:64.06px;top:488.32px" class="cls_031"><span class="cls_031">for (int i = 0; i &lt; 10; i++)</span></div>
<div style="position:absolute;left:64.06px;top:501.30px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:87.79px;top:514.29px" class="cls_031"><span class="cls_031">digitalWrite(ledPins[i], (i &lt;= topLED || (showPeak && i == peakValue)));</span></div>
<div style="position:absolute;left:64.06px;top:527.28px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.20px;top:540.26px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:48.20px;top:581.66px" class="cls_011"><span class="cls_011">At the top of the loop function, we check to see</span></div>
<div style="position:absolute;left:299.96px;top:581.66px" class="cls_011"><span class="cls_011">The level of sound is read from analog pin 0,</span></div>
<div style="position:absolute;left:36.21px;top:596.65px" class="cls_011"><span class="cls_011">if the switch is depressed; if it is, we toggle the</span></div>
<div style="position:absolute;left:287.97px;top:596.65px" class="cls_011"><span class="cls_011">and then we use the map function to convert from</span></div>
<div style="position:absolute;left:36.21px;top:611.63px" class="cls_011"><span class="cls_011">mode. The ! command inverts a value, so it will</span></div>
<div style="position:absolute;left:287.97px;top:611.63px" class="cls_011"><span class="cls_011">a range of 0 to 1023 down to a number between 0</span></div>
<div style="position:absolute;left:36.21px;top:626.62px" class="cls_011"><span class="cls_011">turn true into false and false into true. For this</span></div>
<div style="position:absolute;left:287.97px;top:626.62px" class="cls_011"><span class="cls_011">and 9, which will be the top LED to be lit. This is</span></div>
<div style="position:absolute;left:36.21px;top:641.60px" class="cls_011"><span class="cls_011">reason, it is sometimes referred to as the</span></div>
<div style="position:absolute;left:287.97px;top:641.60px" class="cls_011"><span class="cls_011">adjusted slightly by extending the range up to 0 to</span></div>
<div style="position:absolute;left:36.21px;top:656.59px" class="cls_011"><span class="cls_011">“marketing operator.” After changing the mode, we</span></div>
<div style="position:absolute;left:287.97px;top:656.59px" class="cls_011"><span class="cls_011">11 and then subtracting 1. This prevents  the two</span></div>
<div style="position:absolute;left:36.21px;top:671.57px" class="cls_011"><span class="cls_011">reset the maximum value to 0 and then delay for</span></div>
<div style="position:absolute;left:287.97px;top:671.57px" class="cls_011"><span class="cls_011">bottom-most LEDs being permanently lit due to</span></div>
<div style="position:absolute;left:36.21px;top:686.56px" class="cls_011"><span class="cls_011">200 milliseconds to prevent keyboard bounce from</span></div>
<div style="position:absolute;left:287.97px;top:686.56px" class="cls_011"><span class="cls_011">the transistor bias.</span></div>
<div style="position:absolute;left:36.21px;top:701.54px" class="cls_011"><span class="cls_011">changing the mode straight back again.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:109200px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background141.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">124</span></div>
<div style="position:absolute;left:82.00px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:48.11px;top:69.16px" class="cls_011"><span class="cls_011">We then iterate over the numbers 0 to 9 and use</span></div>
<div style="position:absolute;left:287.87px;top:69.47px" class="cls_021"><span class="cls_021">Summary</span></div>
<div style="position:absolute;left:36.12px;top:84.15px" class="cls_011"><span class="cls_011">a Boolean expression that returns true (and hence</span></div>
<div style="position:absolute;left:287.87px;top:95.94px" class="cls_011"><span class="cls_011">That project concludes our sound-based projects.</span></div>
<div style="position:absolute;left:36.12px;top:99.13px" class="cls_011"><span class="cls_011">lights the LED) if “i” is less than or equal to the</span></div>
<div style="position:absolute;left:287.87px;top:110.93px" class="cls_011"><span class="cls_011">In the next chapter we go on to look at how we use</span></div>
<div style="position:absolute;left:36.12px;top:114.12px" class="cls_011"><span class="cls_011">top LED. It is actually more complicated than that</span></div>
<div style="position:absolute;left:287.87px;top:125.91px" class="cls_011"><span class="cls_011">an Arduino board to control power—a topic always</span></div>
<div style="position:absolute;left:36.12px;top:129.10px" class="cls_011"><span class="cls_011">because we also should display that LED if we are</span></div>
<div style="position:absolute;left:287.87px;top:140.90px" class="cls_011"><span class="cls_011">close to the heart of the Evil Genius.</span></div>
<div style="position:absolute;left:36.12px;top:144.09px" class="cls_011"><span class="cls_011">in peak mode and that LED happens to be the</span></div>
<div style="position:absolute;left:36.12px;top:159.07px" class="cls_011"><span class="cls_011">peakValue.</span></div>
<div style="position:absolute;left:36.12px;top:192.04px" class="cls_005"><span class="cls_005">Putting It All Together</span></div>
<div style="position:absolute;left:36.12px;top:215.52px" class="cls_011"><span class="cls_011">Load the completed sketch for Project 21 from</span></div>
<div style="position:absolute;left:36.12px;top:230.50px" class="cls_011"><span class="cls_011">your Arduino Sketchbook and download it to the</span></div>
<div style="position:absolute;left:36.12px;top:245.49px" class="cls_011"><span class="cls_011">board (see Chapter 1).</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:109980px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background142.jpg" width=552 height=770></div>
<div style="position:absolute;left:196.40px;top:54.87px" class="cls_024"><span class="cls_024">C H A P T E R</span></div>
<div style="position:absolute;left:344.24px;top:54.87px" class="cls_024"><span class="cls_024">8</span></div>
<div style="position:absolute;left:169.13px;top:103.55px" class="cls_023"><span class="cls_023">Power Projects</span></div>
<div style="position:absolute;left:36.21px;top:223.00px" class="cls_016"><span class="cls_016">H</span><span class="cls_019">AVING LOOKED AT LIGHT</span><span class="cls_011"> and sound, the Evil</span></div>
<div style="position:absolute;left:299.96px;top:222.99px" class="cls_011"><span class="cls_011">If the reader decides to use this project to switch</span></div>
<div style="position:absolute;left:36.21px;top:237.98px" class="cls_011"><span class="cls_011">Genius now turns their attention to controlling</span></div>
<div style="position:absolute;left:287.97px;top:237.98px" class="cls_011"><span class="cls_011">mains electricity, they should only do so if they</span></div>
<div style="position:absolute;left:36.21px;top:252.97px" class="cls_011"><span class="cls_011">power. In essence, that means turning things on</span></div>
<div style="position:absolute;left:287.97px;top:252.96px" class="cls_011"><span class="cls_011">really know what they are doing and exercise</span></div>
<div style="position:absolute;left:36.21px;top:267.95px" class="cls_011"><span class="cls_011">and off and controlling their speed. This mostly</span></div>
<div style="position:absolute;left:287.97px;top:267.95px" class="cls_011"><span class="cls_011">extreme caution. Mains electricity is very</span></div>
<div style="position:absolute;left:36.21px;top:282.94px" class="cls_011"><span class="cls_011">applies to motors and lasers and the long-awaited</span></div>
<div style="position:absolute;left:287.97px;top:282.93px" class="cls_011"><span class="cls_011">dangerous and kills about 500 people a year in the</span></div>
<div style="position:absolute;left:36.21px;top:297.92px" class="cls_011"><span class="cls_011">Servo-Controlled Laser project.</span></div>
<div style="position:absolute;left:287.97px;top:297.92px" class="cls_011"><span class="cls_011">United States alone. Many more suffer painful and</span></div>
<div style="position:absolute;left:287.97px;top:312.90px" class="cls_011"><span class="cls_011">damaging burns.</span></div>
<div style="position:absolute;left:36.21px;top:336.39px" class="cls_027"><span class="cls_027">Project 22</span></div>
<div style="position:absolute;left:295.97px;top:349.58px" class="cls_028"><span class="cls_028">COMPONENTS AND EQUIPMENT</span></div>
<div style="position:absolute;left:36.21px;top:356.37px" class="cls_021"><span class="cls_021">LCD Thermostat</span></div>
<div style="position:absolute;left:327.93px;top:372.96px" class="cls_029"><span class="cls_029">Description</span></div>
<div style="position:absolute;left:459.81px;top:372.96px" class="cls_029"><span class="cls_029">Appendix</span></div>
<div style="position:absolute;left:36.21px;top:382.84px" class="cls_011"><span class="cls_011">The temperature in the Evil Genius’ lair must be</span></div>
<div style="position:absolute;left:327.93px;top:392.94px" class="cls_026"><span class="cls_026">Arduino Diecimila or</span></div>
<div style="position:absolute;left:36.21px;top:397.83px" class="cls_011"><span class="cls_011">regulated, as the Evil Genius is particularly</span></div>
<div style="position:absolute;left:327.93px;top:405.93px" class="cls_026"><span class="cls_026">Duemilanove board or clone</span></div>
<div style="position:absolute;left:480.19px;top:405.93px" class="cls_026"><span class="cls_026">1</span></div>
<div style="position:absolute;left:36.21px;top:412.81px" class="cls_011"><span class="cls_011">susceptible to chills. This project uses an LCD</span></div>
<div style="position:absolute;left:297.96px;top:422.91px" class="cls_026"><span class="cls_026">R1</span></div>
<div style="position:absolute;left:327.93px;top:422.91px" class="cls_026"><span class="cls_026">33 K   thermistor beta = 4090</span></div>
<div style="position:absolute;left:477.36px;top:422.91px" class="cls_026"><span class="cls_026">18</span></div>
<div style="position:absolute;left:36.21px;top:427.80px" class="cls_011"><span class="cls_011">screen and a thermistor temperature sensor to both</span></div>
<div style="position:absolute;left:297.96px;top:439.90px" class="cls_026"><span class="cls_026">R2</span></div>
<div style="position:absolute;left:327.93px;top:439.90px" class="cls_026"><span class="cls_026">33 K</span></div>
<div style="position:absolute;left:358.34px;top:439.90px" class="cls_026"><span class="cls_026">0.5W metal film resistor</span></div>
<div style="position:absolute;left:476.97px;top:439.90px" class="cls_026"><span class="cls_026">10</span></div>
<div style="position:absolute;left:36.21px;top:442.78px" class="cls_011"><span class="cls_011">display the current temperature and the set</span></div>
<div style="position:absolute;left:297.96px;top:456.88px" class="cls_026"><span class="cls_026">R3-5</span></div>
<div style="position:absolute;left:327.93px;top:456.88px" class="cls_026"><span class="cls_026">100 K</span></div>
<div style="position:absolute;left:363.39px;top:456.88px" class="cls_026"><span class="cls_026">0.5W metal film resistor</span></div>
<div style="position:absolute;left:477.43px;top:456.88px" class="cls_026"><span class="cls_026">13</span></div>
<div style="position:absolute;left:36.21px;top:457.77px" class="cls_011"><span class="cls_011">temperature. It uses a rotary encoder to allow the</span></div>
<div style="position:absolute;left:36.21px;top:472.75px" class="cls_011"><span class="cls_011">set temperature to be changed. The rotary</span></div>
<div style="position:absolute;left:297.96px;top:473.86px" class="cls_026"><span class="cls_026">R6</span></div>
<div style="position:absolute;left:327.93px;top:473.86px" class="cls_026"><span class="cls_026">270</span></div>
<div style="position:absolute;left:357.74px;top:473.86px" class="cls_026"><span class="cls_026">0.5W metal film resistor</span></div>
<div style="position:absolute;left:478.89px;top:473.86px" class="cls_026"><span class="cls_026">6</span></div>
<div style="position:absolute;left:36.21px;top:487.74px" class="cls_011"><span class="cls_011">encoder’s button also acts as an override switch.</span></div>
<div style="position:absolute;left:297.96px;top:490.85px" class="cls_026"><span class="cls_026">R7</span></div>
<div style="position:absolute;left:327.93px;top:490.85px" class="cls_026"><span class="cls_026">1 K</span></div>
<div style="position:absolute;left:350.54px;top:490.85px" class="cls_026"><span class="cls_026">0.5W metal film resistor</span></div>
<div style="position:absolute;left:479.12px;top:490.85px" class="cls_026"><span class="cls_026">7</span></div>
<div style="position:absolute;left:48.20px;top:506.72px" class="cls_011"><span class="cls_011">When the measured temperature is less than the</span></div>
<div style="position:absolute;left:297.96px;top:507.83px" class="cls_026"><span class="cls_026">D1</span></div>
<div style="position:absolute;left:327.93px;top:507.83px" class="cls_026"><span class="cls_026">5-mm red LED</span></div>
<div style="position:absolute;left:476.34px;top:507.83px" class="cls_026"><span class="cls_026">23</span></div>
<div style="position:absolute;left:36.21px;top:521.70px" class="cls_011"><span class="cls_011">set temperature, a relay is activated. Relays are</span></div>
<div style="position:absolute;left:297.96px;top:524.81px" class="cls_026"><span class="cls_026">D2</span></div>
<div style="position:absolute;left:327.93px;top:524.81px" class="cls_026"><span class="cls_026">1N4004</span></div>
<div style="position:absolute;left:476.20px;top:524.81px" class="cls_026"><span class="cls_026">38</span></div>
<div style="position:absolute;left:36.21px;top:536.69px" class="cls_011"><span class="cls_011">old-fashioned electromagnetic components that</span></div>
<div style="position:absolute;left:297.96px;top:541.80px" class="cls_026"><span class="cls_026">T1</span></div>
<div style="position:absolute;left:327.93px;top:541.80px" class="cls_026"><span class="cls_026">BC548</span></div>
<div style="position:absolute;left:475.55px;top:541.80px" class="cls_026"><span class="cls_026">40</span></div>
<div style="position:absolute;left:36.21px;top:551.67px" class="cls_011"><span class="cls_011">activate a mechanical switch when a current flows</span></div>
<div style="position:absolute;left:327.93px;top:558.78px" class="cls_026"><span class="cls_026">5V relay</span></div>
<div style="position:absolute;left:477.34px;top:558.78px" class="cls_026"><span class="cls_026">61</span></div>
<div style="position:absolute;left:36.21px;top:566.66px" class="cls_011"><span class="cls_011">through a coil of wire. They have a number of</span></div>
<div style="position:absolute;left:327.93px;top:575.76px" class="cls_026"><span class="cls_026">LCD module HD44780</span></div>
<div style="position:absolute;left:476.21px;top:575.76px" class="cls_026"><span class="cls_026">58</span></div>
<div style="position:absolute;left:36.21px;top:581.64px" class="cls_011"><span class="cls_011">advantages. First, they can switch high currents</span></div>
<div style="position:absolute;left:327.93px;top:592.75px" class="cls_026"><span class="cls_026">Header pin strip</span></div>
<div style="position:absolute;left:476.29px;top:592.75px" class="cls_026"><span class="cls_026">55</span></div>
<div style="position:absolute;left:36.21px;top:596.63px" class="cls_011"><span class="cls_011">and voltages, making them suitable for controlling</span></div>
<div style="position:absolute;left:36.21px;top:611.61px" class="cls_011"><span class="cls_011">mains equipment. They also electrically isolate the</span></div>
<div style="position:absolute;left:36.21px;top:626.60px" class="cls_011"><span class="cls_011">control side (the coil) from the switching side so</span></div>
<div style="position:absolute;left:36.21px;top:641.58px" class="cls_011"><span class="cls_011">that the high and low voltages never meet, which is</span></div>
<div style="position:absolute;left:36.21px;top:656.57px" class="cls_011"><span class="cls_011">definitely a good thing.</span></div>
<div style="position:absolute;left:499.02px;top:718.82px" class="cls_017"><span class="cls_017">125</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:110760px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background143.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">126</span></div>
<div style="position:absolute;left:81.73px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:36.12px;top:70.07px" class="cls_005"><span class="cls_005">Hardware</span></div>
<div style="position:absolute;left:299.86px;top:69.16px" class="cls_011"><span class="cls_011">Figure 8-1 shows the schematic diagram for the</span></div>
<div style="position:absolute;left:287.87px;top:84.14px" class="cls_011"><span class="cls_011">project.</span></div>
<div style="position:absolute;left:36.12px;top:93.55px" class="cls_011"><span class="cls_011">The LCD module is connected up in exactly the</span></div>
<div style="position:absolute;left:299.86px;top:103.12px" class="cls_011"><span class="cls_011">The breadboard layout for the project is quite</span></div>
<div style="position:absolute;left:36.12px;top:108.53px" class="cls_011"><span class="cls_011">same way as Project 17. The rotary encoder is also</span></div>
<div style="position:absolute;left:287.87px;top:118.11px" class="cls_011"><span class="cls_011">cramped, as the LCD module uses a lot of the</span></div>
<div style="position:absolute;left:36.12px;top:123.52px" class="cls_011"><span class="cls_011">connected up in the same way as previous projects.</span></div>
<div style="position:absolute;left:287.87px;top:133.09px" class="cls_011"><span class="cls_011">space.</span></div>
<div style="position:absolute;left:48.11px;top:142.50px" class="cls_011"><span class="cls_011">The relay will require about 70 mA, which is a</span></div>
<div style="position:absolute;left:299.86px;top:152.08px" class="cls_011"><span class="cls_011">Check your datasheet for the relay, as the</span></div>
<div style="position:absolute;left:36.12px;top:157.48px" class="cls_011"><span class="cls_011">bit too much for an Arduino output to handle</span></div>
<div style="position:absolute;left:287.87px;top:167.06px" class="cls_011"><span class="cls_011">connection pins can be quite counterintuitive and</span></div>
<div style="position:absolute;left:36.12px;top:172.47px" class="cls_011"><span class="cls_011">unaided, so we use an NPN transistor to increase</span></div>
<div style="position:absolute;left:287.87px;top:182.05px" class="cls_011"><span class="cls_011">there are several pin layouts, and your layout may</span></div>
<div style="position:absolute;left:36.12px;top:187.45px" class="cls_011"><span class="cls_011">the current. You will also notice that a diode is</span></div>
<div style="position:absolute;left:287.87px;top:197.03px" class="cls_011"><span class="cls_011">not be the same as the relay that the author used.</span></div>
<div style="position:absolute;left:36.12px;top:202.44px" class="cls_011"><span class="cls_011">connected in parallel with the relay coil. This is to</span></div>
<div style="position:absolute;left:36.12px;top:217.42px" class="cls_011"><span class="cls_011">prevent something called back EMF (electromotive</span></div>
<div style="position:absolute;left:299.86px;top:216.01px" class="cls_011"><span class="cls_011">Figure 8-2 shows the breadboard layout for the</span></div>
<div style="position:absolute;left:36.12px;top:232.41px" class="cls_011"><span class="cls_011">force), which occurs when the relay is turned off.</span></div>
<div style="position:absolute;left:287.87px;top:231.00px" class="cls_011"><span class="cls_011">project.</span></div>
<div style="position:absolute;left:36.12px;top:247.39px" class="cls_011"><span class="cls_011">The sudden collapse of the magnetic field in the</span></div>
<div style="position:absolute;left:299.86px;top:249.98px" class="cls_011"><span class="cls_011">You can also use a multimeter to find the coil</span></div>
<div style="position:absolute;left:36.12px;top:262.38px" class="cls_011"><span class="cls_011">coil generates a voltage that can be high enough to</span></div>
<div style="position:absolute;left:287.87px;top:264.96px" class="cls_011"><span class="cls_011">connections by putting it on resistance mode. They</span></div>
<div style="position:absolute;left:36.12px;top:277.36px" class="cls_011"><span class="cls_011">damage the electronics if the diode is not there to</span></div>
<div style="position:absolute;left:287.87px;top:279.95px" class="cls_011"><span class="cls_011">will be the only pair of pins with a resistance of 40</span></div>
<div style="position:absolute;left:36.12px;top:292.35px" class="cls_011"><span class="cls_011">effectively short it out if it occurs.</span></div>
<div style="position:absolute;left:287.87px;top:294.93px" class="cls_011"><span class="cls_011">to 100</span></div>
<div style="position:absolute;left:42.11px;top:707.86px" class="cls_025"><span class="cls_025">Figure 8-1</span></div>
<div style="position:absolute;left:102.05px;top:708.85px" class="cls_026"><span class="cls_026">Schematic diagram for Project 22.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:111540px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background144.jpg" width=552 height=770></div>
<div style="position:absolute;left:312.67px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 8</span></div>
<div style="position:absolute;left:376.32px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    Power Projects</span></div>
<div style="position:absolute;left:499.13px;top:34.50px" class="cls_017"><span class="cls_017">127</span></div>
<div style="position:absolute;left:42.21px;top:253.67px" class="cls_025"><span class="cls_025">Figure 8-2</span></div>
<div style="position:absolute;left:102.15px;top:254.66px" class="cls_026"><span class="cls_026">Breadboard layout for Project 22.</span></div>
<div style="position:absolute;left:36.21px;top:284.46px" class="cls_005"><span class="cls_005">Software</span></div>
<div style="position:absolute;left:287.97px;top:283.55px" class="cls_011"><span class="cls_011">project for use of the rotary encoder (see Listing</span></div>
<div style="position:absolute;left:287.97px;top:298.54px" class="cls_011"><span class="cls_011">Project 22).</span></div>
<div style="position:absolute;left:36.21px;top:307.94px" class="cls_011"><span class="cls_011">The software for this project borrows heavily from</span></div>
<div style="position:absolute;left:299.96px;top:317.52px" class="cls_011"><span class="cls_011">One thing that requires a bit of consideration</span></div>
<div style="position:absolute;left:36.21px;top:322.92px" class="cls_011"><span class="cls_011">several of our previous projects: the LCD display,</span></div>
<div style="position:absolute;left:287.97px;top:332.50px" class="cls_011"><span class="cls_011">when designing a thermostat like this is that you</span></div>
<div style="position:absolute;left:36.21px;top:337.91px" class="cls_011"><span class="cls_011">the temperature data logger, and the traffic signal</span></div>
<div style="position:absolute;left:287.97px;top:347.49px" class="cls_011"><span class="cls_011">want to avoid what is called “hunting.” Hunting</span></div>
<div style="position:absolute;left:43.21px;top:383.37px" class="cls_032"><span class="cls_032">LISTING PROJECT 22</span></div>
<div style="position:absolute;left:52.20px;top:405.61px" class="cls_031"><span class="cls_031">#include &lt;LiquidCrystal.h></span></div>
<div style="position:absolute;left:52.20px;top:431.58px" class="cls_031"><span class="cls_031">#define beta 4090 // from your thermistor's datasheet</span></div>
<div style="position:absolute;left:52.20px;top:444.57px" class="cls_031"><span class="cls_031">#define resistance 33</span></div>
<div style="position:absolute;left:52.20px;top:470.54px" class="cls_031"><span class="cls_031">// LiquidCrystal display with:</span></div>
<div style="position:absolute;left:52.20px;top:483.53px" class="cls_031"><span class="cls_031">// rs on pin 12</span></div>
<div style="position:absolute;left:52.20px;top:496.52px" class="cls_031"><span class="cls_031">// rw on pin 11</span></div>
<div style="position:absolute;left:52.20px;top:509.50px" class="cls_031"><span class="cls_031">// enable on pin 10</span></div>
<div style="position:absolute;left:52.20px;top:522.49px" class="cls_031"><span class="cls_031">// d4-7 on pins 5-2</span></div>
<div style="position:absolute;left:52.20px;top:535.48px" class="cls_031"><span class="cls_031">LiquidCrystal lcd(12, 11, 10, 5, 4, 3, 2);</span></div>
<div style="position:absolute;left:52.20px;top:561.45px" class="cls_031"><span class="cls_031">int ledPin = 15;</span></div>
<div style="position:absolute;left:52.20px;top:574.44px" class="cls_031"><span class="cls_031">int relayPin = 16;</span></div>
<div style="position:absolute;left:52.20px;top:587.43px" class="cls_031"><span class="cls_031">int aPin = 8;</span></div>
<div style="position:absolute;left:52.20px;top:600.41px" class="cls_031"><span class="cls_031">int bPin = 7;</span></div>
<div style="position:absolute;left:52.20px;top:613.40px" class="cls_031"><span class="cls_031">int buttonPin = 6;</span></div>
<div style="position:absolute;left:52.20px;top:626.39px" class="cls_031"><span class="cls_031">int analogPin = 0;</span></div>
<div style="position:absolute;left:52.20px;top:652.36px" class="cls_031"><span class="cls_031">float setTemp = 20.0;</span></div>
<div style="position:absolute;left:52.20px;top:665.35px" class="cls_031"><span class="cls_031">float measuredTemp;</span></div>
<div style="position:absolute;left:52.20px;top:678.34px" class="cls_031"><span class="cls_031">char mode = 'C';</span></div>
<div style="position:absolute;left:211.32px;top:678.34px" class="cls_031"><span class="cls_031">// can be changed to F</span></div>
<div style="position:absolute;left:464.31px;top:690.32px" class="cls_037"><span class="cls_037">(continued)</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:112320px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background145.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">128</span></div>
<div style="position:absolute;left:81.41px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:43.11px;top:76.46px" class="cls_032"><span class="cls_032">LISTING PROJECT 22 (continued)</span></div>
<div style="position:absolute;left:52.10px;top:98.70px" class="cls_031"><span class="cls_031">boolean override = false;</span></div>
<div style="position:absolute;left:52.10px;top:111.69px" class="cls_031"><span class="cls_031">float hysteresis = 0.25;</span></div>
<div style="position:absolute;left:52.10px;top:137.67px" class="cls_031"><span class="cls_031">void setup()</span></div>
<div style="position:absolute;left:52.10px;top:150.65px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:63.97px;top:163.64px" class="cls_031"><span class="cls_031">lcd.begin(2, 20);</span></div>
<div style="position:absolute;left:63.97px;top:176.63px" class="cls_031"><span class="cls_031">pinMode(ledPin, OUTPUT);</span></div>
<div style="position:absolute;left:63.97px;top:189.62px" class="cls_031"><span class="cls_031">pinMode(relayPin, OUTPUT);</span></div>
<div style="position:absolute;left:63.97px;top:202.60px" class="cls_031"><span class="cls_031">pinMode(aPin, INPUT);</span></div>
<div style="position:absolute;left:63.97px;top:215.59px" class="cls_031"><span class="cls_031">pinMode(bPin, INPUT);</span></div>
<div style="position:absolute;left:63.97px;top:228.58px" class="cls_031"><span class="cls_031">pinMode(buttonPin, INPUT);</span></div>
<div style="position:absolute;left:63.97px;top:241.57px" class="cls_031"><span class="cls_031">lcd.clear();</span></div>
<div style="position:absolute;left:52.10px;top:254.55px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.10px;top:280.53px" class="cls_031"><span class="cls_031">void loop()</span></div>
<div style="position:absolute;left:52.10px;top:293.52px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:63.97px;top:306.50px" class="cls_031"><span class="cls_031">static int count = 0;</span></div>
<div style="position:absolute;left:63.97px;top:319.49px" class="cls_031"><span class="cls_031">measuredTemp = readTemp();</span></div>
<div style="position:absolute;left:63.97px;top:332.48px" class="cls_031"><span class="cls_031">if (digitalRead(buttonPin))</span></div>
<div style="position:absolute;left:63.97px;top:345.46px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.83px;top:358.45px" class="cls_031"><span class="cls_031">override = ! override;</span></div>
<div style="position:absolute;left:75.83px;top:371.44px" class="cls_031"><span class="cls_031">updateDisplay();</span></div>
<div style="position:absolute;left:75.83px;top:384.42px" class="cls_031"><span class="cls_031">delay(500); // debounce</span></div>
<div style="position:absolute;left:63.97px;top:397.41px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:63.97px;top:410.40px" class="cls_031"><span class="cls_031">int change = getEncoderTurn();</span></div>
<div style="position:absolute;left:63.97px;top:423.39px" class="cls_031"><span class="cls_031">setTemp = setTemp + change * 0.1;</span></div>
<div style="position:absolute;left:63.97px;top:436.37px" class="cls_031"><span class="cls_031">if (count == 1000)</span></div>
<div style="position:absolute;left:63.97px;top:449.36px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.83px;top:462.35px" class="cls_031"><span class="cls_031">updateDisplay();</span></div>
<div style="position:absolute;left:75.83px;top:475.33px" class="cls_031"><span class="cls_031">updateOutputs();</span></div>
<div style="position:absolute;left:75.83px;top:488.32px" class="cls_031"><span class="cls_031">count = 0;</span></div>
<div style="position:absolute;left:63.97px;top:501.31px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:63.97px;top:514.29px" class="cls_031"><span class="cls_031">count ++;</span></div>
<div style="position:absolute;left:52.10px;top:527.28px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.10px;top:553.26px" class="cls_031"><span class="cls_031">int getEncoderTurn()</span></div>
<div style="position:absolute;left:52.10px;top:566.24px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:63.97px;top:579.23px" class="cls_031"><span class="cls_031">// return -1, 0, or +1</span></div>
<div style="position:absolute;left:63.97px;top:592.22px" class="cls_031"><span class="cls_031">static int oldA = LOW;</span></div>
<div style="position:absolute;left:63.97px;top:605.20px" class="cls_031"><span class="cls_031">static int oldB = LOW;</span></div>
<div style="position:absolute;left:63.97px;top:618.19px" class="cls_031"><span class="cls_031">int result = 0;</span></div>
<div style="position:absolute;left:63.97px;top:631.18px" class="cls_031"><span class="cls_031">int newA = digitalRead(aPin);</span></div>
<div style="position:absolute;left:63.97px;top:644.16px" class="cls_031"><span class="cls_031">int newB = digitalRead(bPin);</span></div>
<div style="position:absolute;left:63.97px;top:657.15px" class="cls_031"><span class="cls_031">if (newA != oldA || newB != oldB)</span></div>
<div style="position:absolute;left:63.97px;top:670.14px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.83px;top:683.12px" class="cls_031"><span class="cls_031">// something has changed</span></div>
<div style="position:absolute;left:75.83px;top:696.11px" class="cls_031"><span class="cls_031">if (oldA == LOW && newA == HIGH)</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:113100px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background146.jpg" width=552 height=770></div>
<div style="position:absolute;left:312.24px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 8</span></div>
<div style="position:absolute;left:375.89px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    Power Projects</span></div>
<div style="position:absolute;left:498.70px;top:34.50px" class="cls_017"><span class="cls_017">129</span></div>
<div style="position:absolute;left:43.21px;top:76.46px" class="cls_032"><span class="cls_032">LISTING PROJECT 22 (continued)</span></div>
<div style="position:absolute;left:75.93px;top:98.70px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:87.79px;top:111.69px" class="cls_031"><span class="cls_031">result = -(oldB * 2 - 1);</span></div>
<div style="position:absolute;left:75.93px;top:124.68px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:64.06px;top:137.66px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:64.06px;top:150.65px" class="cls_031"><span class="cls_031">oldA = newA;</span></div>
<div style="position:absolute;left:64.06px;top:163.64px" class="cls_031"><span class="cls_031">oldB = newB;</span></div>
<div style="position:absolute;left:64.06px;top:176.63px" class="cls_031"><span class="cls_031">return result;</span></div>
<div style="position:absolute;left:52.20px;top:189.61px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.20px;top:215.59px" class="cls_031"><span class="cls_031">float readTemp()</span></div>
<div style="position:absolute;left:52.20px;top:228.57px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:64.06px;top:241.56px" class="cls_031"><span class="cls_031">long a = analogRead(analogPin);</span></div>
<div style="position:absolute;left:64.06px;top:254.55px" class="cls_031"><span class="cls_031">float temp = beta / (log(((1025.0 * resistance / a) - 33.0) / 33.0) +</span></div>
<div style="position:absolute;left:93.91px;top:267.53px" class="cls_031"><span class="cls_031">(beta / 298.0)) - 273.0;</span></div>
<div style="position:absolute;left:64.06px;top:280.52px" class="cls_031"><span class="cls_031">return temp;</span></div>
<div style="position:absolute;left:52.20px;top:293.51px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.20px;top:319.48px" class="cls_031"><span class="cls_031">void updateOutputs()</span></div>
<div style="position:absolute;left:52.20px;top:332.47px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:64.06px;top:345.46px" class="cls_031"><span class="cls_031">if (override ||  measuredTemp &lt; setTemp - hysteresis)</span></div>
<div style="position:absolute;left:64.06px;top:358.44px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.93px;top:371.43px" class="cls_031"><span class="cls_031">digitalWrite(ledPin, HIGH);</span></div>
<div style="position:absolute;left:75.93px;top:384.42px" class="cls_031"><span class="cls_031">digitalWrite(relayPin, HIGH);</span></div>
<div style="position:absolute;left:64.06px;top:397.41px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:64.06px;top:410.39px" class="cls_031"><span class="cls_031">else if (!override && measuredTemp > setTemp + hysteresis)</span></div>
<div style="position:absolute;left:64.06px;top:423.38px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.93px;top:436.37px" class="cls_031"><span class="cls_031">digitalWrite(ledPin, LOW);</span></div>
<div style="position:absolute;left:75.93px;top:449.35px" class="cls_031"><span class="cls_031">digitalWrite(relayPin, LOW);</span></div>
<div style="position:absolute;left:64.06px;top:462.34px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.20px;top:475.33px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.20px;top:501.30px" class="cls_031"><span class="cls_031">void updateDisplay()</span></div>
<div style="position:absolute;left:52.20px;top:514.29px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:64.06px;top:527.28px" class="cls_031"><span class="cls_031">lcd.setCursor(0,0);</span></div>
<div style="position:absolute;left:64.06px;top:540.26px" class="cls_031"><span class="cls_031">lcd.print("Actual: ");</span></div>
<div style="position:absolute;left:64.06px;top:553.25px" class="cls_031"><span class="cls_031">lcd.print(adjustUnits(measuredTemp));</span></div>
<div style="position:absolute;left:64.06px;top:566.24px" class="cls_031"><span class="cls_031">lcd.print(" o");</span></div>
<div style="position:absolute;left:64.06px;top:579.22px" class="cls_031"><span class="cls_031">lcd.print(mode);</span></div>
<div style="position:absolute;left:64.06px;top:592.21px" class="cls_031"><span class="cls_031">lcd.print(" ");</span></div>
<div style="position:absolute;left:64.06px;top:618.19px" class="cls_031"><span class="cls_031">lcd.setCursor(0,1);</span></div>
<div style="position:absolute;left:64.06px;top:631.17px" class="cls_031"><span class="cls_031">if (override)</span></div>
<div style="position:absolute;left:64.06px;top:644.16px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.93px;top:657.15px" class="cls_031"><span class="cls_031">lcd.print("  OVERRIDE ON</span></div>
<div style="position:absolute;left:224.81px;top:657.15px" class="cls_031"><span class="cls_031">");</span></div>
<div style="position:absolute;left:64.06px;top:670.13px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:64.06px;top:683.12px" class="cls_031"><span class="cls_031">else</span></div>
<div style="position:absolute;left:464.31px;top:695.11px" class="cls_037"><span class="cls_037">(continued)</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:113880px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background147.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">130</span></div>
<div style="position:absolute;left:82.39px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:43.11px;top:76.46px" class="cls_032"><span class="cls_032">LISTING PROJECT 22 (continued)</span></div>
<div style="position:absolute;left:63.97px;top:98.70px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.83px;top:111.69px" class="cls_031"><span class="cls_031">lcd.print("Set:</span></div>
<div style="position:absolute;left:180.48px;top:111.69px" class="cls_031"><span class="cls_031">");</span></div>
<div style="position:absolute;left:75.83px;top:124.68px" class="cls_031"><span class="cls_031">lcd.print(adjustUnits(setTemp));</span></div>
<div style="position:absolute;left:75.83px;top:137.66px" class="cls_031"><span class="cls_031">lcd.print(" o");</span></div>
<div style="position:absolute;left:75.83px;top:150.65px" class="cls_031"><span class="cls_031">lcd.print(mode);</span></div>
<div style="position:absolute;left:75.83px;top:163.64px" class="cls_031"><span class="cls_031">lcd.print(" ");</span></div>
<div style="position:absolute;left:63.97px;top:176.63px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.10px;top:189.61px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.10px;top:215.59px" class="cls_031"><span class="cls_031">float adjustUnits(float temp)</span></div>
<div style="position:absolute;left:52.10px;top:228.57px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:63.97px;top:241.56px" class="cls_031"><span class="cls_031">if (mode == 'C')</span></div>
<div style="position:absolute;left:63.97px;top:254.55px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.83px;top:267.53px" class="cls_031"><span class="cls_031">return temp;</span></div>
<div style="position:absolute;left:63.97px;top:280.52px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:63.97px;top:293.51px" class="cls_031"><span class="cls_031">else</span></div>
<div style="position:absolute;left:63.97px;top:306.50px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.83px;top:319.48px" class="cls_031"><span class="cls_031">return (temp * 9) / 5 + 32;</span></div>
<div style="position:absolute;left:63.97px;top:332.47px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.10px;top:345.46px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:36.12px;top:383.85px" class="cls_011"><span class="cls_011">occurs when you have a simple on-off control</span></div>
<div style="position:absolute;left:287.87px;top:383.85px" class="cls_011"><span class="cls_011">plus the hysteresis value. Similarly, as the</span></div>
<div style="position:absolute;left:36.12px;top:398.84px" class="cls_011"><span class="cls_011">system. When the temperature falls below the set</span></div>
<div style="position:absolute;left:287.87px;top:398.83px" class="cls_011"><span class="cls_011">temperature falls, the power is not reapplied the</span></div>
<div style="position:absolute;left:36.12px;top:413.82px" class="cls_011"><span class="cls_011">point, the power is turned on and the room heats</span></div>
<div style="position:absolute;left:287.87px;top:413.82px" class="cls_011"><span class="cls_011">moment it falls below the set point, but only when</span></div>
<div style="position:absolute;left:36.12px;top:428.81px" class="cls_011"><span class="cls_011">until it is above the set point, and then the room</span></div>
<div style="position:absolute;left:287.87px;top:428.80px" class="cls_011"><span class="cls_011">it falls below the set point minus the hysteresis</span></div>
<div style="position:absolute;left:36.12px;top:443.79px" class="cls_011"><span class="cls_011">cools until the temperature is below the set point</span></div>
<div style="position:absolute;left:287.87px;top:443.79px" class="cls_011"><span class="cls_011">value.</span></div>
<div style="position:absolute;left:36.12px;top:458.78px" class="cls_011"><span class="cls_011">again, at which point the heat is turned on again,</span></div>
<div style="position:absolute;left:299.86px;top:462.77px" class="cls_011"><span class="cls_011">We do not want to update the display</span></div>
<div style="position:absolute;left:36.12px;top:473.76px" class="cls_011"><span class="cls_011">and so on. This may take a little time to happen,</span></div>
<div style="position:absolute;left:287.87px;top:477.76px" class="cls_011"><span class="cls_011">continuously, as any tiny changes in the reading</span></div>
<div style="position:absolute;left:36.12px;top:488.75px" class="cls_011"><span class="cls_011">but when the temperature is just balanced at the</span></div>
<div style="position:absolute;left:287.87px;top:492.74px" class="cls_011"><span class="cls_011">would result in the display flickering wildly. So</span></div>
<div style="position:absolute;left:36.12px;top:503.73px" class="cls_011"><span class="cls_011">switch-over temperature, this hunting can be</span></div>
<div style="position:absolute;left:36.12px;top:518.72px" class="cls_011"><span class="cls_011">frequent. High-frequency switching like this is</span></div>
<div style="position:absolute;left:36.12px;top:533.70px" class="cls_011"><span class="cls_011">undesirable because turning things on and off tends</span></div>
<div style="position:absolute;left:36.12px;top:548.69px" class="cls_011"><span class="cls_011">to wear them out. This is true of relays as well.</span></div>
<div style="position:absolute;left:48.11px;top:567.67px" class="cls_011"><span class="cls_011">One way to minimize this effect is to introduce</span></div>
<div style="position:absolute;left:36.12px;top:582.66px" class="cls_011"><span class="cls_011">something called hysteresis, and you may have</span></div>
<div style="position:absolute;left:36.12px;top:597.64px" class="cls_011"><span class="cls_011">noticed a variable called hysteresis in the sketch</span></div>
<div style="position:absolute;left:36.12px;top:612.63px" class="cls_011"><span class="cls_011">that is set to a value of 0.25°C.</span></div>
<div style="position:absolute;left:48.11px;top:631.61px" class="cls_011"><span class="cls_011">Figure 8-3 shows how we use a hysteresis value</span></div>
<div style="position:absolute;left:36.12px;top:646.59px" class="cls_011"><span class="cls_011">to prevent high-frequency hunting.</span></div>
<div style="position:absolute;left:48.11px;top:665.57px" class="cls_011"><span class="cls_011">As the temperature rises with the power on, it</span></div>
<div style="position:absolute;left:36.12px;top:680.56px" class="cls_011"><span class="cls_011">approaches the set point. However, it does not turn</span></div>
<div style="position:absolute;left:36.12px;top:695.54px" class="cls_011"><span class="cls_011">off the power until it has exceeded the set point</span></div>
<div style="position:absolute;left:293.87px;top:696.06px" class="cls_025"><span class="cls_025">Figure 8-3</span></div>
<div style="position:absolute;left:353.81px;top:697.04px" class="cls_026"><span class="cls_026">Hysteresis in control systems.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:114660px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background148.jpg" width=552 height=770></div>
<div style="position:absolute;left:314.66px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 8</span></div>
<div style="position:absolute;left:378.31px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    Power Projects</span></div>
<div style="position:absolute;left:501.11px;top:34.50px" class="cls_017"><span class="cls_017">131</span></div>
<div style="position:absolute;left:36.21px;top:69.16px" class="cls_011"><span class="cls_011">instead of updating the display every time round</span></div>
<div style="position:absolute;left:299.96px;top:69.16px" class="cls_011"><span class="cls_011">The completed project is shown in Figure 8-4.</span></div>
<div style="position:absolute;left:36.21px;top:84.15px" class="cls_011"><span class="cls_011">the main loop, we just do it one time in 1000. This</span></div>
<div style="position:absolute;left:287.97px;top:84.15px" class="cls_011"><span class="cls_011">To test the project, turn the rotary encoder, setting</span></div>
<div style="position:absolute;left:36.21px;top:99.13px" class="cls_011"><span class="cls_011">still means it will update three or four times per</span></div>
<div style="position:absolute;left:287.97px;top:99.13px" class="cls_011"><span class="cls_011">the set temperature to slightly above the actual</span></div>
<div style="position:absolute;left:36.21px;top:114.12px" class="cls_011"><span class="cls_011">second. To do this, we use the technique of having</span></div>
<div style="position:absolute;left:287.97px;top:114.12px" class="cls_011"><span class="cls_011">temperature. The LED should be on. Then put your</span></div>
<div style="position:absolute;left:36.21px;top:129.10px" class="cls_011"><span class="cls_011">a counter variable that we increment each time</span></div>
<div style="position:absolute;left:287.97px;top:129.10px" class="cls_011"><span class="cls_011">finger onto the thermistor to warm it up. If all is</span></div>
<div style="position:absolute;left:36.21px;top:144.09px" class="cls_011"><span class="cls_011">round the loop. When it gets to 1000, we update</span></div>
<div style="position:absolute;left:287.97px;top:144.09px" class="cls_011"><span class="cls_011">well, then when the set temperature is exceeded,</span></div>
<div style="position:absolute;left:36.21px;top:159.07px" class="cls_011"><span class="cls_011">the display and reset the counter to 0.</span></div>
<div style="position:absolute;left:287.97px;top:159.07px" class="cls_011"><span class="cls_011">the LED should turn off and you will hear the</span></div>
<div style="position:absolute;left:287.97px;top:174.06px" class="cls_011"><span class="cls_011">relay click.</span></div>
<div style="position:absolute;left:48.20px;top:178.05px" class="cls_011"><span class="cls_011">Using lcd.clear() each time we change the</span></div>
<div style="position:absolute;left:36.21px;top:193.04px" class="cls_011"><span class="cls_011">display would also cause it to flicker. So we</span></div>
<div style="position:absolute;left:299.96px;top:193.04px" class="cls_011"><span class="cls_011">You can also test the operation of the relay by</span></div>
<div style="position:absolute;left:36.21px;top:208.02px" class="cls_011"><span class="cls_011">simply write the new temperatures on top of the</span></div>
<div style="position:absolute;left:287.97px;top:208.02px" class="cls_011"><span class="cls_011">connecting a multimeter in continuity test (beep)</span></div>
<div style="position:absolute;left:36.21px;top:223.01px" class="cls_011"><span class="cls_011">old temperatures. This is why we pad the</span></div>
<div style="position:absolute;left:287.97px;top:223.01px" class="cls_011"><span class="cls_011">mode to the switched output leads.</span></div>
<div style="position:absolute;left:36.21px;top:237.99px" class="cls_011"><span class="cls_011">“OVERRIDE ON” message with spaces so that</span></div>
<div style="position:absolute;left:299.96px;top:241.99px" class="cls_011"><span class="cls_011">I cannot stress enough that if you intend to use</span></div>
<div style="position:absolute;left:36.21px;top:252.98px" class="cls_011"><span class="cls_011">any text that was previously displayed at the edges</span></div>
<div style="position:absolute;left:287.97px;top:256.97px" class="cls_011"><span class="cls_011">your relay to switch mains electricity, first put this</span></div>
<div style="position:absolute;left:36.21px;top:267.96px" class="cls_011"><span class="cls_011">will be blanked out.</span></div>
<div style="position:absolute;left:287.97px;top:271.96px" class="cls_011"><span class="cls_011">project onto a properly soldered Protoshield.</span></div>
<div style="position:absolute;left:287.97px;top:286.94px" class="cls_011"><span class="cls_011">Second, be very careful and check and double-</span></div>
<div style="position:absolute;left:36.21px;top:300.94px" class="cls_005"><span class="cls_005">Putting It All Together</span></div>
<div style="position:absolute;left:287.97px;top:301.93px" class="cls_011"><span class="cls_011">check what you are doing. Mains electricity kills.</span></div>
<div style="position:absolute;left:299.96px;top:320.91px" class="cls_011"><span class="cls_011">You </span><span class="cls_006">must</span><span class="cls_011"> only test the relay with low voltage</span></div>
<div style="position:absolute;left:36.21px;top:324.41px" class="cls_011"><span class="cls_011">Load the completed sketch for Project 22 from</span></div>
<div style="position:absolute;left:287.97px;top:335.90px" class="cls_011"><span class="cls_011">unless you are going to make a proper soldered</span></div>
<div style="position:absolute;left:36.21px;top:339.40px" class="cls_011"><span class="cls_011">your Arduino Sketchbook and download it to the</span></div>
<div style="position:absolute;left:287.97px;top:350.88px" class="cls_011"><span class="cls_011">project from this design.</span></div>
<div style="position:absolute;left:36.21px;top:354.38px" class="cls_011"><span class="cls_011">board (see Chapter 1).</span></div>
<div style="position:absolute;left:42.21px;top:652.72px" class="cls_025"><span class="cls_025">Figure 8-4</span></div>
<div style="position:absolute;left:102.15px;top:653.70px" class="cls_026"><span class="cls_026">Project 22. LCD thermostat.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:115440px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background149.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">132</span></div>
<div style="position:absolute;left:81.32px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:299.86px;top:69.16px" class="cls_011"><span class="cls_011">If you do not happen to have a dead computer</span></div>
<div style="position:absolute;left:36.12px;top:69.07px" class="cls_027"><span class="cls_027">Project 23</span></div>
<div style="position:absolute;left:287.87px;top:84.14px" class="cls_011"><span class="cls_011">lying around, fear not, because you can buy new</span></div>
<div style="position:absolute;left:36.12px;top:89.05px" class="cls_021"><span class="cls_021">Computer-Controlled Fan</span></div>
<div style="position:absolute;left:287.87px;top:99.13px" class="cls_011"><span class="cls_011">cooling fans quite cheaply.</span></div>
<div style="position:absolute;left:36.12px;top:115.52px" class="cls_011"><span class="cls_011">One handy part to reclaim from a dead PC is the</span></div>
<div style="position:absolute;left:36.12px;top:130.51px" class="cls_011"><span class="cls_011">case fan (Figure 8-5). We are going to use one of</span></div>
<div style="position:absolute;left:287.87px;top:132.10px" class="cls_005"><span class="cls_005">Hardware</span></div>
<div style="position:absolute;left:36.12px;top:145.49px" class="cls_011"><span class="cls_011">these fans to keep ourselves cool in the summer.</span></div>
<div style="position:absolute;left:287.87px;top:155.58px" class="cls_011"><span class="cls_011">We can control the speed of the fan using the</span></div>
<div style="position:absolute;left:36.12px;top:160.48px" class="cls_011"><span class="cls_011">Obviously, a simple on/off switch would not be in</span></div>
<div style="position:absolute;left:287.87px;top:170.56px" class="cls_011"><span class="cls_011">analog output (PWM) driving a power transistor to</span></div>
<div style="position:absolute;left:36.12px;top:175.46px" class="cls_011"><span class="cls_011">keeping with the Evil Genius’ way of doing things,</span></div>
<div style="position:absolute;left:287.87px;top:185.55px" class="cls_011"><span class="cls_011">pulse the motor. Since these computer fans are</span></div>
<div style="position:absolute;left:36.12px;top:190.45px" class="cls_011"><span class="cls_011">so the speed of the fan will be controllable from</span></div>
<div style="position:absolute;left:287.87px;top:200.53px" class="cls_011"><span class="cls_011">usually 12V, we will use an external power supply</span></div>
<div style="position:absolute;left:36.12px;top:205.43px" class="cls_011"><span class="cls_011">our computer.</span></div>
<div style="position:absolute;left:287.87px;top:215.52px" class="cls_011"><span class="cls_011">to provide the drive power for the fan.</span></div>
<div style="position:absolute;left:299.86px;top:234.50px" class="cls_011"><span class="cls_011">Figure 8-6 shows the schematic diagram for the</span></div>
<div style="position:absolute;left:44.12px;top:246.30px" class="cls_028"><span class="cls_028">COMPONENTS AND EQUIPMENT</span></div>
<div style="position:absolute;left:287.87px;top:249.48px" class="cls_011"><span class="cls_011">project and Figure 8-7 the breadboard layout.</span></div>
<div style="position:absolute;left:63.09px;top:269.68px" class="cls_029"><span class="cls_029">Description</span></div>
<div style="position:absolute;left:203.96px;top:269.68px" class="cls_029"><span class="cls_029">Appendix</span></div>
<div style="position:absolute;left:287.87px;top:282.45px" class="cls_005"><span class="cls_005">Software</span></div>
<div style="position:absolute;left:63.09px;top:289.66px" class="cls_026"><span class="cls_026">Arduino Diecimila or</span></div>
<div style="position:absolute;left:63.09px;top:302.64px" class="cls_026"><span class="cls_026">Duemilanove board or clone</span></div>
<div style="position:absolute;left:224.34px;top:302.64px" class="cls_026"><span class="cls_026">1</span></div>
<div style="position:absolute;left:287.87px;top:305.93px" class="cls_011"><span class="cls_011">This is a really simple sketch (Listing Project 23).</span></div>
<div style="position:absolute;left:46.11px;top:319.63px" class="cls_026"><span class="cls_026">R1</span></div>
<div style="position:absolute;left:63.09px;top:319.63px" class="cls_026"><span class="cls_026">270</span></div>
<div style="position:absolute;left:92.90px;top:319.63px" class="cls_026"><span class="cls_026">0.5W metal film resistor</span></div>
<div style="position:absolute;left:223.04px;top:319.63px" class="cls_026"><span class="cls_026">6</span></div>
<div style="position:absolute;left:287.87px;top:320.92px" class="cls_011"><span class="cls_011">Essentially, we just need to read a digit 0 to 9 from</span></div>
<div style="position:absolute;left:46.11px;top:336.61px" class="cls_026"><span class="cls_026">T1</span></div>
<div style="position:absolute;left:63.09px;top:336.61px" class="cls_026"><span class="cls_026">BD139 power transistor</span></div>
<div style="position:absolute;left:221.42px;top:336.61px" class="cls_026"><span class="cls_026">41</span></div>
<div style="position:absolute;left:287.87px;top:335.90px" class="cls_011"><span class="cls_011">USB and do an analogWrite to the motorPin of</span></div>
<div style="position:absolute;left:46.11px;top:353.59px" class="cls_026"><span class="cls_026">M1  12V computer cooling fan</span></div>
<div style="position:absolute;left:220.33px;top:353.59px" class="cls_026"><span class="cls_026">63</span></div>
<div style="position:absolute;left:287.87px;top:350.89px" class="cls_011"><span class="cls_011">that value, multiplied by 28, to scale it up to a</span></div>
<div style="position:absolute;left:287.87px;top:365.87px" class="cls_011"><span class="cls_011">number between 0 and 252.</span></div>
<div style="position:absolute;left:63.09px;top:370.58px" class="cls_026"><span class="cls_026">12V 1 A power supply</span></div>
<div style="position:absolute;left:220.35px;top:370.58px" class="cls_026"><span class="cls_026">62</span></div>
<div style="position:absolute;left:42.11px;top:707.86px" class="cls_025"><span class="cls_025">Figure 8-5</span></div>
<div style="position:absolute;left:102.05px;top:708.85px" class="cls_026"><span class="cls_026">Project 23. Computer-controlled fan.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:116220px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background150.jpg" width=552 height=770></div>
<div style="position:absolute;left:312.67px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 8</span></div>
<div style="position:absolute;left:376.32px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    Power Projects</span></div>
<div style="position:absolute;left:499.13px;top:34.50px" class="cls_017"><span class="cls_017">133</span></div>
<div style="position:absolute;left:294.96px;top:76.46px" class="cls_032"><span class="cls_032">LISTING PROJECT 23</span></div>
<div style="position:absolute;left:303.95px;top:98.70px" class="cls_031"><span class="cls_031">int motorPin = 11;</span></div>
<div style="position:absolute;left:303.95px;top:124.68px" class="cls_031"><span class="cls_031">void setup()</span></div>
<div style="position:absolute;left:303.95px;top:137.67px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:315.82px;top:150.65px" class="cls_031"><span class="cls_031">pinMode(motorPin, OUTPUT);</span></div>
<div style="position:absolute;left:315.82px;top:163.64px" class="cls_031"><span class="cls_031">analogWrite(motorPin, 0);</span></div>
<div style="position:absolute;left:315.82px;top:176.63px" class="cls_031"><span class="cls_031">Serial.begin(9600);</span></div>
<div style="position:absolute;left:303.95px;top:189.61px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:303.95px;top:215.59px" class="cls_031"><span class="cls_031">void loop()</span></div>
<div style="position:absolute;left:303.95px;top:228.57px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:315.82px;top:241.56px" class="cls_031"><span class="cls_031">if (Serial.available())</span></div>
<div style="position:absolute;left:315.82px;top:254.55px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:327.68px;top:267.54px" class="cls_031"><span class="cls_031">char ch = Serial.read();</span></div>
<div style="position:absolute;left:327.68px;top:280.52px" class="cls_031"><span class="cls_031">if (ch >= ‘0’ && ch &lt;= ‘9’)</span></div>
<div style="position:absolute;left:327.68px;top:293.51px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:42.21px;top:296.83px" class="cls_025"><span class="cls_025">Figure 8-6</span></div>
<div style="position:absolute;left:102.15px;top:297.82px" class="cls_026"><span class="cls_026">Schematic diagram for Project 23.</span></div>
<div style="position:absolute;left:345.48px;top:306.50px" class="cls_031"><span class="cls_031">int speed = ch - ‘0’;</span></div>
<div style="position:absolute;left:345.48px;top:319.48px" class="cls_031"><span class="cls_031">analogWrite(motorPin, speed</span></div>
<div style="position:absolute;left:36.21px;top:327.62px" class="cls_005"><span class="cls_005">Putting It All Together</span></div>
<div style="position:absolute;left:375.33px;top:332.47px" class="cls_031"><span class="cls_031">* 28);</span></div>
<div style="position:absolute;left:327.68px;top:345.46px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:36.21px;top:351.10px" class="cls_011"><span class="cls_011">Load the completed sketch for Project 23 from</span></div>
<div style="position:absolute;left:315.82px;top:358.44px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:36.21px;top:366.08px" class="cls_011"><span class="cls_011">your Arduino Sketchbook and download it to the</span></div>
<div style="position:absolute;left:303.95px;top:371.43px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:36.21px;top:381.07px" class="cls_011"><span class="cls_011">board (see Chapter 1).</span></div>
<div style="position:absolute;left:48.20px;top:400.05px" class="cls_011"><span class="cls_011">There are so few components in this project that</span></div>
<div style="position:absolute;left:36.21px;top:415.03px" class="cls_011"><span class="cls_011">you could twist a few wires together and fit them</span></div>
<div style="position:absolute;left:36.21px;top:430.02px" class="cls_011"><span class="cls_011">directly into the Arduino board, thus doing away</span></div>
<div style="position:absolute;left:36.21px;top:445.00px" class="cls_011"><span class="cls_011">with the breadboard altogether.</span></div>
<div style="position:absolute;left:42.21px;top:707.86px" class="cls_025"><span class="cls_025">Figure 8-7</span></div>
<div style="position:absolute;left:102.15px;top:708.85px" class="cls_026"><span class="cls_026">Breadboard layout for Project 23.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:117000px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background151.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">134</span></div>
<div style="position:absolute;left:81.98px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:288.62px;top:71.24px" class="cls_038"><span class="cls_038">+V</span></div>
<div style="position:absolute;left:36.12px;top:69.47px" class="cls_021"><span class="cls_021">H-Bridge Controllers</span></div>
<div style="position:absolute;left:36.12px;top:95.94px" class="cls_011"><span class="cls_011">To change the direction in which a motor turns,</span></div>
<div style="position:absolute;left:36.12px;top:110.93px" class="cls_011"><span class="cls_011">you have to reverse the direction in which the</span></div>
<div style="position:absolute;left:413.94px;top:123.27px" class="cls_038"><span class="cls_038">A</span></div>
<div style="position:absolute;left:467.44px;top:123.27px" class="cls_038"><span class="cls_038">B</span></div>
<div style="position:absolute;left:36.12px;top:125.91px" class="cls_011"><span class="cls_011">current flows. To do this requires four switches or</span></div>
<div style="position:absolute;left:36.12px;top:140.90px" class="cls_011"><span class="cls_011">transistors. Figure 8-8 shows how this works, using</span></div>
<div style="position:absolute;left:437.40px;top:137.20px" class="cls_039"><span class="cls_039">M</span></div>
<div style="position:absolute;left:36.12px;top:155.88px" class="cls_011"><span class="cls_011">switches in an arrangement that is, for obvious</span></div>
<div style="position:absolute;left:36.12px;top:170.87px" class="cls_011"><span class="cls_011">reasons, called an H-bridge.</span></div>
<div style="position:absolute;left:48.11px;top:189.85px" class="cls_011"><span class="cls_011">In Figure 8-8, S1 and S4 are closed and S2 and</span></div>
<div style="position:absolute;left:36.12px;top:204.84px" class="cls_011"><span class="cls_011">S3 are open. This allows current to flow through the</span></div>
<div style="position:absolute;left:288.62px;top:207.55px" class="cls_038"><span class="cls_038">-V</span></div>
<div style="position:absolute;left:36.12px;top:219.82px" class="cls_011"><span class="cls_011">motor with terminal A being positive and terminal B</span></div>
<div style="position:absolute;left:293.87px;top:221.10px" class="cls_025"><span class="cls_025">Figure 8-8</span></div>
<div style="position:absolute;left:353.81px;top:222.09px" class="cls_026"><span class="cls_026">An H-bridge.</span></div>
<div style="position:absolute;left:36.12px;top:234.81px" class="cls_011"><span class="cls_011">being negative. If we were to reverse the switches so</span></div>
<div style="position:absolute;left:36.12px;top:249.79px" class="cls_011"><span class="cls_011">that S2 and S3 are closed and S1 and S4 are open,</span></div>
<div style="position:absolute;left:36.12px;top:264.78px" class="cls_011"><span class="cls_011">then B will be positive and A will be negative and</span></div>
<div style="position:absolute;left:287.87px;top:260.88px" class="cls_027"><span class="cls_027">Project 24</span></div>
<div style="position:absolute;left:36.12px;top:279.76px" class="cls_011"><span class="cls_011">the motor will turn in the opposite direction.</span></div>
<div style="position:absolute;left:287.87px;top:280.86px" class="cls_021"><span class="cls_021">Hypnotizer</span></div>
<div style="position:absolute;left:48.11px;top:298.74px" class="cls_011"><span class="cls_011">However, you may have spotted a danger with</span></div>
<div style="position:absolute;left:287.87px;top:307.34px" class="cls_011"><span class="cls_011">Mind control is one of the Evil Genius’ favorite</span></div>
<div style="position:absolute;left:36.12px;top:313.73px" class="cls_011"><span class="cls_011">this circuit. That is, if by some chance S1 and S2</span></div>
<div style="position:absolute;left:287.87px;top:322.32px" class="cls_011"><span class="cls_011">things. This project (see Figure 8-9) takes</span></div>
<div style="position:absolute;left:36.12px;top:328.71px" class="cls_011"><span class="cls_011">are both closed, then the positive supply will be</span></div>
<div style="position:absolute;left:287.87px;top:337.31px" class="cls_011"><span class="cls_011">complete control of a motor to not only control its</span></div>
<div style="position:absolute;left:36.12px;top:343.70px" class="cls_011"><span class="cls_011">directly connected to the negative supply and we</span></div>
<div style="position:absolute;left:287.87px;top:352.29px" class="cls_011"><span class="cls_011">speed, but also to make it turn clockwise and</span></div>
<div style="position:absolute;left:36.12px;top:358.68px" class="cls_011"><span class="cls_011">will have a short-circuit. The same is true if S3 and</span></div>
<div style="position:absolute;left:287.87px;top:367.28px" class="cls_011"><span class="cls_011">counterclockwise. Attached to the motor will be a</span></div>
<div style="position:absolute;left:36.12px;top:373.67px" class="cls_011"><span class="cls_011">S4 are both closed at the same time.</span></div>
<div style="position:absolute;left:287.87px;top:382.26px" class="cls_011"><span class="cls_011">swirling spiral disk intended to mesmerize the</span></div>
<div style="position:absolute;left:48.11px;top:392.65px" class="cls_011"><span class="cls_011">In the following project, we will use transistors</span></div>
<div style="position:absolute;left:287.87px;top:397.25px" class="cls_011"><span class="cls_011">unfortunate victims.</span></div>
<div style="position:absolute;left:36.12px;top:407.63px" class="cls_011"><span class="cls_011">in place of the switches to control an electric</span></div>
<div style="position:absolute;left:36.12px;top:422.62px" class="cls_011"><span class="cls_011">motor.</span></div>
<div style="position:absolute;left:42.11px;top:707.86px" class="cls_025"><span class="cls_025">Figure 8-9</span></div>
<div style="position:absolute;left:102.05px;top:708.85px" class="cls_026"><span class="cls_026">Project 24. The hypnotizer.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:117780px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background152.jpg" width=552 height=770></div>
<div style="position:absolute;left:312.58px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 8</span></div>
<div style="position:absolute;left:376.23px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    Power Projects</span></div>
<div style="position:absolute;left:499.04px;top:34.50px" class="cls_017"><span class="cls_017">135</span></div>
<div style="position:absolute;left:287.97px;top:70.07px" class="cls_005"><span class="cls_005">Hardware</span></div>
<div style="position:absolute;left:44.22px;top:74.27px" class="cls_028"><span class="cls_028">COMPONENTS AND EQUIPMENT</span></div>
<div style="position:absolute;left:82.17px;top:97.64px" class="cls_029"><span class="cls_029">Description</span></div>
<div style="position:absolute;left:204.06px;top:97.64px" class="cls_029"><span class="cls_029">Appendix</span></div>
<div style="position:absolute;left:287.97px;top:93.55px" class="cls_011"><span class="cls_011">The schematic diagram for the hypnotizer is shown</span></div>
<div style="position:absolute;left:287.97px;top:108.53px" class="cls_011"><span class="cls_011">in Figure 8-10. It uses a standard H-bridge</span></div>
<div style="position:absolute;left:82.17px;top:117.62px" class="cls_026"><span class="cls_026">Arduino Diecimila or</span></div>
<div style="position:absolute;left:287.97px;top:123.52px" class="cls_011"><span class="cls_011">arrangement. Note that we are using metal oxide</span></div>
<div style="position:absolute;left:82.17px;top:130.61px" class="cls_026"><span class="cls_026">Duemilanove board or clone</span></div>
<div style="position:absolute;left:224.44px;top:130.61px" class="cls_026"><span class="cls_026">1</span></div>
<div style="position:absolute;left:287.97px;top:138.50px" class="cls_011"><span class="cls_011">semiconductor field effect transistors (MOSFETs)</span></div>
<div style="position:absolute;left:46.20px;top:147.59px" class="cls_026"><span class="cls_026">T2, T4</span></div>
<div style="position:absolute;left:82.17px;top:147.59px" class="cls_026"><span class="cls_026">N-channel power</span></div>
<div style="position:absolute;left:287.97px;top:153.49px" class="cls_011"><span class="cls_011">rather than bipolar transistors for the main power</span></div>
<div style="position:absolute;left:82.17px;top:160.58px" class="cls_026"><span class="cls_026">MOSFET. FQP33N10</span></div>
<div style="position:absolute;left:220.28px;top:160.58px" class="cls_026"><span class="cls_026">43</span></div>
<div style="position:absolute;left:287.97px;top:168.47px" class="cls_011"><span class="cls_011">control. In theory, this will allow us to control</span></div>
<div style="position:absolute;left:46.20px;top:177.56px" class="cls_026"><span class="cls_026">T1, T3</span></div>
<div style="position:absolute;left:82.17px;top:177.56px" class="cls_026"><span class="cls_026">P-channel power</span></div>
<div style="position:absolute;left:287.97px;top:183.46px" class="cls_011"><span class="cls_011">quite high-powered motors, but also has the</span></div>
<div style="position:absolute;left:82.17px;top:190.55px" class="cls_026"><span class="cls_026">MOSFET. FQP27P06</span></div>
<div style="position:absolute;left:220.02px;top:190.55px" class="cls_026"><span class="cls_026">44</span></div>
<div style="position:absolute;left:287.97px;top:198.44px" class="cls_011"><span class="cls_011">advantage in that the MOSFETs will barely even</span></div>
<div style="position:absolute;left:46.20px;top:207.54px" class="cls_026"><span class="cls_026">T4, T5</span></div>
<div style="position:absolute;left:82.17px;top:207.54px" class="cls_026"><span class="cls_026">BC548</span></div>
<div style="position:absolute;left:219.81px;top:207.54px" class="cls_026"><span class="cls_026">40</span></div>
<div style="position:absolute;left:287.97px;top:213.43px" class="cls_011"><span class="cls_011">get warm with our little motor and, therefore, we</span></div>
<div style="position:absolute;left:46.20px;top:224.52px" class="cls_026"><span class="cls_026">R1-6</span></div>
<div style="position:absolute;left:82.17px;top:224.52px" class="cls_026"><span class="cls_026">10 K</span></div>
<div style="position:absolute;left:111.20px;top:224.52px" class="cls_026"><span class="cls_026">0.5W metal film</span></div>
<div style="position:absolute;left:287.97px;top:228.41px" class="cls_011"><span class="cls_011">will not need heatsinks.</span></div>
<div style="position:absolute;left:82.17px;top:237.51px" class="cls_026"><span class="cls_026">resistor</span></div>
<div style="position:absolute;left:223.12px;top:237.51px" class="cls_026"><span class="cls_026">9</span></div>
<div style="position:absolute;left:299.96px;top:247.39px" class="cls_011"><span class="cls_011">The gate connections of the bottom MOSFETs</span></div>
<div style="position:absolute;left:46.20px;top:254.49px" class="cls_026"><span class="cls_026">M1</span></div>
<div style="position:absolute;left:82.17px;top:254.49px" class="cls_026"><span class="cls_026">6V motor</span></div>
<div style="position:absolute;left:220.10px;top:254.49px" class="cls_026"><span class="cls_026">64</span></div>
<div style="position:absolute;left:287.97px;top:262.38px" class="cls_011"><span class="cls_011">are cunningly connected to the outputs of their</span></div>
<div style="position:absolute;left:287.97px;top:277.36px" class="cls_011"><span class="cls_011">diagonally opposite transistors, so when T1 turns</span></div>
<div style="position:absolute;left:48.20px;top:290.15px" class="cls_011"><span class="cls_011">The motor that we used in this project was</span></div>
<div style="position:absolute;left:287.97px;top:292.35px" class="cls_011"><span class="cls_011">on, T4 will automatically turn on with it; when T3</span></div>
<div style="position:absolute;left:36.21px;top:305.13px" class="cls_011"><span class="cls_011">reclaimed from a broken computer CD drive. An</span></div>
<div style="position:absolute;left:287.97px;top:307.33px" class="cls_011"><span class="cls_011">turns on, T2 will turn on with it.</span></div>
<div style="position:absolute;left:36.21px;top:320.12px" class="cls_011"><span class="cls_011">alternative cheap source for a motor would be an</span></div>
<div style="position:absolute;left:299.96px;top:326.32px" class="cls_011"><span class="cls_011">The resistors R1 to R4 ensure that the default</span></div>
<div style="position:absolute;left:36.21px;top:335.10px" class="cls_011"><span class="cls_011">old motorized child’s toy. One with gears driving a</span></div>
<div style="position:absolute;left:287.97px;top:341.30px" class="cls_011"><span class="cls_011">state of T1 to T4 is off by pulling the gates of the</span></div>
<div style="position:absolute;left:36.21px;top:350.09px" class="cls_011"><span class="cls_011">wheel would lend itself particularly well to having</span></div>
<div style="position:absolute;left:287.97px;top:356.29px" class="cls_011"><span class="cls_011">P-channel MOSFETS high and the N-channel low.</span></div>
<div style="position:absolute;left:36.21px;top:365.07px" class="cls_011"><span class="cls_011">the hypnotic disk attached.</span></div>
<div style="position:absolute;left:42.21px;top:707.86px" class="cls_025"><span class="cls_025">Figure 8-10</span></div>
<div style="position:absolute;left:102.15px;top:708.85px" class="cls_026"><span class="cls_026">Schematic diagram for Project 24.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:118560px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background153.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">136</span></div>
<div style="position:absolute;left:81.71px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:48.11px;top:69.16px" class="cls_011"><span class="cls_011">T5 and T6 are low-current bipolar transistors</span></div>
<div style="position:absolute;left:36.12px;top:84.15px" class="cls_011"><span class="cls_011">that are used to turn on T1 and T3, respectively. In</span></div>
<div style="position:absolute;left:36.12px;top:99.13px" class="cls_011"><span class="cls_011">this case, we could do without these transistors and</span></div>
<div style="position:absolute;left:36.12px;top:114.12px" class="cls_011"><span class="cls_011">drive the gates of T1 and T3 directly from the</span></div>
<div style="position:absolute;left:36.12px;top:129.10px" class="cls_011"><span class="cls_011">Arduino board. However, to do this, the logic</span></div>
<div style="position:absolute;left:36.12px;top:144.09px" class="cls_011"><span class="cls_011">would be inverted (high at the gate would turn the</span></div>
<div style="position:absolute;left:36.12px;top:159.07px" class="cls_011"><span class="cls_011">transistor off). We could cope with this in the</span></div>
<div style="position:absolute;left:36.12px;top:174.06px" class="cls_011"><span class="cls_011">software, but the other reason for using these two</span></div>
<div style="position:absolute;left:36.12px;top:189.04px" class="cls_011"><span class="cls_011">additional components is that with them, we could</span></div>
<div style="position:absolute;left:36.12px;top:204.03px" class="cls_011"><span class="cls_011">use this circuit to control higher voltage motors,</span></div>
<div style="position:absolute;left:36.12px;top:219.01px" class="cls_011"><span class="cls_011">simply by using a higher positive supply voltage. If</span></div>
<div style="position:absolute;left:36.12px;top:234.00px" class="cls_011"><span class="cls_011">we were driving the MOSFETS directly, then the</span></div>
<div style="position:absolute;left:36.12px;top:248.98px" class="cls_011"><span class="cls_011">positive output of the Arduino would have to go</span></div>
<div style="position:absolute;left:36.12px;top:263.97px" class="cls_011"><span class="cls_011">higher than 5V to turn off the MOSFET if the</span></div>
<div style="position:absolute;left:293.87px;top:263.26px" class="cls_025"><span class="cls_025">Figure 8-12</span></div>
<div style="position:absolute;left:353.81px;top:264.25px" class="cls_026"><span class="cls_026">Spiral for the hypnotizer.</span></div>
<div style="position:absolute;left:36.12px;top:278.95px" class="cls_011"><span class="cls_011">motor supply was 9V or more, something that is</span></div>
<div style="position:absolute;left:36.12px;top:293.94px" class="cls_011"><span class="cls_011">not possible.</span></div>
<div style="position:absolute;left:287.87px;top:293.14px" class="cls_011"><span class="cls_011">colorful version of the spiral is available to print</span></div>
<div style="position:absolute;left:287.87px;top:308.12px" class="cls_011"><span class="cls_011">out from </span><A HREF="http://www.arduinoevilgenius.com./">www.arduinoevilgenius.com.</A> </div>
<div style="position:absolute;left:48.11px;top:312.92px" class="cls_011"><span class="cls_011">This does make the circuit overengineered, but</span></div>
<div style="position:absolute;left:36.12px;top:327.90px" class="cls_011"><span class="cls_011">the Evil Genius may have big ambitions on the</span></div>
<div style="position:absolute;left:299.86px;top:327.10px" class="cls_011"><span class="cls_011">The spiral was cut out of paper and stuck onto</span></div>
<div style="position:absolute;left:36.12px;top:342.89px" class="cls_011"><span class="cls_011">motor front!</span></div>
<div style="position:absolute;left:287.87px;top:342.09px" class="cls_011"><span class="cls_011">cardboard that was then glued on to the little cog</span></div>
<div style="position:absolute;left:287.87px;top:357.07px" class="cls_011"><span class="cls_011">on the end of the motor.</span></div>
<div style="position:absolute;left:48.11px;top:361.87px" class="cls_011"><span class="cls_011">Finally, C1 smoothes out some of the pulses of</span></div>
<div style="position:absolute;left:36.12px;top:376.86px" class="cls_011"><span class="cls_011">power use that you get when you drive a device</span></div>
<div style="position:absolute;left:36.12px;top:391.84px" class="cls_011"><span class="cls_011">like a motor.</span></div>
<div style="position:absolute;left:287.87px;top:390.05px" class="cls_005"><span class="cls_005">Software</span></div>
<div style="position:absolute;left:48.11px;top:410.82px" class="cls_011"><span class="cls_011">Figure 8-11 shows the breadboard layout for the</span></div>
<div style="position:absolute;left:287.87px;top:413.53px" class="cls_011"><span class="cls_011">The key thing about this sketch (Listing Project</span></div>
<div style="position:absolute;left:36.12px;top:425.81px" class="cls_011"><span class="cls_011">project.</span></div>
<div style="position:absolute;left:287.87px;top:428.51px" class="cls_011"><span class="cls_011">24) is to make it impossible for all the transistors</span></div>
<div style="position:absolute;left:48.11px;top:444.79px" class="cls_011"><span class="cls_011">Our hypnotizer needs a spiral pattern to work.</span></div>
<div style="position:absolute;left:287.87px;top:443.50px" class="cls_011"><span class="cls_011">to be on at the same time. If this happens, there</span></div>
<div style="position:absolute;left:36.12px;top:459.77px" class="cls_011"><span class="cls_011">You may decide to photocopy Figure 8-12, cut it</span></div>
<div style="position:absolute;left:287.87px;top:458.48px" class="cls_011"><span class="cls_011">will be a burning smell and something somewhere</span></div>
<div style="position:absolute;left:36.12px;top:474.76px" class="cls_011"><span class="cls_011">out, and stick it to the fan. Alternatively, a more</span></div>
<div style="position:absolute;left:287.87px;top:473.47px" class="cls_011"><span class="cls_011">will fizzle and die.</span></div>
<div style="position:absolute;left:42.11px;top:707.86px" class="cls_025"><span class="cls_025">Figure 8-11</span></div>
<div style="position:absolute;left:102.05px;top:708.85px" class="cls_026"><span class="cls_026">Breadboard layout for Project 24.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:119340px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background154.jpg" width=552 height=770></div>
<div style="position:absolute;left:312.69px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 8</span></div>
<div style="position:absolute;left:376.34px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    Power Projects</span></div>
<div style="position:absolute;left:499.15px;top:34.50px" class="cls_017"><span class="cls_017">137</span></div>
<div style="position:absolute;left:43.21px;top:76.46px" class="cls_032"><span class="cls_032">LISTING PROJECT 24</span></div>
<div style="position:absolute;left:52.20px;top:98.70px" class="cls_031"><span class="cls_031">int t1Pin = 5;</span></div>
<div style="position:absolute;left:52.20px;top:111.69px" class="cls_031"><span class="cls_031">int t3Pin = 6;</span></div>
<div style="position:absolute;left:52.20px;top:137.67px" class="cls_031"><span class="cls_031">int speeds[] = {20, 40, 80, 120, 160, 180, 160, 120, 80, 40, 20,</span></div>
<div style="position:absolute;left:147.12px;top:150.65px" class="cls_031"><span class="cls_031">-20, -40, -80, -120, -160, -180, -160, -120, -80, -40, -20};</span></div>
<div style="position:absolute;left:52.20px;top:163.64px" class="cls_031"><span class="cls_031">int i = 0;</span></div>
<div style="position:absolute;left:52.20px;top:189.61px" class="cls_031"><span class="cls_031">void setup()</span></div>
<div style="position:absolute;left:52.20px;top:202.60px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:64.06px;top:215.59px" class="cls_031"><span class="cls_031">pinMode(t1Pin, OUTPUT);</span></div>
<div style="position:absolute;left:64.06px;top:228.58px" class="cls_031"><span class="cls_031">digitalWrite(t1Pin, LOW);</span></div>
<div style="position:absolute;left:64.06px;top:241.57px" class="cls_031"><span class="cls_031">pinMode(t3Pin, OUTPUT);</span></div>
<div style="position:absolute;left:64.06px;top:254.55px" class="cls_031"><span class="cls_031">digitalWrite(t3Pin, LOW);</span></div>
<div style="position:absolute;left:52.20px;top:267.54px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.20px;top:293.51px" class="cls_031"><span class="cls_031">void loop()</span></div>
<div style="position:absolute;left:52.20px;top:306.50px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:64.06px;top:319.49px" class="cls_031"><span class="cls_031">int speed = speeds[i];</span></div>
<div style="position:absolute;left:64.06px;top:332.48px" class="cls_031"><span class="cls_031">i++;</span></div>
<div style="position:absolute;left:64.06px;top:345.46px" class="cls_031"><span class="cls_031">if (i == 22)</span></div>
<div style="position:absolute;left:64.06px;top:358.45px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.93px;top:371.44px" class="cls_031"><span class="cls_031">i = 0;</span></div>
<div style="position:absolute;left:64.06px;top:384.42px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:64.06px;top:397.41px" class="cls_031"><span class="cls_031">drive(speed);</span></div>
<div style="position:absolute;left:64.06px;top:410.40px" class="cls_031"><span class="cls_031">delay(1500);</span></div>
<div style="position:absolute;left:52.20px;top:423.38px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.20px;top:449.36px" class="cls_031"><span class="cls_031">void allOff()</span></div>
<div style="position:absolute;left:52.20px;top:462.35px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:64.06px;top:475.33px" class="cls_031"><span class="cls_031">digitalWrite(t1Pin, LOW);</span></div>
<div style="position:absolute;left:64.06px;top:488.32px" class="cls_031"><span class="cls_031">digitalWrite(t3Pin, LOW);</span></div>
<div style="position:absolute;left:64.06px;top:501.31px" class="cls_031"><span class="cls_031">delay(1);</span></div>
<div style="position:absolute;left:52.20px;top:514.29px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.20px;top:540.27px" class="cls_031"><span class="cls_031">void drive(int speed)</span></div>
<div style="position:absolute;left:52.20px;top:553.26px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:64.06px;top:566.24px" class="cls_031"><span class="cls_031">allOff();</span></div>
<div style="position:absolute;left:64.06px;top:579.23px" class="cls_031"><span class="cls_031">if (speed > 0)</span></div>
<div style="position:absolute;left:64.06px;top:592.22px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.93px;top:605.20px" class="cls_031"><span class="cls_031">analogWrite(t1Pin, speed);</span></div>
<div style="position:absolute;left:64.06px;top:618.19px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:64.06px;top:631.18px" class="cls_031"><span class="cls_031">else if (speed &lt; 0)</span></div>
<div style="position:absolute;left:64.06px;top:644.16px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.93px;top:657.15px" class="cls_031"><span class="cls_031">analogWrite(t3Pin,</span></div>
<div style="position:absolute;left:184.90px;top:657.15px" class="cls_031"><span class="cls_031">-speed);</span></div>
<div style="position:absolute;left:64.06px;top:670.14px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.20px;top:683.12px" class="cls_031"><span class="cls_031">}</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:120120px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background155.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">138</span></div>
<div style="position:absolute;left:81.39px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:48.11px;top:69.16px" class="cls_011"><span class="cls_011">Before turning any transistor on, all the</span></div>
<div style="position:absolute;left:287.87px;top:69.16px" class="cls_011"><span class="cls_011">provide them with is power (which, for many</span></div>
<div style="position:absolute;left:36.12px;top:84.15px" class="cls_011"><span class="cls_011">transistors are turned off using the allOff function.</span></div>
<div style="position:absolute;left:287.87px;top:84.14px" class="cls_011"><span class="cls_011">devices, can be 5V) and a control signal that we</span></div>
<div style="position:absolute;left:36.12px;top:99.13px" class="cls_011"><span class="cls_011">In addition, the allOff function includes a slight</span></div>
<div style="position:absolute;left:287.87px;top:99.13px" class="cls_011"><span class="cls_011">can generate from the Arduino board.</span></div>
<div style="position:absolute;left:36.12px;top:114.12px" class="cls_011"><span class="cls_011">delay to ensure that the transistors are properly off</span></div>
<div style="position:absolute;left:299.86px;top:118.11px" class="cls_011"><span class="cls_011">Over the years, the interface to servos has</span></div>
<div style="position:absolute;left:36.12px;top:129.10px" class="cls_011"><span class="cls_011">before anything is turned on.</span></div>
<div style="position:absolute;left:287.87px;top:133.09px" class="cls_011"><span class="cls_011">become standardized. The servo must receive a</span></div>
<div style="position:absolute;left:48.11px;top:148.08px" class="cls_011"><span class="cls_011">The sketch uses an array, speeds, to control the</span></div>
<div style="position:absolute;left:287.87px;top:148.08px" class="cls_011"><span class="cls_011">continuous stream of pulses at least every 20</span></div>
<div style="position:absolute;left:36.12px;top:163.07px" class="cls_011"><span class="cls_011">disk’s progression in speed. This makes the disk</span></div>
<div style="position:absolute;left:287.87px;top:163.06px" class="cls_011"><span class="cls_011">milliseconds. The angle that the servo maintains is</span></div>
<div style="position:absolute;left:36.12px;top:178.05px" class="cls_011"><span class="cls_011">spin faster and faster in one direction, and then</span></div>
<div style="position:absolute;left:287.87px;top:178.05px" class="cls_011"><span class="cls_011">determined by the pulse width. A pulse width of</span></div>
<div style="position:absolute;left:36.12px;top:193.04px" class="cls_011"><span class="cls_011">slow until it eventually reverses direction and then</span></div>
<div style="position:absolute;left:287.87px;top:193.03px" class="cls_011"><span class="cls_011">1.5 milliseconds will set the servo at its midpoint,</span></div>
<div style="position:absolute;left:36.12px;top:208.02px" class="cls_011"><span class="cls_011">starts getting faster and faster in that direction and</span></div>
<div style="position:absolute;left:287.87px;top:208.02px" class="cls_011"><span class="cls_011">or 90 degrees. A pulse of 1.75 milliseconds will</span></div>
<div style="position:absolute;left:36.12px;top:223.01px" class="cls_011"><span class="cls_011">so on. You may need to adjust this array for your</span></div>
<div style="position:absolute;left:287.87px;top:223.00px" class="cls_011"><span class="cls_011">normally swing it round to 180 degrees, and a</span></div>
<div style="position:absolute;left:36.12px;top:237.99px" class="cls_011"><span class="cls_011">particular motor. The speeds you will need to</span></div>
<div style="position:absolute;left:287.87px;top:237.99px" class="cls_011"><span class="cls_011">shorter pulse of 1.25 milliseconds will set the</span></div>
<div style="position:absolute;left:36.12px;top:252.98px" class="cls_011"><span class="cls_011">specify in the array will vary from motor to motor,</span></div>
<div style="position:absolute;left:287.87px;top:252.97px" class="cls_011"><span class="cls_011">angle to 0 degrees.</span></div>
<div style="position:absolute;left:36.12px;top:267.96px" class="cls_011"><span class="cls_011">so you will probably need to adjust these values.</span></div>
<div style="position:absolute;left:287.87px;top:291.44px" class="cls_027"><span class="cls_027">Project 25</span></div>
<div style="position:absolute;left:36.12px;top:300.94px" class="cls_005"><span class="cls_005">Putting It All Together</span></div>
<div style="position:absolute;left:287.87px;top:311.42px" class="cls_021"><span class="cls_021">Servo-Controlled Laser</span></div>
<div style="position:absolute;left:36.12px;top:324.41px" class="cls_011"><span class="cls_011">Load the completed sketch for Project 24 from</span></div>
<div style="position:absolute;left:36.12px;top:339.40px" class="cls_011"><span class="cls_011">your Arduino Sketchbook and download it to the</span></div>
<div style="position:absolute;left:287.87px;top:337.90px" class="cls_011"><span class="cls_011">This project (see Figure 8-13) uses two servo</span></div>
<div style="position:absolute;left:36.12px;top:354.38px" class="cls_011"><span class="cls_011">board (see Chapter 1).</span></div>
<div style="position:absolute;left:287.87px;top:352.88px" class="cls_011"><span class="cls_011">motors to aim a laser diode. It can move the laser</span></div>
<div style="position:absolute;left:287.87px;top:367.87px" class="cls_011"><span class="cls_011">quite quickly, so you can “write” on distant walls</span></div>
<div style="position:absolute;left:48.11px;top:373.36px" class="cls_011"><span class="cls_011">Take care to check your wiring before applying</span></div>
<div style="position:absolute;left:287.87px;top:382.85px" class="cls_011"><span class="cls_011">using it.</span></div>
<div style="position:absolute;left:36.12px;top:388.35px" class="cls_011"><span class="cls_011">power on this project. You can test each path</span></div>
<div style="position:absolute;left:36.12px;top:403.33px" class="cls_011"><span class="cls_011">through the H-bridge by connecting the control</span></div>
<div style="position:absolute;left:299.86px;top:401.84px" class="cls_011"><span class="cls_011">This is a real laser. It is not high-powered, only</span></div>
<div style="position:absolute;left:36.12px;top:418.32px" class="cls_011"><span class="cls_011">wires that go to digital pins 5 and 6 to ground.</span></div>
<div style="position:absolute;left:287.87px;top:416.82px" class="cls_011"><span class="cls_011">3 mW, but nonetheless, do not shine the beam in</span></div>
<div style="position:absolute;left:36.12px;top:433.30px" class="cls_011"><span class="cls_011">Then connect one of the leads to 5V and the motor</span></div>
<div style="position:absolute;left:287.87px;top:431.81px" class="cls_011"><span class="cls_011">your own or anybody else’s eyes. To do so could</span></div>
<div style="position:absolute;left:36.12px;top:448.29px" class="cls_011"><span class="cls_011">should turn one way. Connect that lead back to</span></div>
<div style="position:absolute;left:287.87px;top:446.79px" class="cls_011"><span class="cls_011">cause retina damage.</span></div>
<div style="position:absolute;left:36.12px;top:463.27px" class="cls_011"><span class="cls_011">ground and then connect the other lead to 5V and</span></div>
<div style="position:absolute;left:36.12px;top:478.26px" class="cls_011"><span class="cls_011">the motor should rotate the other way.</span></div>
<div style="position:absolute;left:295.88px;top:489.86px" class="cls_028"><span class="cls_028">COMPONENTS AND EQUIPMENT</span></div>
<div style="position:absolute;left:334.63px;top:513.24px" class="cls_029"><span class="cls_029">Description</span></div>
<div style="position:absolute;left:458.71px;top:513.24px" class="cls_029"><span class="cls_029">Appendix</span></div>
<div style="position:absolute;left:36.12px;top:518.72px" class="cls_021"><span class="cls_021">Servo Motors</span></div>
<div style="position:absolute;left:334.63px;top:533.22px" class="cls_026"><span class="cls_026">Arduino Diecimila or</span></div>
<div style="position:absolute;left:36.12px;top:545.20px" class="cls_011"><span class="cls_011">Servo motors are great little components that are</span></div>
<div style="position:absolute;left:334.63px;top:546.20px" class="cls_026"><span class="cls_026">Duemilanove board or clone</span></div>
<div style="position:absolute;left:479.09px;top:546.20px" class="cls_026"><span class="cls_026">1</span></div>
<div style="position:absolute;left:36.12px;top:560.18px" class="cls_011"><span class="cls_011">often used in radio-controlled cars to control</span></div>
<div style="position:absolute;left:297.86px;top:563.19px" class="cls_026"><span class="cls_026">D1</span></div>
<div style="position:absolute;left:334.63px;top:563.19px" class="cls_026"><span class="cls_026">3 mW red laser diode</span></div>
<div style="position:absolute;left:475.26px;top:563.19px" class="cls_026"><span class="cls_026">32</span></div>
<div style="position:absolute;left:36.12px;top:575.17px" class="cls_011"><span class="cls_011">steering and the control surfaces on model aircraft.</span></div>
<div style="position:absolute;left:297.86px;top:580.17px" class="cls_026"><span class="cls_026">M1, M2</span></div>
<div style="position:absolute;left:334.63px;top:580.17px" class="cls_026"><span class="cls_026">9g servo motor</span></div>
<div style="position:absolute;left:475.04px;top:580.17px" class="cls_026"><span class="cls_026">65</span></div>
<div style="position:absolute;left:36.12px;top:590.15px" class="cls_011"><span class="cls_011">They come in a variety of sizes for different types</span></div>
<div style="position:absolute;left:297.86px;top:597.15px" class="cls_026"><span class="cls_026">R1</span></div>
<div style="position:absolute;left:334.63px;top:597.15px" class="cls_026"><span class="cls_026">100</span></div>
<div style="position:absolute;left:363.62px;top:597.15px" class="cls_026"><span class="cls_026">0.5W metal film resistor</span></div>
<div style="position:absolute;left:477.95px;top:597.15px" class="cls_026"><span class="cls_026">5</span></div>
<div style="position:absolute;left:36.12px;top:605.14px" class="cls_011"><span class="cls_011">of applications, and their wide use in models</span></div>
<div style="position:absolute;left:334.63px;top:614.14px" class="cls_026"><span class="cls_026">Arduino Protoshield (optional)</span></div>
<div style="position:absolute;left:477.95px;top:614.14px" class="cls_026"><span class="cls_026">3</span></div>
<div style="position:absolute;left:36.12px;top:620.12px" class="cls_011"><span class="cls_011">makes them relatively inexpensive.</span></div>
<div style="position:absolute;left:334.63px;top:631.12px" class="cls_026"><span class="cls_026">0.1-inch header strip (6 pins)</span></div>
<div style="position:absolute;left:48.11px;top:639.10px" class="cls_011"><span class="cls_011">Unlike normal motors, they do not rotate</span></div>
<div style="position:absolute;left:334.63px;top:644.11px" class="cls_026"><span class="cls_026">(optional)</span></div>
<div style="position:absolute;left:475.19px;top:644.11px" class="cls_026"><span class="cls_026">55</span></div>
<div style="position:absolute;left:36.12px;top:654.09px" class="cls_011"><span class="cls_011">continuously; rather, you set them to a particular</span></div>
<div style="position:absolute;left:334.63px;top:661.09px" class="cls_026"><span class="cls_026">0.1-inch socket strip</span></div>
<div style="position:absolute;left:36.12px;top:669.07px" class="cls_011"><span class="cls_011">angle using a PWM signal. They contain their own</span></div>
<div style="position:absolute;left:334.63px;top:674.08px" class="cls_026"><span class="cls_026">(2 sockets) (optional)</span></div>
<div style="position:absolute;left:475.04px;top:674.08px" class="cls_026"><span class="cls_026">56</span></div>
<div style="position:absolute;left:36.12px;top:684.06px" class="cls_011"><span class="cls_011">control electronics to do this, so all you have to</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:120900px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background156.jpg" width=552 height=770></div>
<div style="position:absolute;left:312.26px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 8</span></div>
<div style="position:absolute;left:375.91px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    Power Projects</span></div>
<div style="position:absolute;left:498.72px;top:34.50px" class="cls_017"><span class="cls_017">139</span></div>
<div style="position:absolute;left:42.21px;top:362.37px" class="cls_025"><span class="cls_025">Figure 8-13</span></div>
<div style="position:absolute;left:102.15px;top:363.35px" class="cls_026"><span class="cls_026">Project 25. Servo-controlled laser.</span></div>
<div style="position:absolute;left:36.21px;top:407.14px" class="cls_005"><span class="cls_005">Hardware</span></div>
<div style="position:absolute;left:287.97px;top:406.23px" class="cls_011"><span class="cls_011">some of the wire from the laser to the arm to</span></div>
<div style="position:absolute;left:287.97px;top:421.21px" class="cls_011"><span class="cls_011">prevent strain on the wire where it emerges from</span></div>
<div style="position:absolute;left:36.21px;top:430.62px" class="cls_011"><span class="cls_011">The schematic diagram for the project is shown in</span></div>
<div style="position:absolute;left:287.97px;top:436.20px" class="cls_011"><span class="cls_011">the laser. You can do this by putting a loop of</span></div>
<div style="position:absolute;left:36.21px;top:445.60px" class="cls_011"><span class="cls_011">Figure 8-14. It is all quite simple. The servos have</span></div>
<div style="position:absolute;left:287.97px;top:451.18px" class="cls_011"><span class="cls_011">solid-core wire through two holes in the server arm</span></div>
<div style="position:absolute;left:36.21px;top:460.59px" class="cls_011"><span class="cls_011">just three leads. For each servo, the brown lead is</span></div>
<div style="position:absolute;left:287.97px;top:466.17px" class="cls_011"><span class="cls_011">and twisting it round the lead. You can see this in</span></div>
<div style="position:absolute;left:36.21px;top:475.57px" class="cls_011"><span class="cls_011">connected to ground, the red lead to +5V, and the</span></div>
<div style="position:absolute;left:287.97px;top:481.15px" class="cls_011"><span class="cls_011">Figure 8-17.</span></div>
<div style="position:absolute;left:36.21px;top:490.56px" class="cls_011"><span class="cls_011">orange (control) lead to digital outputs 2 and 3.</span></div>
<div style="position:absolute;left:299.96px;top:500.13px" class="cls_011"><span class="cls_011">You now need to attach the bottom servo to a</span></div>
<div style="position:absolute;left:36.21px;top:505.54px" class="cls_011"><span class="cls_011">The servos are terminated in sockets designed to fit</span></div>
<div style="position:absolute;left:287.97px;top:515.12px" class="cls_011"><span class="cls_011">box or something that will provide support. In</span></div>
<div style="position:absolute;left:36.21px;top:520.53px" class="cls_011"><span class="cls_011">over a pin header. Solid-core wire can be used to</span></div>
<div style="position:absolute;left:287.97px;top:530.10px" class="cls_011"><span class="cls_011">Figure 8-15, you can see how it is attached to an</span></div>
<div style="position:absolute;left:36.21px;top:535.51px" class="cls_011"><span class="cls_011">connect these to the breadboard.</span></div>
<div style="position:absolute;left:287.97px;top:545.09px" class="cls_011"><span class="cls_011">old project box. Make sure you understand how</span></div>
<div style="position:absolute;left:48.20px;top:554.50px" class="cls_011"><span class="cls_011">The laser diode is driven just like an ordinary</span></div>
<div style="position:absolute;left:287.97px;top:560.07px" class="cls_011"><span class="cls_011">the servo will move before you glue the bottom</span></div>
<div style="position:absolute;left:36.21px;top:569.48px" class="cls_011"><span class="cls_011">LED from D4 via a current-limiting resistor.</span></div>
<div style="position:absolute;left:287.97px;top:575.06px" class="cls_011"><span class="cls_011">servo to anything. If in doubt, wait until you have</span></div>
<div style="position:absolute;left:48.20px;top:588.46px" class="cls_011"><span class="cls_011">The servos are usually supplied with a range of</span></div>
<div style="position:absolute;left:287.97px;top:590.04px" class="cls_011"><span class="cls_011">installed the software and try the project out just</span></div>
<div style="position:absolute;left:36.21px;top:603.45px" class="cls_011"><span class="cls_011">“arms” that push onto a cogged drive and are</span></div>
<div style="position:absolute;left:287.97px;top:605.03px" class="cls_011"><span class="cls_011">holding the bottom servo before you glue it in</span></div>
<div style="position:absolute;left:36.21px;top:618.43px" class="cls_011"><span class="cls_011">secured by a retaining screw. One of the servos is</span></div>
<div style="position:absolute;left:287.97px;top:620.01px" class="cls_011"><span class="cls_011">place. Once you are sure everything is in the right</span></div>
<div style="position:absolute;left:36.21px;top:633.42px" class="cls_011"><span class="cls_011">glued onto one of these arms (see Figure 8-15).</span></div>
<div style="position:absolute;left:287.97px;top:635.00px" class="cls_011"><span class="cls_011">place, fit the retaining screws onto the servo arms.</span></div>
<div style="position:absolute;left:36.21px;top:648.40px" class="cls_011"><span class="cls_011">Then the arm is attached to the servo. Do not fit</span></div>
<div style="position:absolute;left:299.96px;top:653.98px" class="cls_011"><span class="cls_011">You can see how the breadboard is used to</span></div>
<div style="position:absolute;left:36.21px;top:663.39px" class="cls_011"><span class="cls_011">the retaining screw yet, as you will need to adjust</span></div>
<div style="position:absolute;left:287.97px;top:668.97px" class="cls_011"><span class="cls_011">anchor the various wires in Figure 8-13. There are</span></div>
<div style="position:absolute;left:36.21px;top:678.37px" class="cls_011"><span class="cls_011">the angle. Glue the laser diode to a second arm and</span></div>
<div style="position:absolute;left:287.97px;top:683.95px" class="cls_011"><span class="cls_011">no components except the resistor on the</span></div>
<div style="position:absolute;left:36.21px;top:693.36px" class="cls_011"><span class="cls_011">attach that to the servo. It is a good idea to fix</span></div>
<div style="position:absolute;left:287.97px;top:698.94px" class="cls_011"><span class="cls_011">breadboard.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:121680px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background157.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">140</span></div>
<div style="position:absolute;left:83.07px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:42.11px;top:325.60px" class="cls_025"><span class="cls_025">Figure 8-14</span></div>
<div style="position:absolute;left:102.05px;top:326.59px" class="cls_026"><span class="cls_026">Schematic diagram for Project 25.</span></div>
<div style="position:absolute;left:36.12px;top:356.39px" class="cls_005"><span class="cls_005">Software</span></div>
<div style="position:absolute;left:287.87px;top:355.48px" class="cls_011"><span class="cls_011">issuing our evil project with coordinates at which</span></div>
<div style="position:absolute;left:287.87px;top:370.47px" class="cls_011"><span class="cls_011">to aim the laser.</span></div>
<div style="position:absolute;left:36.12px;top:379.87px" class="cls_011"><span class="cls_011">Fortunately for us, a servo library comes with the</span></div>
<div style="position:absolute;left:299.86px;top:389.45px" class="cls_011"><span class="cls_011">To do this, we allow commands to be sent over</span></div>
<div style="position:absolute;left:36.12px;top:394.85px" class="cls_011"><span class="cls_011">Arduino library, so all we need to do is tell each</span></div>
<div style="position:absolute;left:287.87px;top:404.43px" class="cls_011"><span class="cls_011">USB. The commands are in the form of letters.</span></div>
<div style="position:absolute;left:36.12px;top:409.84px" class="cls_011"><span class="cls_011">servo what angle to set itself at. There is obviously</span></div>
<div style="position:absolute;left:287.87px;top:419.42px" class="cls_011"><span class="cls_011">R, L, U, and D direct the laser right, left, up, or</span></div>
<div style="position:absolute;left:36.12px;top:424.82px" class="cls_011"><span class="cls_011">more to it than that, as we want to have a means of</span></div>
<div style="position:absolute;left:287.87px;top:434.40px" class="cls_011"><span class="cls_011">down, respectively, by five degrees. For finer</span></div>
<div style="position:absolute;left:287.87px;top:449.39px" class="cls_011"><span class="cls_011">movements, r, l, u, and d move the laser by just</span></div>
<div style="position:absolute;left:287.87px;top:464.37px" class="cls_011"><span class="cls_011">one degree. To pause and allow the laser to finish</span></div>
<div style="position:absolute;left:287.87px;top:479.36px" class="cls_011"><span class="cls_011">moving, you can send the - (dash) character. (See</span></div>
<div style="position:absolute;left:287.87px;top:494.34px" class="cls_011"><span class="cls_011">Project Listing 25.)</span></div>
<div style="position:absolute;left:299.86px;top:513.33px" class="cls_011"><span class="cls_011">There are three other commands. The letter c</span></div>
<div style="position:absolute;left:287.87px;top:528.31px" class="cls_011"><span class="cls_011">will center the laser back at its resting position,</span></div>
<div style="position:absolute;left:287.87px;top:543.30px" class="cls_011"><span class="cls_011">and the commands 1 and 0 turn the laser on and</span></div>
<div style="position:absolute;left:287.87px;top:558.28px" class="cls_011"><span class="cls_011">off, respectively.</span></div>
<div style="position:absolute;left:287.87px;top:591.25px" class="cls_005"><span class="cls_005">Putting It All Together</span></div>
<div style="position:absolute;left:287.87px;top:614.73px" class="cls_011"><span class="cls_011">Load the completed sketch for Project 25 from</span></div>
<div style="position:absolute;left:287.87px;top:629.71px" class="cls_011"><span class="cls_011">your Arduino Sketchbook and download it to the</span></div>
<div style="position:absolute;left:287.87px;top:644.70px" class="cls_011"><span class="cls_011">board (see Chapter 1).</span></div>
<div style="position:absolute;left:42.11px;top:707.86px" class="cls_025"><span class="cls_025">Figure 8-15</span></div>
<div style="position:absolute;left:102.05px;top:708.85px" class="cls_026"><span class="cls_026">Servo and laser assembly.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:122460px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background158.jpg" width=552 height=770></div>
<div style="position:absolute;left:313.98px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 8</span></div>
<div style="position:absolute;left:377.63px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    Power Projects</span></div>
<div style="position:absolute;left:500.43px;top:34.50px" class="cls_017"><span class="cls_017">141</span></div>
<div style="position:absolute;left:43.21px;top:76.46px" class="cls_032"><span class="cls_032">LISTING PROJECT 25</span></div>
<div style="position:absolute;left:52.20px;top:98.70px" class="cls_031"><span class="cls_031">#include &lt;Servo.h></span></div>
<div style="position:absolute;left:52.20px;top:124.68px" class="cls_031"><span class="cls_031">int laserPin = 4;</span></div>
<div style="position:absolute;left:52.20px;top:137.67px" class="cls_031"><span class="cls_031">Servo servoV;</span></div>
<div style="position:absolute;left:52.20px;top:150.65px" class="cls_031"><span class="cls_031">Servo servoH;</span></div>
<div style="position:absolute;left:52.20px;top:176.63px" class="cls_031"><span class="cls_031">int x = 90;</span></div>
<div style="position:absolute;left:52.20px;top:189.61px" class="cls_031"><span class="cls_031">int y = 90;</span></div>
<div style="position:absolute;left:52.20px;top:202.60px" class="cls_031"><span class="cls_031">int minX = 10;</span></div>
<div style="position:absolute;left:52.20px;top:215.59px" class="cls_031"><span class="cls_031">int maxX = 170;</span></div>
<div style="position:absolute;left:52.20px;top:228.57px" class="cls_031"><span class="cls_031">int minY = 50;</span></div>
<div style="position:absolute;left:52.20px;top:241.56px" class="cls_031"><span class="cls_031">int maxY = 130;</span></div>
<div style="position:absolute;left:52.20px;top:267.54px" class="cls_031"><span class="cls_031">void setup()</span></div>
<div style="position:absolute;left:52.20px;top:280.52px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:64.06px;top:293.51px" class="cls_031"><span class="cls_031">servoH.attach(3);</span></div>
<div style="position:absolute;left:64.06px;top:306.50px" class="cls_031"><span class="cls_031">servoV.attach(2);</span></div>
<div style="position:absolute;left:64.06px;top:319.49px" class="cls_031"><span class="cls_031">pinMode(laserPin, OUTPUT);</span></div>
<div style="position:absolute;left:64.06px;top:332.47px" class="cls_031"><span class="cls_031">Serial.begin(9600);</span></div>
<div style="position:absolute;left:52.20px;top:345.46px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.20px;top:371.44px" class="cls_031"><span class="cls_031">void loop()</span></div>
<div style="position:absolute;left:52.20px;top:384.42px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:64.06px;top:397.41px" class="cls_031"><span class="cls_031">char ch;</span></div>
<div style="position:absolute;left:64.06px;top:410.40px" class="cls_031"><span class="cls_031">if (Serial.available())</span></div>
<div style="position:absolute;left:64.06px;top:423.38px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.93px;top:436.37px" class="cls_031"><span class="cls_031">ch = Serial.read();</span></div>
<div style="position:absolute;left:75.93px;top:449.36px" class="cls_031"><span class="cls_031">if (ch == '0')</span></div>
<div style="position:absolute;left:75.93px;top:462.34px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:87.79px;top:475.33px" class="cls_031"><span class="cls_031">digitalWrite(laserPin, LOW);</span></div>
<div style="position:absolute;left:75.93px;top:488.32px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:75.93px;top:501.30px" class="cls_031"><span class="cls_031">else if (ch == '1')</span></div>
<div style="position:absolute;left:75.93px;top:514.29px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:87.79px;top:527.28px" class="cls_031"><span class="cls_031">digitalWrite(laserPin, HIGH);</span></div>
<div style="position:absolute;left:75.93px;top:540.27px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:75.93px;top:553.25px" class="cls_031"><span class="cls_031">else if (ch == '-')</span></div>
<div style="position:absolute;left:75.93px;top:566.24px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:87.79px;top:579.23px" class="cls_031"><span class="cls_031">delay(100);</span></div>
<div style="position:absolute;left:75.93px;top:592.22px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:75.93px;top:605.20px" class="cls_031"><span class="cls_031">else if (ch == 'c')</span></div>
<div style="position:absolute;left:75.93px;top:618.19px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:87.79px;top:631.18px" class="cls_031"><span class="cls_031">x = 90;</span></div>
<div style="position:absolute;left:87.79px;top:644.16px" class="cls_031"><span class="cls_031">y = 90;</span></div>
<div style="position:absolute;left:75.93px;top:657.15px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:75.93px;top:670.14px" class="cls_031"><span class="cls_031">else if (ch == 'l' || ch == 'r' || ch == 'u' || ch == 'd')</span></div>
<div style="position:absolute;left:75.93px;top:683.12px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:464.31px;top:698.11px" class="cls_037"><span class="cls_037">(continued)</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:123240px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background159.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">142</span></div>
<div style="position:absolute;left:82.00px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:43.11px;top:76.46px" class="cls_032"><span class="cls_032">LISTING PROJECT 25 (continued)</span></div>
<div style="position:absolute;left:87.70px;top:98.70px" class="cls_031"><span class="cls_031">moveLaser(ch, 1);</span></div>
<div style="position:absolute;left:75.83px;top:111.69px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:75.83px;top:124.68px" class="cls_031"><span class="cls_031">else if (ch == 'L' || ch == 'R' || ch == 'U' || ch == 'D')</span></div>
<div style="position:absolute;left:75.83px;top:137.66px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:87.70px;top:150.65px" class="cls_031"><span class="cls_031">moveLaser(ch, 5);</span></div>
<div style="position:absolute;left:75.83px;top:163.64px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:63.97px;top:176.63px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:63.97px;top:189.61px" class="cls_031"><span class="cls_031">servoH.write(x);</span></div>
<div style="position:absolute;left:63.97px;top:202.60px" class="cls_031"><span class="cls_031">servoV.write(y);</span></div>
<div style="position:absolute;left:52.10px;top:215.59px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.10px;top:241.56px" class="cls_031"><span class="cls_031">void moveLaser(char dir, int amount)</span></div>
<div style="position:absolute;left:52.10px;top:254.55px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:63.97px;top:267.54px" class="cls_031"><span class="cls_031">if ((dir == 'r' || dir == 'R') && x > minX)</span></div>
<div style="position:absolute;left:63.97px;top:280.52px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.83px;top:293.51px" class="cls_031"><span class="cls_031">x = x - amount;</span></div>
<div style="position:absolute;left:63.97px;top:306.50px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:63.97px;top:319.48px" class="cls_031"><span class="cls_031">else if ((dir == 'l' || dir == 'L') && x &lt; maxX)</span></div>
<div style="position:absolute;left:63.97px;top:332.47px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.83px;top:345.46px" class="cls_031"><span class="cls_031">x = x + amount;</span></div>
<div style="position:absolute;left:63.97px;top:358.45px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:63.97px;top:371.43px" class="cls_031"><span class="cls_031">else if ((dir == 'u' || dir == 'U') && y &lt; maxY)</span></div>
<div style="position:absolute;left:63.97px;top:384.42px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.83px;top:397.41px" class="cls_031"><span class="cls_031">y = y + amount;</span></div>
<div style="position:absolute;left:63.97px;top:410.39px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:63.97px;top:423.38px" class="cls_031"><span class="cls_031">else if ((dir == 'd' || dir == 'D') && x > minY)</span></div>
<div style="position:absolute;left:63.97px;top:436.37px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.83px;top:449.35px" class="cls_031"><span class="cls_031">y = y - amount;</span></div>
<div style="position:absolute;left:63.97px;top:462.34px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.10px;top:475.33px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:48.11px;top:512.13px" class="cls_011"><span class="cls_011">Open up the Serial Monitor and type the</span></div>
<div style="position:absolute;left:299.86px;top:512.13px" class="cls_011"><span class="cls_011">The top and bottom sides of the shield are</span></div>
<div style="position:absolute;left:36.12px;top:527.11px" class="cls_011"><span class="cls_011">following sequence. You should see the laser trace</span></div>
<div style="position:absolute;left:287.87px;top:527.11px" class="cls_011"><span class="cls_011">shown in Figures 8-17 and 8-18.</span></div>
<div style="position:absolute;left:36.12px;top:542.10px" class="cls_011"><span class="cls_011">the letter A, as shown in Figure 8-16:</span></div>
<div style="position:absolute;left:42.11px;top:567.58px" class="cls_031"><span class="cls_031">1UUUUUU—RRRR—DDDDDD—0UUU—1LLLL—0DDD</span></div>
<div style="position:absolute;left:287.87px;top:567.57px" class="cls_021"><span class="cls_021">Summary</span></div>
<div style="position:absolute;left:36.12px;top:594.55px" class="cls_005"><span class="cls_005">Making a Shield</span></div>
<div style="position:absolute;left:287.87px;top:594.05px" class="cls_011"><span class="cls_011">In the previous chapters we have built up our</span></div>
<div style="position:absolute;left:287.87px;top:609.03px" class="cls_011"><span class="cls_011">knowledge to understand how to use light, sound,</span></div>
<div style="position:absolute;left:36.12px;top:618.03px" class="cls_011"><span class="cls_011">Creating a shield is no problem at all for this</span></div>
<div style="position:absolute;left:287.87px;top:624.02px" class="cls_011"><span class="cls_011">and various sensors on the Arduino. We have also</span></div>
<div style="position:absolute;left:36.12px;top:633.01px" class="cls_011"><span class="cls_011">project. The bottom servo can be glued in place on</span></div>
<div style="position:absolute;left:287.87px;top:639.00px" class="cls_011"><span class="cls_011">learned how to control the power to motors and to</span></div>
<div style="position:absolute;left:36.12px;top:648.00px" class="cls_011"><span class="cls_011">one edge of the board. The pin headers are</span></div>
<div style="position:absolute;left:287.87px;top:653.99px" class="cls_011"><span class="cls_011">use relays. This covers nearly everything we are</span></div>
<div style="position:absolute;left:36.12px;top:662.98px" class="cls_011"><span class="cls_011">soldered in place near the 5V and GND lines that</span></div>
<div style="position:absolute;left:287.87px;top:668.97px" class="cls_011"><span class="cls_011">likely to want to do with our Arduino board, so in</span></div>
<div style="position:absolute;left:36.12px;top:677.97px" class="cls_011"><span class="cls_011">run down the center of the shield so that they can</span></div>
<div style="position:absolute;left:287.87px;top:683.96px" class="cls_011"><span class="cls_011">the next chapter, we can put all these things</span></div>
<div style="position:absolute;left:36.12px;top:692.95px" class="cls_011"><span class="cls_011">be connected easily to the positive and negative</span></div>
<div style="position:absolute;left:287.87px;top:698.94px" class="cls_011"><span class="cls_011">together to create some wider-ranging projects.</span></div>
<div style="position:absolute;left:36.12px;top:707.94px" class="cls_011"><span class="cls_011">pins on the servo connectors.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:124020px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background160.jpg" width=552 height=770></div>
<div style="position:absolute;left:311.99px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 8</span></div>
<div style="position:absolute;left:375.64px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    Power Projects</span></div>
<div style="position:absolute;left:498.45px;top:34.50px" class="cls_017"><span class="cls_017">143</span></div>
<div style="position:absolute;left:42.21px;top:323.60px" class="cls_025"><span class="cls_025">Figure 8-16</span></div>
<div style="position:absolute;left:102.15px;top:324.59px" class="cls_026"><span class="cls_026">Writing the letter A with the laser.</span></div>
<div style="position:absolute;left:293.96px;top:323.20px" class="cls_025"><span class="cls_025">Figure 8-17</span></div>
<div style="position:absolute;left:353.90px;top:324.19px" class="cls_026"><span class="cls_026">Servo laser shield.</span></div>
<div style="position:absolute;left:168.68px;top:647.92px" class="cls_025"><span class="cls_025">Figure 8-18</span></div>
<div style="position:absolute;left:228.63px;top:648.91px" class="cls_026"><span class="cls_026">Bottom side of the servo laser</span></div>
<div style="position:absolute;left:228.63px;top:662.89px" class="cls_026"><span class="cls_026">shield.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:124800px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background161.jpg" width=552 height=770></div>
<div style="position:absolute;left:196.00px;top:374.44px" class="cls_020"><span class="cls_020">This page intentionally left blank</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:125580px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background162.jpg" width=552 height=770></div>
<div style="position:absolute;left:196.16px;top:51.87px" class="cls_024"><span class="cls_024">C H A P T E R</span></div>
<div style="position:absolute;left:344.00px;top:51.87px" class="cls_024"><span class="cls_024">9</span></div>
<div style="position:absolute;left:114.40px;top:100.55px" class="cls_023"><span class="cls_023">Miscellaneous Projects</span></div>
<div style="position:absolute;left:36.21px;top:220.00px" class="cls_016"><span class="cls_016">T</span><span class="cls_019">HIS CHAPTER IS JUST</span><span class="cls_011"> a collection of projects that</span></div>
<div style="position:absolute;left:287.97px;top:220.00px" class="cls_011"><span class="cls_011">9-1) uses an effect known as galvanic skin</span></div>
<div style="position:absolute;left:36.21px;top:234.98px" class="cls_011"><span class="cls_011">we can build. They do not illustrate any particular</span></div>
<div style="position:absolute;left:287.97px;top:234.98px" class="cls_011"><span class="cls_011">response. As a person becomes nervous—for</span></div>
<div style="position:absolute;left:36.21px;top:249.97px" class="cls_011"><span class="cls_011">point except that Arduino projects are great fun to</span></div>
<div style="position:absolute;left:287.97px;top:249.97px" class="cls_011"><span class="cls_011">example, when telling a lie—their skin resistance</span></div>
<div style="position:absolute;left:36.21px;top:264.95px" class="cls_011"><span class="cls_011">make.</span></div>
<div style="position:absolute;left:287.97px;top:264.95px" class="cls_011"><span class="cls_011">decreases. We can measure this resistance using an</span></div>
<div style="position:absolute;left:287.97px;top:279.94px" class="cls_011"><span class="cls_011">analog input and use an LED and buzzer to</span></div>
<div style="position:absolute;left:287.97px;top:294.92px" class="cls_011"><span class="cls_011">indicate an untruth.</span></div>
<div style="position:absolute;left:36.21px;top:303.42px" class="cls_027"><span class="cls_027">Project 26</span></div>
<div style="position:absolute;left:299.96px;top:313.90px" class="cls_011"><span class="cls_011">We use a multicolor LED that will display red</span></div>
<div style="position:absolute;left:36.21px;top:323.40px" class="cls_021"><span class="cls_021">Lie Detector</span></div>
<div style="position:absolute;left:287.97px;top:328.89px" class="cls_011"><span class="cls_011">to indicate a lie, green to indicate a truth, and blue</span></div>
<div style="position:absolute;left:287.97px;top:343.87px" class="cls_011"><span class="cls_011">to show that the lie detector should be adjusted by</span></div>
<div style="position:absolute;left:36.21px;top:349.87px" class="cls_011"><span class="cls_011">How can an Evil Genius be sure that their</span></div>
<div style="position:absolute;left:287.97px;top:358.86px" class="cls_011"><span class="cls_011">twiddling the variable resistor.</span></div>
<div style="position:absolute;left:36.21px;top:364.86px" class="cls_011"><span class="cls_011">prisoners are telling the truth? By using a lie</span></div>
<div style="position:absolute;left:36.21px;top:379.84px" class="cls_011"><span class="cls_011">detector, of course. This lie detector (see Figure</span></div>
<div style="position:absolute;left:42.21px;top:690.86px" class="cls_025"><span class="cls_025">Figure 9-1</span></div>
<div style="position:absolute;left:102.15px;top:691.85px" class="cls_026"><span class="cls_026">Project 26. Lie detector.</span></div>
<div style="position:absolute;left:498.36px;top:722.05px" class="cls_017"><span class="cls_017">145</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:126360px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background163.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">146</span></div>
<div style="position:absolute;left:82.39px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:287.87px;top:70.07px" class="cls_005"><span class="cls_005">Hardware</span></div>
<div style="position:absolute;left:44.12px;top:74.27px" class="cls_028"><span class="cls_028">COMPONENTS AND EQUIPMENT</span></div>
<div style="position:absolute;left:287.87px;top:93.55px" class="cls_011"><span class="cls_011">The subject’s skin resistance is measured by using</span></div>
<div style="position:absolute;left:73.08px;top:97.64px" class="cls_029"><span class="cls_029">Description</span></div>
<div style="position:absolute;left:206.96px;top:97.64px" class="cls_029"><span class="cls_029">Appendix</span></div>
<div style="position:absolute;left:287.87px;top:108.53px" class="cls_011"><span class="cls_011">the subject as one resistor in a potential divider and</span></div>
<div style="position:absolute;left:73.08px;top:117.62px" class="cls_026"><span class="cls_026">Arduino Diecimila or</span></div>
<div style="position:absolute;left:287.87px;top:123.52px" class="cls_011"><span class="cls_011">a fixed resistor as the other. The lower their</span></div>
<div style="position:absolute;left:73.08px;top:130.61px" class="cls_026"><span class="cls_026">Duemilanove board or clone</span></div>
<div style="position:absolute;left:227.34px;top:130.61px" class="cls_026"><span class="cls_026">1</span></div>
<div style="position:absolute;left:287.87px;top:138.50px" class="cls_011"><span class="cls_011">resistance, the more analog input 0 will be pulled</span></div>
<div style="position:absolute;left:46.11px;top:147.59px" class="cls_026"><span class="cls_026">R1-3</span></div>
<div style="position:absolute;left:73.08px;top:147.59px" class="cls_026"><span class="cls_026">100</span></div>
<div style="position:absolute;left:102.08px;top:147.59px" class="cls_026"><span class="cls_026">0.5W metal film resistor</span></div>
<div style="position:absolute;left:226.19px;top:147.59px" class="cls_026"><span class="cls_026">5</span></div>
<div style="position:absolute;left:287.87px;top:153.49px" class="cls_011"><span class="cls_011">towards 5V. The higher the resistance, the closer to</span></div>
<div style="position:absolute;left:46.11px;top:164.58px" class="cls_026"><span class="cls_026">R4</span></div>
<div style="position:absolute;left:73.08px;top:164.58px" class="cls_026"><span class="cls_026">470 K</span></div>
<div style="position:absolute;left:109.77px;top:164.58px" class="cls_026"><span class="cls_026">0.5W metal film resistor</span></div>
<div style="position:absolute;left:224.32px;top:164.58px" class="cls_026"><span class="cls_026">14</span></div>
<div style="position:absolute;left:287.87px;top:168.47px" class="cls_011"><span class="cls_011">GND it will become.</span></div>
<div style="position:absolute;left:46.11px;top:181.56px" class="cls_026"><span class="cls_026">R5</span></div>
<div style="position:absolute;left:73.08px;top:181.56px" class="cls_026"><span class="cls_026">100 K   variable resistor</span></div>
<div style="position:absolute;left:224.65px;top:181.56px" class="cls_026"><span class="cls_026">17</span></div>
<div style="position:absolute;left:299.86px;top:187.45px" class="cls_011"><span class="cls_011">The piezobuzzer, despite the level of noise these</span></div>
<div style="position:absolute;left:46.11px;top:198.54px" class="cls_026"><span class="cls_026">D1</span></div>
<div style="position:absolute;left:73.08px;top:198.54px" class="cls_026"><span class="cls_026">RGB LED (common anode)</span></div>
<div style="position:absolute;left:224.57px;top:198.54px" class="cls_026"><span class="cls_026">31</span></div>
<div style="position:absolute;left:287.87px;top:202.44px" class="cls_011"><span class="cls_011">things generate, is actually quite low in current</span></div>
<div style="position:absolute;left:46.11px;top:215.53px" class="cls_026"><span class="cls_026">S1</span></div>
<div style="position:absolute;left:73.08px;top:215.53px" class="cls_026"><span class="cls_026">Piezotransducer</span></div>
<div style="position:absolute;left:287.87px;top:217.42px" class="cls_011"><span class="cls_011">consumption and can be driven directly from an</span></div>
<div style="position:absolute;left:73.08px;top:228.52px" class="cls_026"><span class="cls_026">(without driver electronics)</span></div>
<div style="position:absolute;left:223.47px;top:228.52px" class="cls_026"><span class="cls_026">67</span></div>
<div style="position:absolute;left:287.87px;top:232.41px" class="cls_011"><span class="cls_011">Arduino digital pin.</span></div>
<div style="position:absolute;left:299.86px;top:251.39px" class="cls_011"><span class="cls_011">This project uses the same multicolor LED as</span></div>
<div style="position:absolute;left:48.11px;top:263.97px" class="cls_011"><span class="cls_011">There are two types of piezobuzzers. Some are</span></div>
<div style="position:absolute;left:287.87px;top:266.38px" class="cls_011"><span class="cls_011">Project 14. In this case, however, we are not going</span></div>
<div style="position:absolute;left:36.12px;top:278.96px" class="cls_011"><span class="cls_011">just a piezoelectric transducer, while some also</span></div>
<div style="position:absolute;left:287.87px;top:281.36px" class="cls_011"><span class="cls_011">to blend different colors but just turn one of the</span></div>
<div style="position:absolute;left:36.12px;top:293.94px" class="cls_011"><span class="cls_011">include the electronic oscillator to drive them. In</span></div>
<div style="position:absolute;left:287.87px;top:296.35px" class="cls_011"><span class="cls_011">LEDs on at a time to display red, green, or blue.</span></div>
<div style="position:absolute;left:36.12px;top:308.93px" class="cls_011"><span class="cls_011">this project we want the former type without the</span></div>
<div style="position:absolute;left:299.86px;top:315.33px" class="cls_011"><span class="cls_011">Figure 9-2 shows the schematic diagram for the</span></div>
<div style="position:absolute;left:36.12px;top:323.91px" class="cls_011"><span class="cls_011">electronics, as we are going to generate the</span></div>
<div style="position:absolute;left:287.87px;top:330.31px" class="cls_011"><span class="cls_011">project and Figure 9-3 the breadboard layout.</span></div>
<div style="position:absolute;left:36.12px;top:338.90px" class="cls_011"><span class="cls_011">necessary frequency from the Arduino board itself.</span></div>
<div style="position:absolute;left:42.11px;top:707.86px" class="cls_025"><span class="cls_025">Figure 9-2</span></div>
<div style="position:absolute;left:102.05px;top:708.85px" class="cls_026"><span class="cls_026">Schematic diagram for Project 26.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:127140px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background164.jpg" width=552 height=770></div>
<div style="position:absolute;left:274.56px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 9</span></div>
<div style="position:absolute;left:338.38px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    Miscellaneous Projects</span></div>
<div style="position:absolute;left:498.47px;top:34.50px" class="cls_017"><span class="cls_017">147</span></div>
<div style="position:absolute;left:42.21px;top:279.25px" class="cls_025"><span class="cls_025">Figure 9-3</span></div>
<div style="position:absolute;left:102.15px;top:280.23px" class="cls_026"><span class="cls_026">Breadboard layout for Project 26.</span></div>
<div style="position:absolute;left:48.20px;top:309.13px" class="cls_011"><span class="cls_011">The variable resistor is used to adjust the set</span></div>
<div style="position:absolute;left:294.96px;top:316.63px" class="cls_032"><span class="cls_032">LISTING PROJECT 26</span></div>
<div style="position:absolute;left:36.21px;top:324.11px" class="cls_011"><span class="cls_011">point of resistance, and the touch pads are just two</span></div>
<div style="position:absolute;left:303.95px;top:338.87px" class="cls_031"><span class="cls_031">int redPin = 9;</span></div>
<div style="position:absolute;left:36.21px;top:339.10px" class="cls_011"><span class="cls_011">metal thumbtacks pushed into the breadboard.</span></div>
<div style="position:absolute;left:303.95px;top:351.86px" class="cls_031"><span class="cls_031">int greenPin = 10;</span></div>
<div style="position:absolute;left:303.95px;top:364.84px" class="cls_031"><span class="cls_031">int bluePin = 11;</span></div>
<div style="position:absolute;left:36.21px;top:372.07px" class="cls_005"><span class="cls_005">Software</span></div>
<div style="position:absolute;left:303.95px;top:377.83px" class="cls_031"><span class="cls_031">int buzzerPin = 7;</span></div>
<div style="position:absolute;left:36.21px;top:395.54px" class="cls_011"><span class="cls_011">The script for this project (Listing Project 26) just</span></div>
<div style="position:absolute;left:303.95px;top:403.80px" class="cls_031"><span class="cls_031">int potPin = 1;</span></div>
<div style="position:absolute;left:36.21px;top:410.53px" class="cls_011"><span class="cls_011">has to compare the voltage at A0 and A1. If they</span></div>
<div style="position:absolute;left:303.95px;top:416.79px" class="cls_031"><span class="cls_031">int sensorPin = 0;</span></div>
<div style="position:absolute;left:36.21px;top:425.51px" class="cls_011"><span class="cls_011">are about the same, the LED will be set to green. If</span></div>
<div style="position:absolute;left:36.21px;top:440.50px" class="cls_011"><span class="cls_011">the voltage from the finger sensor (A0) is</span></div>
<div style="position:absolute;left:303.95px;top:442.77px" class="cls_031"><span class="cls_031">long red = 0xFF0000;</span></div>
<div style="position:absolute;left:36.21px;top:455.48px" class="cls_011"><span class="cls_011">significantly higher than A1, the variable resistor</span></div>
<div style="position:absolute;left:303.95px;top:455.75px" class="cls_031"><span class="cls_031">long green = 0x00FF00;</span></div>
<div style="position:absolute;left:303.95px;top:468.74px" class="cls_031"><span class="cls_031">long blue = 0x000080;</span></div>
<div style="position:absolute;left:36.21px;top:470.47px" class="cls_011"><span class="cls_011">will indicate a fall in skin resistance, the LED will</span></div>
<div style="position:absolute;left:36.21px;top:485.45px" class="cls_011"><span class="cls_011">change to red, and the buzzer will sound. On the</span></div>
<div style="position:absolute;left:303.95px;top:494.71px" class="cls_031"><span class="cls_031">int band = 10;</span></div>
<div style="position:absolute;left:36.21px;top:500.44px" class="cls_011"><span class="cls_011">other hand, if A0 is significantly lower than A1,</span></div>
<div style="position:absolute;left:339.73px;top:507.70px" class="cls_031"><span class="cls_031">// adjust for sensitivity</span></div>
<div style="position:absolute;left:36.21px;top:515.42px" class="cls_011"><span class="cls_011">the LED will turn blue, indicating a rise in skin</span></div>
<div style="position:absolute;left:36.21px;top:530.41px" class="cls_011"><span class="cls_011">resistance.</span></div>
<div style="position:absolute;left:303.95px;top:533.68px" class="cls_031"><span class="cls_031">void setup()</span></div>
<div style="position:absolute;left:303.95px;top:546.66px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:48.20px;top:549.39px" class="cls_011"><span class="cls_011">The buzzer requires a frequency of about 5KHz</span></div>
<div style="position:absolute;left:315.82px;top:559.65px" class="cls_031"><span class="cls_031">pinMode(potPin, INPUT);</span></div>
<div style="position:absolute;left:36.21px;top:564.38px" class="cls_011"><span class="cls_011">or 5000 cycles per second to drive it. We</span></div>
<div style="position:absolute;left:315.82px;top:572.64px" class="cls_031"><span class="cls_031">pinMode(sensorPin, INPUT);</span></div>
<div style="position:absolute;left:36.21px;top:579.36px" class="cls_011"><span class="cls_011">accomplish this with a simple for loop with</span></div>
<div style="position:absolute;left:315.82px;top:585.63px" class="cls_031"><span class="cls_031">pinMode(redPin, OUTPUT);</span></div>
<div style="position:absolute;left:36.21px;top:594.35px" class="cls_011"><span class="cls_011">commands to turn the appropriate pin on and off</span></div>
<div style="position:absolute;left:315.82px;top:598.61px" class="cls_031"><span class="cls_031">pinMode(greenPin, OUTPUT);</span></div>
<div style="position:absolute;left:36.21px;top:609.33px" class="cls_011"><span class="cls_011">with delays in between.</span></div>
<div style="position:absolute;left:315.82px;top:611.60px" class="cls_031"><span class="cls_031">pinMode(bluePin, OUTPUT);</span></div>
<div style="position:absolute;left:315.82px;top:624.59px" class="cls_031"><span class="cls_031">pinMode(buzzerPin, OUTPUT);</span></div>
<div style="position:absolute;left:303.95px;top:637.57px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:36.21px;top:642.30px" class="cls_005"><span class="cls_005">Putting It All Together</span></div>
<div style="position:absolute;left:303.95px;top:663.55px" class="cls_031"><span class="cls_031">void loop()</span></div>
<div style="position:absolute;left:36.21px;top:665.78px" class="cls_011"><span class="cls_011">Load the completed sketch for Project 26 from</span></div>
<div style="position:absolute;left:303.95px;top:676.53px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:36.21px;top:680.77px" class="cls_011"><span class="cls_011">your Arduino Sketchbook and download it to the</span></div>
<div style="position:absolute;left:464.32px;top:691.52px" class="cls_037"><span class="cls_037">(continued)</span></div>
<div style="position:absolute;left:36.21px;top:695.75px" class="cls_011"><span class="cls_011">board (see Chapter 1).</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:127920px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background165.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">148</span></div>
<div style="position:absolute;left:82.07px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:299.86px;top:69.16px" class="cls_011"><span class="cls_011">To test the lie detector, you really need a test</span></div>
<div style="position:absolute;left:43.11px;top:76.46px" class="cls_032"><span class="cls_032">LISTING PROJECT 26 (continued)</span></div>
<div style="position:absolute;left:287.87px;top:84.15px" class="cls_011"><span class="cls_011">subject, as you will need one hand free to adjust</span></div>
<div style="position:absolute;left:57.97px;top:98.70px" class="cls_031"><span class="cls_031">int gsr = analogRead(sensorPin);</span></div>
<div style="position:absolute;left:287.87px;top:99.13px" class="cls_011"><span class="cls_011">the knob.</span></div>
<div style="position:absolute;left:57.97px;top:111.69px" class="cls_031"><span class="cls_031">int pot = analogRead(potPin);</span></div>
<div style="position:absolute;left:299.86px;top:118.11px" class="cls_011"><span class="cls_011">First, get your subject to place two adjoining</span></div>
<div style="position:absolute;left:57.97px;top:124.68px" class="cls_031"><span class="cls_031">if (gsr > pot + band)</span></div>
<div style="position:absolute;left:57.97px;top:137.66px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:287.87px;top:133.10px" class="cls_011"><span class="cls_011">fingers on the two metal thumbtacks. Then turn the</span></div>
<div style="position:absolute;left:69.84px;top:150.65px" class="cls_031"><span class="cls_031">setColor(red);</span></div>
<div style="position:absolute;left:287.87px;top:148.08px" class="cls_011"><span class="cls_011">knob on the variable resistor until the LED turns</span></div>
<div style="position:absolute;left:69.84px;top:163.64px" class="cls_031"><span class="cls_031">beep();</span></div>
<div style="position:absolute;left:287.87px;top:163.07px" class="cls_011"><span class="cls_011">green.</span></div>
<div style="position:absolute;left:57.97px;top:176.63px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:299.86px;top:182.05px" class="cls_011"><span class="cls_011">You may now interrogate your victim. If the</span></div>
<div style="position:absolute;left:57.97px;top:189.61px" class="cls_031"><span class="cls_031">else if (gsr &lt; pot - band)</span></div>
<div style="position:absolute;left:287.87px;top:197.03px" class="cls_011"><span class="cls_011">LED changes to either red or blue, you should</span></div>
<div style="position:absolute;left:57.97px;top:202.60px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:69.84px;top:215.59px" class="cls_031"><span class="cls_031">setColor(blue);</span></div>
<div style="position:absolute;left:287.87px;top:212.02px" class="cls_011"><span class="cls_011">adjust the knob until it changes to green again and</span></div>
<div style="position:absolute;left:57.97px;top:228.57px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:287.87px;top:227.00px" class="cls_011"><span class="cls_011">then continue the interrogation.</span></div>
<div style="position:absolute;left:57.97px;top:241.56px" class="cls_031"><span class="cls_031">else</span></div>
<div style="position:absolute;left:57.97px;top:254.55px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:69.84px;top:267.53px" class="cls_031"><span class="cls_031">setColor(green);</span></div>
<div style="position:absolute;left:287.87px;top:265.47px" class="cls_027"><span class="cls_027">Project 27</span></div>
<div style="position:absolute;left:57.97px;top:280.52px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:46.11px;top:293.51px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:287.87px;top:285.45px" class="cls_021"><span class="cls_021">Magnetic Door Lock</span></div>
<div style="position:absolute;left:287.87px;top:311.92px" class="cls_011"><span class="cls_011">This project (Figure 9-4) is based on Project 10,</span></div>
<div style="position:absolute;left:287.87px;top:326.91px" class="cls_011"><span class="cls_011">but extends it so that when the correct code is</span></div>
<div style="position:absolute;left:46.11px;top:332.47px" class="cls_031"><span class="cls_031">void setColor(long rgb)</span></div>
<div style="position:absolute;left:46.11px;top:345.46px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:287.87px;top:341.89px" class="cls_011"><span class="cls_011">entered, it lights a green LED in addition to</span></div>
<div style="position:absolute;left:57.97px;top:358.44px" class="cls_031"><span class="cls_031">int red = rgb >> 16;</span></div>
<div style="position:absolute;left:287.87px;top:356.88px" class="cls_011"><span class="cls_011">operating a small solenoid. The sketch is also</span></div>
<div style="position:absolute;left:57.97px;top:371.43px" class="cls_031"><span class="cls_031">int green = (rgb >> 8) & 0xFF;</span></div>
<div style="position:absolute;left:287.87px;top:371.86px" class="cls_011"><span class="cls_011">improved so that the secret code can be changed</span></div>
<div style="position:absolute;left:57.97px;top:384.42px" class="cls_031"><span class="cls_031">int blue = rgb & 0xFF;</span></div>
<div style="position:absolute;left:287.87px;top:386.85px" class="cls_011"><span class="cls_011">without having to modify and install a new script.</span></div>
<div style="position:absolute;left:57.97px;top:397.41px" class="cls_031"><span class="cls_031">analogWrite(redPin, 255 - red);</span></div>
<div style="position:absolute;left:287.87px;top:401.83px" class="cls_011"><span class="cls_011">The secret code is stored in EEPROM, so if the</span></div>
<div style="position:absolute;left:57.97px;top:410.39px" class="cls_031"><span class="cls_031">analogWrite(greenPin, 255 - green);</span></div>
<div style="position:absolute;left:287.87px;top:416.82px" class="cls_011"><span class="cls_011">power is disconnected, the code will not be lost.</span></div>
<div style="position:absolute;left:57.97px;top:423.38px" class="cls_031"><span class="cls_031">analogWrite(bluePin, 255 - blue);</span></div>
<div style="position:absolute;left:46.11px;top:436.37px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:295.88px;top:451.50px" class="cls_028"><span class="cls_028">COMPONENTS AND EQUIPMENT</span></div>
<div style="position:absolute;left:46.11px;top:462.34px" class="cls_031"><span class="cls_031">void beep()</span></div>
<div style="position:absolute;left:46.11px;top:475.33px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:325.83px;top:474.88px" class="cls_029"><span class="cls_029">Description</span></div>
<div style="position:absolute;left:458.71px;top:474.88px" class="cls_029"><span class="cls_029">Appendix</span></div>
<div style="position:absolute;left:57.97px;top:488.31px" class="cls_031"><span class="cls_031">// 5 Khz for 1/5th second</span></div>
<div style="position:absolute;left:325.83px;top:494.86px" class="cls_026"><span class="cls_026">Arduino Diecimila or</span></div>
<div style="position:absolute;left:52.04px;top:501.30px" class="cls_031"><span class="cls_031">for (int i = 0; i &lt; 1000; i++)</span></div>
<div style="position:absolute;left:325.83px;top:507.84px" class="cls_026"><span class="cls_026">Duemilanove board or clone</span></div>
<div style="position:absolute;left:479.09px;top:507.84px" class="cls_026"><span class="cls_026">1</span></div>
<div style="position:absolute;left:52.04px;top:514.29px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:297.86px;top:524.83px" class="cls_026"><span class="cls_026">D1</span></div>
<div style="position:absolute;left:325.83px;top:524.83px" class="cls_026"><span class="cls_026">Red 5-mm LED</span></div>
<div style="position:absolute;left:475.25px;top:524.83px" class="cls_026"><span class="cls_026">23</span></div>
<div style="position:absolute;left:69.84px;top:527.27px" class="cls_031"><span class="cls_031">digitalWrite(buzzerPin, HIGH);</span></div>
<div style="position:absolute;left:69.84px;top:540.26px" class="cls_031"><span class="cls_031">delayMicroseconds(100);</span></div>
<div style="position:absolute;left:297.86px;top:541.81px" class="cls_026"><span class="cls_026">D2</span></div>
<div style="position:absolute;left:325.83px;top:541.81px" class="cls_026"><span class="cls_026">Green 5-mm LED</span></div>
<div style="position:absolute;left:475.25px;top:541.81px" class="cls_026"><span class="cls_026">25</span></div>
<div style="position:absolute;left:69.84px;top:553.25px" class="cls_031"><span class="cls_031">digitalWrite(buzzerPin, LOW);</span></div>
<div style="position:absolute;left:297.86px;top:558.79px" class="cls_026"><span class="cls_026">R1-3</span></div>
<div style="position:absolute;left:325.84px;top:558.79px" class="cls_026"><span class="cls_026">270</span></div>
<div style="position:absolute;left:355.64px;top:558.79px" class="cls_026"><span class="cls_026">0.5W metal film resistor</span></div>
<div style="position:absolute;left:477.79px;top:558.79px" class="cls_026"><span class="cls_026">6</span></div>
<div style="position:absolute;left:69.84px;top:566.24px" class="cls_031"><span class="cls_031">delayMicroseconds(100);</span></div>
<div style="position:absolute;left:297.86px;top:575.78px" class="cls_026"><span class="cls_026">K1</span></div>
<div style="position:absolute;left:325.83px;top:575.78px" class="cls_026"><span class="cls_026">4 x 3 keypad</span></div>
<div style="position:absolute;left:474.92px;top:575.78px" class="cls_026"><span class="cls_026">54</span></div>
<div style="position:absolute;left:52.04px;top:579.22px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:46.11px;top:592.21px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:325.83px;top:592.76px" class="cls_026"><span class="cls_026">0.1-inch header strip</span></div>
<div style="position:absolute;left:475.20px;top:592.76px" class="cls_026"><span class="cls_026">55</span></div>
<div style="position:absolute;left:297.86px;top:609.74px" class="cls_026"><span class="cls_026">T1</span></div>
<div style="position:absolute;left:325.84px;top:609.74px" class="cls_026"><span class="cls_026">BC548</span></div>
<div style="position:absolute;left:474.46px;top:609.74px" class="cls_026"><span class="cls_026">40</span></div>
<div style="position:absolute;left:325.83px;top:626.73px" class="cls_026"><span class="cls_026">5V solenoid (&lt; 100 mA)</span></div>
<div style="position:absolute;left:474.88px;top:626.73px" class="cls_026"><span class="cls_026">66</span></div>
<div style="position:absolute;left:297.86px;top:643.71px" class="cls_026"><span class="cls_026">D3</span></div>
<div style="position:absolute;left:325.83px;top:643.71px" class="cls_026"><span class="cls_026">1N4004</span></div>
<div style="position:absolute;left:475.10px;top:643.71px" class="cls_026"><span class="cls_026">38</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:128700px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background166.jpg" width=552 height=770></div>
<div style="position:absolute;left:274.13px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 9</span></div>
<div style="position:absolute;left:337.95px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    Miscellaneous Projects</span></div>
<div style="position:absolute;left:498.04px;top:34.50px" class="cls_017"><span class="cls_017">149</span></div>
<div style="position:absolute;left:42.21px;top:322.01px" class="cls_025"><span class="cls_025">Figure 9-4</span></div>
<div style="position:absolute;left:102.15px;top:322.99px" class="cls_026"><span class="cls_026">Project 27. Magnetic door lock.</span></div>
<div style="position:absolute;left:48.20px;top:351.89px" class="cls_011"><span class="cls_011">When powered, the solenoid will strongly</span></div>
<div style="position:absolute;left:287.97px;top:352.79px" class="cls_005"><span class="cls_005">Hardware</span></div>
<div style="position:absolute;left:36.21px;top:366.87px" class="cls_011"><span class="cls_011">attract the metal slug in its center, pulling it into</span></div>
<div style="position:absolute;left:287.97px;top:376.27px" class="cls_011"><span class="cls_011">The schematic diagram (see Figure 9-5) and</span></div>
<div style="position:absolute;left:36.21px;top:381.86px" class="cls_011"><span class="cls_011">place. When the power is removed, it is free to</span></div>
<div style="position:absolute;left:287.97px;top:391.26px" class="cls_011"><span class="cls_011">breadboard layout (see Figure 9-6) are much the</span></div>
<div style="position:absolute;left:36.21px;top:396.84px" class="cls_011"><span class="cls_011">move.</span></div>
<div style="position:absolute;left:287.97px;top:406.24px" class="cls_011"><span class="cls_011">same as Project 10, but with additional</span></div>
<div style="position:absolute;left:42.21px;top:707.86px" class="cls_025"><span class="cls_025">Figure 9-5</span></div>
<div style="position:absolute;left:102.15px;top:708.85px" class="cls_026"><span class="cls_026">Schematic diagram for Project 27.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:129480px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background167.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">150</span></div>
<div style="position:absolute;left:82.48px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:42.11px;top:260.87px" class="cls_025"><span class="cls_025">Figure 9-6</span></div>
<div style="position:absolute;left:102.05px;top:261.85px" class="cls_026"><span class="cls_026">Breadboard layout for Project 27.</span></div>
<div style="position:absolute;left:36.12px;top:290.75px" class="cls_011"><span class="cls_011">components. Like relays, the solenoid is an</span></div>
<div style="position:absolute;left:299.86px;top:290.74px" class="cls_011"><span class="cls_011">If the solenoid can be mounted on the</span></div>
<div style="position:absolute;left:36.12px;top:305.73px" class="cls_011"><span class="cls_011">inductive load and therefore liable to generate a</span></div>
<div style="position:absolute;left:287.87px;top:305.73px" class="cls_011"><span class="cls_011">breadboard, this is all well and good. If not, you</span></div>
<div style="position:absolute;left:36.12px;top:320.72px" class="cls_011"><span class="cls_011">back EMF, which diode D3 protects against.</span></div>
<div style="position:absolute;left:287.87px;top:320.71px" class="cls_011"><span class="cls_011">will need to attach leads to it that connect it to the</span></div>
<div style="position:absolute;left:287.87px;top:335.70px" class="cls_011"><span class="cls_011">breadboard.</span></div>
<div style="position:absolute;left:48.11px;top:339.70px" class="cls_011"><span class="cls_011">The solenoid is controlled by T1, so be careful</span></div>
<div style="position:absolute;left:36.12px;top:354.68px" class="cls_011"><span class="cls_011">to select a solenoid that will not draw more than</span></div>
<div style="position:absolute;left:36.12px;top:369.67px" class="cls_011"><span class="cls_011">100 mA, which is the maximum collector current</span></div>
<div style="position:absolute;left:287.87px;top:368.67px" class="cls_005"><span class="cls_005">Software</span></div>
<div style="position:absolute;left:36.12px;top:384.65px" class="cls_011"><span class="cls_011">of the transistor.</span></div>
<div style="position:absolute;left:287.87px;top:392.15px" class="cls_011"><span class="cls_011">The software for this project is, as you would</span></div>
<div style="position:absolute;left:48.11px;top:403.63px" class="cls_011"><span class="cls_011">We are using a very low power solenoid, and</span></div>
<div style="position:absolute;left:287.87px;top:407.13px" class="cls_011"><span class="cls_011">expect, similar to that of Project 10 (see Project</span></div>
<div style="position:absolute;left:36.12px;top:418.62px" class="cls_011"><span class="cls_011">this would not keep intruders out of the Evil</span></div>
<div style="position:absolute;left:287.87px;top:422.12px" class="cls_011"><span class="cls_011">Listing 27).</span></div>
<div style="position:absolute;left:36.12px;top:433.60px" class="cls_011"><span class="cls_011">Genius’ lair. If you are using a more substantial</span></div>
<div style="position:absolute;left:36.12px;top:448.59px" class="cls_011"><span class="cls_011">solenoid, a BD139 transistor would be better.</span></div>
<div style="position:absolute;left:43.11px;top:487.06px" class="cls_032"><span class="cls_032">LISTING PROJECT 27</span></div>
<div style="position:absolute;left:52.10px;top:509.30px" class="cls_031"><span class="cls_031">#include &lt;Keypad.h></span></div>
<div style="position:absolute;left:52.10px;top:520.79px" class="cls_031"><span class="cls_031">#include &lt;EEPROM.h></span></div>
<div style="position:absolute;left:52.10px;top:543.77px" class="cls_031"><span class="cls_031">char* secretCode = "1234";</span></div>
<div style="position:absolute;left:52.10px;top:555.26px" class="cls_031"><span class="cls_031">int position = 0;</span></div>
<div style="position:absolute;left:52.10px;top:566.75px" class="cls_031"><span class="cls_031">boolean locked = true;</span></div>
<div style="position:absolute;left:52.10px;top:589.73px" class="cls_031"><span class="cls_031">const byte rows = 4;</span></div>
<div style="position:absolute;left:52.10px;top:601.21px" class="cls_031"><span class="cls_031">const byte cols = 3;</span></div>
<div style="position:absolute;left:52.10px;top:612.70px" class="cls_031"><span class="cls_031">char keys[rows][cols] = {</span></div>
<div style="position:absolute;left:63.97px;top:624.19px" class="cls_031"><span class="cls_031">{'1','2','3'},</span></div>
<div style="position:absolute;left:63.97px;top:635.68px" class="cls_031"><span class="cls_031">{'4','5','6'},</span></div>
<div style="position:absolute;left:63.97px;top:647.17px" class="cls_031"><span class="cls_031">{'7','8','9'},</span></div>
<div style="position:absolute;left:63.97px;top:658.66px" class="cls_031"><span class="cls_031">{'*','0','#'}</span></div>
<div style="position:absolute;left:52.10px;top:670.15px" class="cls_031"><span class="cls_031">};</span></div>
<div style="position:absolute;left:52.10px;top:681.64px" class="cls_031"><span class="cls_031">byte rowPins[rows] = {2, 7, 6, 4};</span></div>
<div style="position:absolute;left:52.10px;top:693.13px" class="cls_031"><span class="cls_031">byte colPins[cols] = {3, 1, 5};</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:130260px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background168.jpg" width=552 height=770></div>
<div style="position:absolute;left:277.12px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 9</span></div>
<div style="position:absolute;left:340.94px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    Miscellaneous Projects</span></div>
<div style="position:absolute;left:501.02px;top:34.50px" class="cls_017"><span class="cls_017">151</span></div>
<div style="position:absolute;left:43.21px;top:76.46px" class="cls_032"><span class="cls_032">LISTING PROJECT 27 (continued)</span></div>
<div style="position:absolute;left:52.20px;top:98.70px" class="cls_031"><span class="cls_031">Keypad keypad = Keypad(makeKeymap(keys), rowPins, colPins, rows, cols);</span></div>
<div style="position:absolute;left:52.20px;top:121.68px" class="cls_031"><span class="cls_031">int redPin = 9;</span></div>
<div style="position:absolute;left:52.20px;top:133.17px" class="cls_031"><span class="cls_031">int greenPin = 8;</span></div>
<div style="position:absolute;left:52.20px;top:144.66px" class="cls_031"><span class="cls_031">int solenoidPin = 10;</span></div>
<div style="position:absolute;left:52.20px;top:167.64px" class="cls_031"><span class="cls_031">void setup()</span></div>
<div style="position:absolute;left:52.20px;top:179.13px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:64.06px;top:190.61px" class="cls_031"><span class="cls_031">pinMode(redPin, OUTPUT);</span></div>
<div style="position:absolute;left:64.06px;top:202.10px" class="cls_031"><span class="cls_031">pinMode(greenPin, OUTPUT);</span></div>
<div style="position:absolute;left:64.06px;top:213.59px" class="cls_031"><span class="cls_031">loadCode();</span></div>
<div style="position:absolute;left:64.06px;top:225.08px" class="cls_031"><span class="cls_031">flash();</span></div>
<div style="position:absolute;left:64.06px;top:236.57px" class="cls_031"><span class="cls_031">updateOutputs();</span></div>
<div style="position:absolute;left:52.20px;top:248.06px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.20px;top:271.04px" class="cls_031"><span class="cls_031">void loop()</span></div>
<div style="position:absolute;left:52.20px;top:282.53px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:64.06px;top:294.02px" class="cls_031"><span class="cls_031">char key = keypad.getKey();</span></div>
<div style="position:absolute;left:64.06px;top:305.50px" class="cls_031"><span class="cls_031">if (key == '*'  && ! locked)</span></div>
<div style="position:absolute;left:64.06px;top:316.99px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.93px;top:328.48px" class="cls_031"><span class="cls_031">// unlocked and * pressed so change code</span></div>
<div style="position:absolute;left:75.93px;top:339.97px" class="cls_031"><span class="cls_031">position = 0;</span></div>
<div style="position:absolute;left:75.93px;top:351.46px" class="cls_031"><span class="cls_031">getNewCode();</span></div>
<div style="position:absolute;left:75.93px;top:362.95px" class="cls_031"><span class="cls_031">updateOutputs();</span></div>
<div style="position:absolute;left:64.06px;top:374.44px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:64.06px;top:385.93px" class="cls_031"><span class="cls_031">if (key == '#')</span></div>
<div style="position:absolute;left:64.06px;top:397.42px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.93px;top:408.90px" class="cls_031"><span class="cls_031">locked = true;</span></div>
<div style="position:absolute;left:75.93px;top:420.39px" class="cls_031"><span class="cls_031">position = 0;</span></div>
<div style="position:absolute;left:75.93px;top:431.88px" class="cls_031"><span class="cls_031">updateOutputs();</span></div>
<div style="position:absolute;left:64.06px;top:443.37px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:64.06px;top:454.86px" class="cls_031"><span class="cls_031">if (key == secretCode[position])</span></div>
<div style="position:absolute;left:64.06px;top:466.35px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.93px;top:477.84px" class="cls_031"><span class="cls_031">position ++;</span></div>
<div style="position:absolute;left:64.06px;top:489.33px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:64.06px;top:500.82px" class="cls_031"><span class="cls_031">if (position == 4)</span></div>
<div style="position:absolute;left:64.06px;top:512.31px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.93px;top:523.79px" class="cls_031"><span class="cls_031">locked = false;</span></div>
<div style="position:absolute;left:75.93px;top:535.28px" class="cls_031"><span class="cls_031">updateOutputs();</span></div>
<div style="position:absolute;left:64.06px;top:546.77px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:64.06px;top:558.26px" class="cls_031"><span class="cls_031">delay(100);</span></div>
<div style="position:absolute;left:52.20px;top:569.75px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.20px;top:592.73px" class="cls_031"><span class="cls_031">void updateOutputs()</span></div>
<div style="position:absolute;left:52.20px;top:604.22px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:64.06px;top:615.71px" class="cls_031"><span class="cls_031">if (locked)</span></div>
<div style="position:absolute;left:64.06px;top:627.20px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.93px;top:638.68px" class="cls_031"><span class="cls_031">digitalWrite(redPin, HIGH);</span></div>
<div style="position:absolute;left:75.93px;top:650.17px" class="cls_031"><span class="cls_031">digitalWrite(greenPin, LOW);</span></div>
<div style="position:absolute;left:75.93px;top:661.66px" class="cls_031"><span class="cls_031">digitalWrite(solenoidPin, HIGH);</span></div>
<div style="position:absolute;left:64.06px;top:673.15px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:64.06px;top:684.64px" class="cls_031"><span class="cls_031">else</span></div>
<div style="position:absolute;left:464.31px;top:699.63px" class="cls_037"><span class="cls_037">(continued)</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:131040px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background169.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">152</span></div>
<div style="position:absolute;left:81.41px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:43.11px;top:76.46px" class="cls_032"><span class="cls_032">LISTING PROJECT 27 (continued)</span></div>
<div style="position:absolute;left:63.97px;top:98.70px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.83px;top:110.19px" class="cls_031"><span class="cls_031">digitalWrite(redPin, LOW);</span></div>
<div style="position:absolute;left:75.83px;top:121.68px" class="cls_031"><span class="cls_031">digitalWrite(greenPin, HIGH);</span></div>
<div style="position:absolute;left:75.83px;top:133.17px" class="cls_031"><span class="cls_031">digitalWrite(solenoidPin, LOW);</span></div>
<div style="position:absolute;left:63.97px;top:144.66px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.10px;top:156.15px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.10px;top:179.13px" class="cls_031"><span class="cls_031">void getNewCode()</span></div>
<div style="position:absolute;left:52.10px;top:190.62px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:63.97px;top:202.10px" class="cls_031"><span class="cls_031">flash();</span></div>
<div style="position:absolute;left:63.97px;top:213.59px" class="cls_031"><span class="cls_031">for (int i = 0; i &lt; 4; i++ )</span></div>
<div style="position:absolute;left:63.97px;top:225.08px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.83px;top:236.57px" class="cls_031"><span class="cls_031">char key;</span></div>
<div style="position:absolute;left:75.83px;top:248.06px" class="cls_031"><span class="cls_031">key = keypad.getKey();</span></div>
<div style="position:absolute;left:75.83px;top:259.55px" class="cls_031"><span class="cls_031">while (key == 0)</span></div>
<div style="position:absolute;left:75.83px;top:271.04px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:87.70px;top:282.53px" class="cls_031"><span class="cls_031">key = keypad.getKey();</span></div>
<div style="position:absolute;left:75.83px;top:294.02px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:75.83px;top:305.51px" class="cls_031"><span class="cls_031">flash();</span></div>
<div style="position:absolute;left:75.83px;top:316.99px" class="cls_031"><span class="cls_031">secretCode[i] = key;</span></div>
<div style="position:absolute;left:63.97px;top:328.48px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:63.97px;top:339.97px" class="cls_031"><span class="cls_031">saveCode();</span></div>
<div style="position:absolute;left:63.97px;top:351.46px" class="cls_031"><span class="cls_031">flash();flash();</span></div>
<div style="position:absolute;left:52.10px;top:362.95px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.10px;top:385.93px" class="cls_031"><span class="cls_031">void loadCode()</span></div>
<div style="position:absolute;left:52.10px;top:397.42px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:63.97px;top:408.91px" class="cls_031"><span class="cls_031">if (EEPROM.read(0) == 1)</span></div>
<div style="position:absolute;left:63.97px;top:420.39px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.83px;top:431.88px" class="cls_031"><span class="cls_031">secretCode[0] = EEPROM.read(1);</span></div>
<div style="position:absolute;left:75.83px;top:443.37px" class="cls_031"><span class="cls_031">secretCode[1] = EEPROM.read(2);</span></div>
<div style="position:absolute;left:75.83px;top:454.86px" class="cls_031"><span class="cls_031">secretCode[2] = EEPROM.read(3);</span></div>
<div style="position:absolute;left:75.83px;top:466.35px" class="cls_031"><span class="cls_031">secretCode[3] = EEPROM.read(4);</span></div>
<div style="position:absolute;left:63.97px;top:477.84px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.10px;top:489.33px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.10px;top:512.31px" class="cls_031"><span class="cls_031">void saveCode()</span></div>
<div style="position:absolute;left:52.10px;top:523.80px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:63.97px;top:535.28px" class="cls_031"><span class="cls_031">EEPROM.write(1, secretCode[0]);</span></div>
<div style="position:absolute;left:63.97px;top:546.77px" class="cls_031"><span class="cls_031">EEPROM.write(2, secretCode[1]);</span></div>
<div style="position:absolute;left:63.97px;top:558.26px" class="cls_031"><span class="cls_031">EEPROM.write(3, secretCode[2]);</span></div>
<div style="position:absolute;left:63.97px;top:569.75px" class="cls_031"><span class="cls_031">EEPROM.write(4, secretCode[3]);</span></div>
<div style="position:absolute;left:63.97px;top:581.24px" class="cls_031"><span class="cls_031">EEPROM.write(0, 1);</span></div>
<div style="position:absolute;left:52.10px;top:592.73px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.10px;top:615.71px" class="cls_031"><span class="cls_031">void flash()</span></div>
<div style="position:absolute;left:52.10px;top:627.20px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.83px;top:638.68px" class="cls_031"><span class="cls_031">digitalWrite(redPin, HIGH);</span></div>
<div style="position:absolute;left:75.83px;top:650.17px" class="cls_031"><span class="cls_031">digitalWrite(greenPin, HIGH);</span></div>
<div style="position:absolute;left:75.83px;top:661.66px" class="cls_031"><span class="cls_031">delay(500);</span></div>
<div style="position:absolute;left:75.83px;top:673.15px" class="cls_031"><span class="cls_031">digitalWrite(redPin, LOW);</span></div>
<div style="position:absolute;left:75.83px;top:684.64px" class="cls_031"><span class="cls_031">digitalWrite(greenPin, LOW);</span></div>
<div style="position:absolute;left:52.10px;top:696.13px" class="cls_031"><span class="cls_031">}</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:131820px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background170.jpg" width=552 height=770></div>
<div style="position:absolute;left:275.13px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 9</span></div>
<div style="position:absolute;left:338.95px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    Miscellaneous Projects</span></div>
<div style="position:absolute;left:499.04px;top:34.50px" class="cls_017"><span class="cls_017">153</span></div>
<div style="position:absolute;left:48.20px;top:69.16px" class="cls_011"><span class="cls_011">Since we can now change the secret code, we</span></div>
<div style="position:absolute;left:299.96px;top:69.16px" class="cls_011"><span class="cls_011">If you forget your secret code, unfortunately,</span></div>
<div style="position:absolute;left:36.21px;top:84.15px" class="cls_011"><span class="cls_011">have changed the loop function so that if the * key</span></div>
<div style="position:absolute;left:287.97px;top:84.14px" class="cls_011"><span class="cls_011">turning the power to the project on and off will not</span></div>
<div style="position:absolute;left:36.21px;top:99.13px" class="cls_011"><span class="cls_011">is pressed while the lock is in its unlocked state,</span></div>
<div style="position:absolute;left:287.97px;top:99.13px" class="cls_011"><span class="cls_011">reset it to 1234. Instead, you will have to comment</span></div>
<div style="position:absolute;left:36.21px;top:114.12px" class="cls_011"><span class="cls_011">the next four keys pressed will be the new code.</span></div>
<div style="position:absolute;left:287.97px;top:114.11px" class="cls_011"><span class="cls_011">out the line:</span></div>
<div style="position:absolute;left:48.20px;top:133.10px" class="cls_011"><span class="cls_011">Since each character is exactly one byte in</span></div>
<div style="position:absolute;left:293.96px;top:139.59px" class="cls_031"><span class="cls_031">loadCode();</span></div>
<div style="position:absolute;left:36.21px;top:148.08px" class="cls_011"><span class="cls_011">length, the code can be stored directly in the</span></div>
<div style="position:absolute;left:36.21px;top:163.07px" class="cls_011"><span class="cls_011">EEPROM memory. We use the first byte of</span></div>
<div style="position:absolute;left:287.97px;top:165.57px" class="cls_011"><span class="cls_011">in the setup function, so that it appears as shown</span></div>
<div style="position:absolute;left:36.21px;top:178.05px" class="cls_011"><span class="cls_011">EEPROM to indicate if the code has been set. If it</span></div>
<div style="position:absolute;left:287.97px;top:180.55px" class="cls_011"><span class="cls_011">here:</span></div>
<div style="position:absolute;left:36.21px;top:193.04px" class="cls_011"><span class="cls_011">has not been set, the code will default to 1234.</span></div>
<div style="position:absolute;left:293.96px;top:206.03px" class="cls_031"><span class="cls_031">// loadCode();</span></div>
<div style="position:absolute;left:36.21px;top:208.02px" class="cls_011"><span class="cls_011">Once the code has been set, the first EEPROM</span></div>
<div style="position:absolute;left:36.21px;top:223.01px" class="cls_011"><span class="cls_011">byte will be given a value of 1.</span></div>
<div style="position:absolute;left:299.96px;top:232.00px" class="cls_011"><span class="cls_011">Now reinstall the sketch and the secret code will</span></div>
<div style="position:absolute;left:287.97px;top:246.99px" class="cls_011"><span class="cls_011">be back to 1234. Remember to change your sketch</span></div>
<div style="position:absolute;left:36.21px;top:255.98px" class="cls_005"><span class="cls_005">Putting It All Together</span></div>
<div style="position:absolute;left:287.97px;top:261.97px" class="cls_011"><span class="cls_011">back after setting the code to something that you</span></div>
<div style="position:absolute;left:287.97px;top:276.96px" class="cls_011"><span class="cls_011">will remember.</span></div>
<div style="position:absolute;left:36.21px;top:279.46px" class="cls_011"><span class="cls_011">Load the completed sketch for Project 27 from</span></div>
<div style="position:absolute;left:36.21px;top:294.44px" class="cls_011"><span class="cls_011">your Arduino Sketchbook and download it to the</span></div>
<div style="position:absolute;left:36.21px;top:309.43px" class="cls_011"><span class="cls_011">board (see Chapter 1).</span></div>
<div style="position:absolute;left:287.97px;top:315.42px" class="cls_027"><span class="cls_027">Project 28</span></div>
<div style="position:absolute;left:48.20px;top:328.41px" class="cls_011"><span class="cls_011">We can make sure everything is working by</span></div>
<div style="position:absolute;left:287.97px;top:335.40px" class="cls_021"><span class="cls_021">Infrared Remote</span></div>
<div style="position:absolute;left:36.21px;top:343.39px" class="cls_011"><span class="cls_011">powering up our project and entering the code</span></div>
<div style="position:absolute;left:36.21px;top:358.38px" class="cls_011"><span class="cls_011">1234, at which point, the green LED should light</span></div>
<div style="position:absolute;left:287.97px;top:361.88px" class="cls_011"><span class="cls_011">This project (see Figure 9-7) allows the Evil</span></div>
<div style="position:absolute;left:36.21px;top:373.36px" class="cls_011"><span class="cls_011">and the solenoid release. We can then change the</span></div>
<div style="position:absolute;left:287.97px;top:376.86px" class="cls_011"><span class="cls_011">Genius to control any household devices with an</span></div>
<div style="position:absolute;left:36.21px;top:388.35px" class="cls_011"><span class="cls_011">code to something a little less guessable by</span></div>
<div style="position:absolute;left:287.97px;top:391.85px" class="cls_011"><span class="cls_011">infrared remote control directly from their</span></div>
<div style="position:absolute;left:36.21px;top:403.33px" class="cls_011"><span class="cls_011">pressing the * key and then entering four digits for</span></div>
<div style="position:absolute;left:287.97px;top:406.83px" class="cls_011"><span class="cls_011">computer. With it, the Evil Genius can record an</span></div>
<div style="position:absolute;left:36.21px;top:418.32px" class="cls_011"><span class="cls_011">the new code. The lock will stay unlocked until we</span></div>
<div style="position:absolute;left:287.97px;top:421.82px" class="cls_011"><span class="cls_011">infrared message from an existing remote control</span></div>
<div style="position:absolute;left:36.21px;top:433.30px" class="cls_011"><span class="cls_011">press the # key.</span></div>
<div style="position:absolute;left:287.97px;top:436.80px" class="cls_011"><span class="cls_011">and then play it back from their computer.</span></div>
<div style="position:absolute;left:42.21px;top:707.86px" class="cls_025"><span class="cls_025">Figure 9-7</span></div>
<div style="position:absolute;left:102.15px;top:708.85px" class="cls_026"><span class="cls_026">Project 28. Infrared remote.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:132600px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background171.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">154</span></div>
<div style="position:absolute;left:82.07px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:48.11px;top:69.16px" class="cls_011"><span class="cls_011">We use the EEPROM memory to store the</span></div>
<div style="position:absolute;left:299.86px;top:69.16px" class="cls_011"><span class="cls_011">The IR transmitter is an IR LED. These work</span></div>
<div style="position:absolute;left:36.12px;top:84.15px" class="cls_011"><span class="cls_011">remote control codes so that they are not lost when</span></div>
<div style="position:absolute;left:287.87px;top:84.14px" class="cls_011"><span class="cls_011">just like a regular red LED, but in the invisible IR</span></div>
<div style="position:absolute;left:36.12px;top:99.13px" class="cls_011"><span class="cls_011">the Arduino board is disconnected.</span></div>
<div style="position:absolute;left:287.87px;top:99.13px" class="cls_011"><span class="cls_011">end of the spectrum. On some devices, you can see</span></div>
<div style="position:absolute;left:287.87px;top:114.11px" class="cls_011"><span class="cls_011">a slight red glow when they are on.</span></div>
<div style="position:absolute;left:44.12px;top:135.61px" class="cls_028"><span class="cls_028">COMPONENTS AND EQUIPMENT</span></div>
<div style="position:absolute;left:299.86px;top:133.09px" class="cls_011"><span class="cls_011">Figure 9-9 shows the breadboard layout for this</span></div>
<div style="position:absolute;left:287.87px;top:148.08px" class="cls_011"><span class="cls_011">project.</span></div>
<div style="position:absolute;left:73.08px;top:158.98px" class="cls_029"><span class="cls_029">Description</span></div>
<div style="position:absolute;left:206.96px;top:158.98px" class="cls_029"><span class="cls_029">Appendix</span></div>
<div style="position:absolute;left:73.08px;top:178.96px" class="cls_026"><span class="cls_026">Arduino Diecimila or</span></div>
<div style="position:absolute;left:287.87px;top:181.05px" class="cls_005"><span class="cls_005">Software</span></div>
<div style="position:absolute;left:73.08px;top:191.95px" class="cls_026"><span class="cls_026">Duemilanove board or clone</span></div>
<div style="position:absolute;left:227.34px;top:191.95px" class="cls_026"><span class="cls_026">1</span></div>
<div style="position:absolute;left:46.11px;top:208.93px" class="cls_026"><span class="cls_026">R1</span></div>
<div style="position:absolute;left:73.08px;top:208.93px" class="cls_026"><span class="cls_026">100</span></div>
<div style="position:absolute;left:102.08px;top:208.93px" class="cls_026"><span class="cls_026">0.5W metal film resistor</span></div>
<div style="position:absolute;left:226.19px;top:208.93px" class="cls_026"><span class="cls_026">5</span></div>
<div style="position:absolute;left:287.87px;top:204.53px" class="cls_011"><span class="cls_011">Ken Shirriff has created a library that you can use</span></div>
<div style="position:absolute;left:287.87px;top:219.51px" class="cls_011"><span class="cls_011">to do just about anything you would want to with</span></div>
<div style="position:absolute;left:46.11px;top:225.92px" class="cls_026"><span class="cls_026">D1     IR LED sender</span></div>
<div style="position:absolute;left:223.34px;top:225.92px" class="cls_026"><span class="cls_026">26</span></div>
<div style="position:absolute;left:287.87px;top:234.50px" class="cls_011"><span class="cls_011">an IR remote. We are going to use this library</span></div>
<div style="position:absolute;left:46.11px;top:242.90px" class="cls_026"><span class="cls_026">IC1    IR remote control receiver</span></div>
<div style="position:absolute;left:223.62px;top:242.90px" class="cls_026"><span class="cls_026">37</span></div>
<div style="position:absolute;left:287.87px;top:249.48px" class="cls_011"><span class="cls_011">rather than reinvent the wheel.</span></div>
<div style="position:absolute;left:299.86px;top:268.47px" class="cls_011"><span class="cls_011">We first looked at installing a library in Chapter</span></div>
<div style="position:absolute;left:36.12px;top:281.95px" class="cls_005"><span class="cls_005">Hardware</span></div>
<div style="position:absolute;left:287.87px;top:283.45px" class="cls_011"><span class="cls_011">5. To make use of this library, we must first</span></div>
<div style="position:absolute;left:287.87px;top:298.44px" class="cls_011"><span class="cls_011">download it from </span><A HREF="http://arcfn.com/2009/08/">http://arcfn.com/2009/08/</A> </div>
<div style="position:absolute;left:36.12px;top:305.43px" class="cls_011"><span class="cls_011">The IR remote receiver is a great little module that</span></div>
<div style="position:absolute;left:287.87px;top:313.42px" class="cls_011"><span class="cls_011">multi-protocol-infrared-remote-library.html.</span></div>
<div style="position:absolute;left:36.12px;top:320.42px" class="cls_011"><span class="cls_011">combines an infrared photodiode, with all the</span></div>
<div style="position:absolute;left:299.86px;top:332.40px" class="cls_011"><span class="cls_011">Download the file IRRemote.zip and unzip it. If</span></div>
<div style="position:absolute;left:36.12px;top:335.40px" class="cls_011"><span class="cls_011">amplification filtering and smoothing needed to</span></div>
<div style="position:absolute;left:287.87px;top:347.39px" class="cls_011"><span class="cls_011">you are using Windows, you right-click and choose</span></div>
<div style="position:absolute;left:36.12px;top:350.39px" class="cls_011"><span class="cls_011">produce a digital output from the IR message. This</span></div>
<div style="position:absolute;left:287.87px;top:362.37px" class="cls_011"><span class="cls_011">Extract All and then save the whole folder into</span></div>
<div style="position:absolute;left:36.12px;top:365.37px" class="cls_011"><span class="cls_011">output is fed to digital pin 9. The schematic</span></div>
<div style="position:absolute;left:287.87px;top:377.36px" class="cls_011"><span class="cls_011">C:\Program Files\Arduino\Arduino-0017\hardware\</span></div>
<div style="position:absolute;left:36.12px;top:380.36px" class="cls_011"><span class="cls_011">diagram (see Figure 9-8) shows how simple this</span></div>
<div style="position:absolute;left:287.87px;top:392.34px" class="cls_011"><span class="cls_011">libraries.</span></div>
<div style="position:absolute;left:36.12px;top:395.34px" class="cls_011"><span class="cls_011">package is to use, with just three pins, GND, +V,</span></div>
<div style="position:absolute;left:36.12px;top:410.33px" class="cls_011"><span class="cls_011">and the output signal.</span></div>
<div style="position:absolute;left:42.11px;top:707.86px" class="cls_025"><span class="cls_025">Figure 9-8</span></div>
<div style="position:absolute;left:102.05px;top:708.85px" class="cls_026"><span class="cls_026">Schematic diagram for Project 28.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:133380px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background172.jpg" width=552 height=770></div>
<div style="position:absolute;left:275.04px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 9</span></div>
<div style="position:absolute;left:338.86px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    Miscellaneous Projects</span></div>
<div style="position:absolute;left:498.95px;top:34.50px" class="cls_017"><span class="cls_017">155</span></div>
<div style="position:absolute;left:42.21px;top:233.69px" class="cls_025"><span class="cls_025">Figure 9-9</span></div>
<div style="position:absolute;left:102.15px;top:234.68px" class="cls_026"><span class="cls_026">Breadboard layout for Project 28.</span></div>
<div style="position:absolute;left:48.20px;top:277.56px" class="cls_011"><span class="cls_011">On LINUX, find the Arduino installation</span></div>
<div style="position:absolute;left:287.97px;top:277.56px" class="cls_011"><span class="cls_011">only uses a small part of the library concerned</span></div>
<div style="position:absolute;left:36.21px;top:292.54px" class="cls_011"><span class="cls_011">directory and copy the folder into</span></div>
<div style="position:absolute;left:287.97px;top:292.54px" class="cls_011"><span class="cls_011">with capturing and sending the raw pulses of data.</span></div>
<div style="position:absolute;left:36.21px;top:307.53px" class="cls_011"><span class="cls_011">hardware/libraries.</span></div>
<div style="position:absolute;left:287.97px;top:307.53px" class="cls_011"><span class="cls_011">(See Listing Project 28.)</span></div>
<div style="position:absolute;left:48.20px;top:326.51px" class="cls_011"><span class="cls_011">On a Mac, you do not put the new library into</span></div>
<div style="position:absolute;left:299.96px;top:326.51px" class="cls_011"><span class="cls_011">Infrared remote controls send a series of pulses</span></div>
<div style="position:absolute;left:36.21px;top:341.50px" class="cls_011"><span class="cls_011">the Arduino installation. Instead, you create a</span></div>
<div style="position:absolute;left:287.97px;top:341.49px" class="cls_011"><span class="cls_011">at a frequency of between 36 and 40kHz. Figure</span></div>
<div style="position:absolute;left:36.21px;top:356.48px" class="cls_011"><span class="cls_011">folder called “libraries” in Documents/Arduino and</span></div>
<div style="position:absolute;left:287.97px;top:356.48px" class="cls_011"><span class="cls_011">9-10 shows the trace from an oscilloscope.</span></div>
<div style="position:absolute;left:36.21px;top:371.47px" class="cls_011"><span class="cls_011">put the whole library folder in there.</span></div>
<div style="position:absolute;left:299.96px;top:375.46px" class="cls_011"><span class="cls_011">A bit value of 1 is represented by a pulse of</span></div>
<div style="position:absolute;left:48.20px;top:390.45px" class="cls_011"><span class="cls_011">Once we have installed this library into our</span></div>
<div style="position:absolute;left:287.97px;top:390.44px" class="cls_011"><span class="cls_011">square waves at 36 to 40kHz and a 0 by a pause in</span></div>
<div style="position:absolute;left:36.21px;top:405.43px" class="cls_011"><span class="cls_011">Arduino directory, we will be able to use it with</span></div>
<div style="position:absolute;left:287.97px;top:405.43px" class="cls_011"><span class="cls_011">which no square waves are sent.</span></div>
<div style="position:absolute;left:36.21px;top:420.42px" class="cls_011"><span class="cls_011">any sketches that we write.</span></div>
<div style="position:absolute;left:48.20px;top:439.40px" class="cls_011"><span class="cls_011">Ken’s library is essentially the last word in</span></div>
<div style="position:absolute;left:36.21px;top:454.38px" class="cls_011"><span class="cls_011">decoding and sending IR commands. It will</span></div>
<div style="position:absolute;left:36.21px;top:469.37px" class="cls_011"><span class="cls_011">attempt to match the different protocol standards</span></div>
<div style="position:absolute;left:36.21px;top:484.35px" class="cls_011"><span class="cls_011">from different manufacturers. Our sketch actually</span></div>
<div style="position:absolute;left:42.21px;top:707.86px" class="cls_025"><span class="cls_025">Figure 9-10</span></div>
<div style="position:absolute;left:102.15px;top:708.85px" class="cls_026"><span class="cls_026">Infrared code from an oscilloscope.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:134160px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background173.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">156</span></div>
<div style="position:absolute;left:81.80px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:43.11px;top:76.46px" class="cls_032"><span class="cls_032">LISTING PROJECT 28</span></div>
<div style="position:absolute;left:52.10px;top:98.70px" class="cls_031"><span class="cls_031">#include &lt;EEPROM.h></span></div>
<div style="position:absolute;left:52.10px;top:111.69px" class="cls_031"><span class="cls_031">#include &lt;IRremote.h></span></div>
<div style="position:absolute;left:52.10px;top:137.67px" class="cls_031"><span class="cls_031">int irRxPin = 9;</span></div>
<div style="position:absolute;left:52.10px;top:163.64px" class="cls_031"><span class="cls_031">int f = 38; // 40, 36, 38</span></div>
<div style="position:absolute;left:52.10px;top:189.61px" class="cls_031"><span class="cls_031">IRrecv irrecv(irRxPin);</span></div>
<div style="position:absolute;left:52.10px;top:202.60px" class="cls_031"><span class="cls_031">IRsend irsend;</span></div>
<div style="position:absolute;left:52.10px;top:228.58px" class="cls_031"><span class="cls_031">decode_results results;</span></div>
<div style="position:absolute;left:52.10px;top:241.56px" class="cls_031"><span class="cls_031">int codeLength = 0;</span></div>
<div style="position:absolute;left:52.10px;top:254.55px" class="cls_031"><span class="cls_031">int currentCode = 0;</span></div>
<div style="position:absolute;left:52.10px;top:280.52px" class="cls_031"><span class="cls_031">void setup()</span></div>
<div style="position:absolute;left:52.10px;top:293.51px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:63.97px;top:306.50px" class="cls_031"><span class="cls_031">Serial.begin(9600);</span></div>
<div style="position:absolute;left:63.97px;top:319.49px" class="cls_031"><span class="cls_031">Serial.println("0-9 to set code memory, s - to send");</span></div>
<div style="position:absolute;left:63.97px;top:332.47px" class="cls_031"><span class="cls_031">irrecv.enableIRIn();</span></div>
<div style="position:absolute;left:63.97px;top:345.46px" class="cls_031"><span class="cls_031">setCodeMemory(0);</span></div>
<div style="position:absolute;left:52.10px;top:358.45px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.10px;top:384.42px" class="cls_031"><span class="cls_031">void loop()</span></div>
<div style="position:absolute;left:52.10px;top:397.41px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:63.97px;top:410.40px" class="cls_031"><span class="cls_031">if (Serial.available())</span></div>
<div style="position:absolute;left:63.97px;top:423.38px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.83px;top:436.37px" class="cls_031"><span class="cls_031">char ch = Serial.read();</span></div>
<div style="position:absolute;left:75.83px;top:449.36px" class="cls_031"><span class="cls_031">if (ch >= '0' && ch &lt;= '9')</span></div>
<div style="position:absolute;left:75.83px;top:462.34px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:87.70px;top:475.33px" class="cls_031"><span class="cls_031">setCodeMemory(ch - '0');</span></div>
<div style="position:absolute;left:75.83px;top:488.32px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:75.83px;top:501.30px" class="cls_031"><span class="cls_031">else if (ch == 's')</span></div>
<div style="position:absolute;left:75.83px;top:514.29px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:87.70px;top:527.28px" class="cls_031"><span class="cls_031">sendIR();</span></div>
<div style="position:absolute;left:75.83px;top:540.27px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:63.97px;top:553.25px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:63.97px;top:566.24px" class="cls_031"><span class="cls_031">if (irrecv.decode(&results))</span></div>
<div style="position:absolute;left:63.97px;top:579.23px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.83px;top:592.21px" class="cls_031"><span class="cls_031">storeCode();</span></div>
<div style="position:absolute;left:75.83px;top:605.20px" class="cls_031"><span class="cls_031">irrecv.resume();</span></div>
<div style="position:absolute;left:63.97px;top:618.19px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.10px;top:631.17px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.10px;top:657.15px" class="cls_031"><span class="cls_031">void setCodeMemory(int x)</span></div>
<div style="position:absolute;left:52.10px;top:670.14px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:63.97px;top:683.12px" class="cls_031"><span class="cls_031">currentCode = x;</span></div>
<div style="position:absolute;left:63.97px;top:696.11px" class="cls_031"><span class="cls_031">Serial.print("Set current code memory to: ");</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:134940px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background174.jpg" width=552 height=770></div>
<div style="position:absolute;left:275.15px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 9</span></div>
<div style="position:absolute;left:338.97px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    Miscellaneous Projects</span></div>
<div style="position:absolute;left:499.06px;top:34.50px" class="cls_017"><span class="cls_017">157</span></div>
<div style="position:absolute;left:43.21px;top:76.46px" class="cls_032"><span class="cls_032">LISTING PROJECT 28 (continued)</span></div>
<div style="position:absolute;left:64.06px;top:98.70px" class="cls_031"><span class="cls_031">Serial.println(currentCode);</span></div>
<div style="position:absolute;left:64.06px;top:111.69px" class="cls_031"><span class="cls_031">irrecv.resume();</span></div>
<div style="position:absolute;left:52.20px;top:124.68px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.20px;top:150.65px" class="cls_031"><span class="cls_031">void storeCode()</span></div>
<div style="position:absolute;left:52.20px;top:163.64px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:70.00px;top:176.63px" class="cls_031"><span class="cls_031">// write the code to EEPROM, first byte is length</span></div>
<div style="position:absolute;left:70.00px;top:189.61px" class="cls_031"><span class="cls_031">int startIndex = currentCode * (RAWBUF + 1);</span></div>
<div style="position:absolute;left:70.00px;top:202.60px" class="cls_031"><span class="cls_031">int len = results.rawlen - 1;</span></div>
<div style="position:absolute;left:70.00px;top:215.59px" class="cls_031"><span class="cls_031">EEPROM.write(startIndex, (unsigned byte)len);</span></div>
<div style="position:absolute;left:70.00px;top:228.57px" class="cls_031"><span class="cls_031">for (int i = 0; i &lt; len; i++)</span></div>
<div style="position:absolute;left:70.00px;top:241.56px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:81.86px;top:254.55px" class="cls_031"><span class="cls_031">if (results.rawbuf[i] > 255)</span></div>
<div style="position:absolute;left:81.86px;top:267.54px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:93.73px;top:280.52px" class="cls_031"><span class="cls_031">EEPROM.write(startIndex + i + 1, 255);</span></div>
<div style="position:absolute;left:81.86px;top:293.51px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:81.86px;top:306.50px" class="cls_031"><span class="cls_031">else</span></div>
<div style="position:absolute;left:81.86px;top:319.49px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:87.79px;top:332.47px" class="cls_031"><span class="cls_031">EEPROM.write(startIndex + i + 1, results.rawbuf[i]);</span></div>
<div style="position:absolute;left:81.86px;top:345.46px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:70.00px;top:358.45px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:70.00px;top:371.43px" class="cls_031"><span class="cls_031">Serial.print("Saved code, length: ");</span></div>
<div style="position:absolute;left:70.00px;top:384.42px" class="cls_031"><span class="cls_031">Serial.println(len);</span></div>
<div style="position:absolute;left:52.20px;top:397.41px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.20px;top:423.38px" class="cls_031"><span class="cls_031">void sendIR()</span></div>
<div style="position:absolute;left:52.20px;top:436.37px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:64.06px;top:449.36px" class="cls_031"><span class="cls_031">// construct a buffer from the saved data in EEPROM and send it</span></div>
<div style="position:absolute;left:64.06px;top:462.34px" class="cls_031"><span class="cls_031">int startIndex = currentCode * (RAWBUF + 1);</span></div>
<div style="position:absolute;left:64.06px;top:475.33px" class="cls_031"><span class="cls_031">int len = EEPROM.read(startIndex);</span></div>
<div style="position:absolute;left:64.06px;top:488.32px" class="cls_031"><span class="cls_031">unsigned int code[RAWBUF];</span></div>
<div style="position:absolute;left:64.06px;top:501.30px" class="cls_031"><span class="cls_031">for (int i = 0; i &lt; len; i++)</span></div>
<div style="position:absolute;left:64.06px;top:514.29px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:81.86px;top:527.28px" class="cls_031"><span class="cls_031">int pulseLen = EEPROM.read(startIndex + i + 2);</span></div>
<div style="position:absolute;left:81.86px;top:540.26px" class="cls_031"><span class="cls_031">if (i % 2)</span></div>
<div style="position:absolute;left:81.86px;top:553.25px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:99.66px;top:566.24px" class="cls_031"><span class="cls_031">code[i] = pulseLen * USECPERTICK + MARK_EXCESS;</span></div>
<div style="position:absolute;left:81.86px;top:579.22px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:81.86px;top:592.21px" class="cls_031"><span class="cls_031">else</span></div>
<div style="position:absolute;left:81.86px;top:605.20px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:99.66px;top:618.18px" class="cls_031"><span class="cls_031">code[i] = pulseLen * USECPERTICK - MARK_EXCESS;</span></div>
<div style="position:absolute;left:81.86px;top:631.17px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:64.06px;top:644.16px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:64.06px;top:657.15px" class="cls_031"><span class="cls_031">irsend.sendRaw(code, len, f);</span></div>
<div style="position:absolute;left:64.06px;top:670.13px" class="cls_031"><span class="cls_031">Serial.print("Sent code length: ");</span></div>
<div style="position:absolute;left:64.06px;top:683.12px" class="cls_031"><span class="cls_031">Serial.println(len);</span></div>
<div style="position:absolute;left:52.20px;top:696.11px" class="cls_031"><span class="cls_031">}</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:135720px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background175.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">158</span></div>
<div style="position:absolute;left:81.48px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:48.11px;top:69.16px" class="cls_011"><span class="cls_011">The IRRemote library requires the IR LED to</span></div>
<div style="position:absolute;left:287.87px;top:70.07px" class="cls_005"><span class="cls_005">Putting It All Together</span></div>
<div style="position:absolute;left:36.12px;top:84.15px" class="cls_011"><span class="cls_011">be driven from digital pin 3. Hence, we only</span></div>
<div style="position:absolute;left:287.87px;top:93.55px" class="cls_011"><span class="cls_011">Load the completed sketch for Project 28 from</span></div>
<div style="position:absolute;left:36.12px;top:99.13px" class="cls_011"><span class="cls_011">specify the receiving pin at the top of the sketch</span></div>
<div style="position:absolute;left:287.87px;top:108.53px" class="cls_011"><span class="cls_011">your Arduino Sketchbook and download it to the</span></div>
<div style="position:absolute;left:36.12px;top:114.12px" class="cls_011"><span class="cls_011">(irRxPin).</span></div>
<div style="position:absolute;left:287.87px;top:123.52px" class="cls_011"><span class="cls_011">board (see Chapter 1).</span></div>
<div style="position:absolute;left:48.11px;top:133.10px" class="cls_011"><span class="cls_011">In the setup function, we start serial</span></div>
<div style="position:absolute;left:299.86px;top:142.50px" class="cls_011"><span class="cls_011">To test the project, find yourself a remote and</span></div>
<div style="position:absolute;left:36.12px;top:148.08px" class="cls_011"><span class="cls_011">communications and write instructions for using</span></div>
<div style="position:absolute;left:287.87px;top:157.48px" class="cls_011"><span class="cls_011">the bit of equipment that it controls. Then power</span></div>
<div style="position:absolute;left:36.12px;top:163.07px" class="cls_011"><span class="cls_011">the project back to the Serial Console. It is from</span></div>
<div style="position:absolute;left:287.87px;top:172.47px" class="cls_011"><span class="cls_011">up the project.</span></div>
<div style="position:absolute;left:36.12px;top:178.05px" class="cls_011"><span class="cls_011">the Serial Console that we are going to control the</span></div>
<div style="position:absolute;left:36.12px;top:193.04px" class="cls_011"><span class="cls_011">project. We also set the current code memory to</span></div>
<div style="position:absolute;left:299.86px;top:191.45px" class="cls_011"><span class="cls_011">Open the Serial Monitor, and you should be</span></div>
<div style="position:absolute;left:36.12px;top:208.02px" class="cls_011"><span class="cls_011">memory 0.</span></div>
<div style="position:absolute;left:287.87px;top:206.44px" class="cls_011"><span class="cls_011">greeted by the following message:</span></div>
<div style="position:absolute;left:48.11px;top:227.00px" class="cls_011"><span class="cls_011">The loop function follows the familiar pattern of</span></div>
<div style="position:absolute;left:293.87px;top:231.91px" class="cls_031"><span class="cls_031">0-9 to set code memory, s - to send</span></div>
<div style="position:absolute;left:36.12px;top:241.99px" class="cls_011"><span class="cls_011">checking for any input through the USB port. If it</span></div>
<div style="position:absolute;left:293.87px;top:244.90px" class="cls_031"><span class="cls_031">Set current code memory to: 0</span></div>
<div style="position:absolute;left:36.12px;top:256.97px" class="cls_011"><span class="cls_011">is a digit between 0 and 9 it makes the</span></div>
<div style="position:absolute;left:36.12px;top:271.96px" class="cls_011"><span class="cls_011">corresponding memory the current memory. If an</span></div>
<div style="position:absolute;left:287.87px;top:273.87px" class="cls_011"><span class="cls_011">By default, any message we capture will be</span></div>
<div style="position:absolute;left:36.12px;top:286.94px" class="cls_011"><span class="cls_011">“s” character is received from the Serial Monitor, it</span></div>
<div style="position:absolute;left:287.87px;top:288.86px" class="cls_011"><span class="cls_011">recorded into memory 0. So aim the remote at the</span></div>
<div style="position:absolute;left:36.12px;top:301.93px" class="cls_011"><span class="cls_011">sends the message in the current message memory.</span></div>
<div style="position:absolute;left:287.87px;top:303.84px" class="cls_011"><span class="cls_011">sensor, press a button (turning power on or ejecting</span></div>
<div style="position:absolute;left:48.11px;top:320.91px" class="cls_011"><span class="cls_011">The function then checks to see if any IR signal</span></div>
<div style="position:absolute;left:287.87px;top:318.83px" class="cls_011"><span class="cls_011">the tray on a DVD player are impressive actions).</span></div>
<div style="position:absolute;left:36.12px;top:335.90px" class="cls_011"><span class="cls_011">has been received; if it has, the function writes it to</span></div>
<div style="position:absolute;left:287.87px;top:333.81px" class="cls_011"><span class="cls_011">You should then see a message like:</span></div>
<div style="position:absolute;left:36.12px;top:350.88px" class="cls_011"><span class="cls_011">EEPROM using the storeCode function. It stores</span></div>
<div style="position:absolute;left:293.87px;top:359.29px" class="cls_031"><span class="cls_031">Saved code, length: 67</span></div>
<div style="position:absolute;left:36.12px;top:365.87px" class="cls_011"><span class="cls_011">the length of the code in the first byte and then the</span></div>
<div style="position:absolute;left:36.12px;top:380.85px" class="cls_011"><span class="cls_011">number of 50-microsecond ticks for each</span></div>
<div style="position:absolute;left:299.86px;top:385.26px" class="cls_011"><span class="cls_011">Now point the IR LED at the appliance and type</span></div>
<div style="position:absolute;left:36.12px;top:395.84px" class="cls_011"><span class="cls_011">subsequent pulse in bytes that follow. RAWBUF is</span></div>
<div style="position:absolute;left:287.87px;top:400.25px" class="cls_016"><span class="cls_016">s</span><span class="cls_011"> into the Serial Monitor. You should receive a</span></div>
<div style="position:absolute;left:36.12px;top:410.82px" class="cls_011"><span class="cls_011">a constant defined in the library as the maximum</span></div>
<div style="position:absolute;left:287.87px;top:415.23px" class="cls_011"><span class="cls_011">message like this:</span></div>
<div style="position:absolute;left:36.12px;top:425.81px" class="cls_011"><span class="cls_011">message length.</span></div>
<div style="position:absolute;left:293.87px;top:440.71px" class="cls_031"><span class="cls_031">Sent code length: 67</span></div>
<div style="position:absolute;left:48.11px;top:444.79px" class="cls_011"><span class="cls_011">Note that as part of the process of sending the</span></div>
<div style="position:absolute;left:36.12px;top:459.77px" class="cls_011"><span class="cls_011">code in the sendIR function an array of pulse</span></div>
<div style="position:absolute;left:299.86px;top:466.68px" class="cls_011"><span class="cls_011">More importantly, the appliance should respond</span></div>
<div style="position:absolute;left:36.12px;top:474.76px" class="cls_011"><span class="cls_011">timing integers is created from the stored bytes, the</span></div>
<div style="position:absolute;left:287.87px;top:481.67px" class="cls_011"><span class="cls_011">to the message from the Arduino board.</span></div>
<div style="position:absolute;left:36.12px;top:489.74px" class="cls_011"><span class="cls_011">timings of the pulses are then in microseconds</span></div>
<div style="position:absolute;left:299.86px;top:500.65px" class="cls_011"><span class="cls_011">Note that the IR LED may not be very bright in</span></div>
<div style="position:absolute;left:36.12px;top:504.73px" class="cls_011"><span class="cls_011">rather than ticks, and are adjusted by an offset</span></div>
<div style="position:absolute;left:287.87px;top:515.63px" class="cls_011"><span class="cls_011">its signal, so if it does not work, try moving it</span></div>
<div style="position:absolute;left:36.12px;top:519.71px" class="cls_011"><span class="cls_011">MARK_EXCESS to compensate for the hardware</span></div>
<div style="position:absolute;left:287.87px;top:530.62px" class="cls_011"><span class="cls_011">around and putting it closer to the appliance’s IR</span></div>
<div style="position:absolute;left:36.12px;top:534.70px" class="cls_011"><span class="cls_011">that reads the IR signals. This tends to make marks</span></div>
<div style="position:absolute;left:287.87px;top:545.60px" class="cls_011"><span class="cls_011">sensor.</span></div>
<div style="position:absolute;left:36.12px;top:549.68px" class="cls_011"><span class="cls_011">slightly longer than they should be and spaces</span></div>
<div style="position:absolute;left:36.12px;top:564.67px" class="cls_011"><span class="cls_011">slightly shorter.</span></div>
<div style="position:absolute;left:299.86px;top:564.59px" class="cls_011"><span class="cls_011">You can now try changing the memory slot by</span></div>
<div style="position:absolute;left:287.87px;top:579.57px" class="cls_011"><span class="cls_011">entering a different digit into the Serial Monitor</span></div>
<div style="position:absolute;left:48.11px;top:583.65px" class="cls_011"><span class="cls_011">We also use an interesting technique in</span></div>
<div style="position:absolute;left:287.87px;top:594.56px" class="cls_011"><span class="cls_011">and recording a variety of different IR commands.</span></div>
<div style="position:absolute;left:36.12px;top:598.64px" class="cls_011"><span class="cls_011">storeCode and sendIR when accessing the</span></div>
<div style="position:absolute;left:287.87px;top:609.54px" class="cls_011"><span class="cls_011">Note that there is no reason why they need to be</span></div>
<div style="position:absolute;left:36.12px;top:613.62px" class="cls_011"><span class="cls_011">EEPROM that lets us use it rather like an array for</span></div>
<div style="position:absolute;left:287.87px;top:624.53px" class="cls_011"><span class="cls_011">for the same appliance.</span></div>
<div style="position:absolute;left:36.12px;top:628.61px" class="cls_011"><span class="cls_011">the message memories. The start point for</span></div>
<div style="position:absolute;left:36.12px;top:643.59px" class="cls_011"><span class="cls_011">recording or reading the data from EEPROM is</span></div>
<div style="position:absolute;left:36.12px;top:658.58px" class="cls_011"><span class="cls_011">calculated by multiplying the currentCode by the</span></div>
<div style="position:absolute;left:36.12px;top:673.56px" class="cls_011"><span class="cls_011">length of each code (plus the byte that says how</span></div>
<div style="position:absolute;left:36.12px;top:688.55px" class="cls_011"><span class="cls_011">long it is).</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:136500px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background176.jpg" width=552 height=770></div>
<div style="position:absolute;left:274.72px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 9</span></div>
<div style="position:absolute;left:338.54px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    Miscellaneous Projects</span></div>
<div style="position:absolute;left:498.63px;top:34.50px" class="cls_017"><span class="cls_017">159</span></div>
<div style="position:absolute;left:36.21px;top:69.07px" class="cls_027"><span class="cls_027">Project 29</span></div>
<div style="position:absolute;left:36.21px;top:89.05px" class="cls_021"><span class="cls_021">Lilypad Clock</span></div>
<div style="position:absolute;left:36.21px;top:115.52px" class="cls_011"><span class="cls_011">The Arduino Lilypad works in much the same way</span></div>
<div style="position:absolute;left:36.21px;top:130.51px" class="cls_011"><span class="cls_011">as the Duemilanove board, but instead of a boring</span></div>
<div style="position:absolute;left:36.21px;top:145.49px" class="cls_011"><span class="cls_011">rectangular circuit board, the Lilypad is circular</span></div>
<div style="position:absolute;left:36.21px;top:160.48px" class="cls_011"><span class="cls_011">and designed to be stitched into clothing using</span></div>
<div style="position:absolute;left:36.21px;top:175.46px" class="cls_011"><span class="cls_011">conductive thread. Even an Evil Genius appreciates</span></div>
<div style="position:absolute;left:36.21px;top:190.45px" class="cls_011"><span class="cls_011">beauty when they see it. So this project is built into</span></div>
<div style="position:absolute;left:36.21px;top:205.43px" class="cls_011"><span class="cls_011">a photo frame to show off the natural beauty of the</span></div>
<div style="position:absolute;left:36.21px;top:220.42px" class="cls_011"><span class="cls_011">electronics (see Figure 9-11). A magnetic reed</span></div>
<div style="position:absolute;left:36.21px;top:235.40px" class="cls_011"><span class="cls_011">switch is used to adjust the time.</span></div>
<div style="position:absolute;left:48.20px;top:254.39px" class="cls_011"><span class="cls_011">This is a project where you have to use a</span></div>
<div style="position:absolute;left:36.21px;top:269.37px" class="cls_011"><span class="cls_011">soldering iron.</span></div>
<div style="position:absolute;left:44.22px;top:305.64px" class="cls_028"><span class="cls_028">COMPONENTS AND EQUIPMENT</span></div>
<div style="position:absolute;left:76.17px;top:329.02px" class="cls_029"><span class="cls_029">Description</span></div>
<div style="position:absolute;left:207.06px;top:329.02px" class="cls_029"><span class="cls_029">Appendix</span></div>
<div style="position:absolute;left:76.17px;top:348.00px" class="cls_026"><span class="cls_026">Arduino Lilypad and</span></div>
<div style="position:absolute;left:293.96px;top:355.97px" class="cls_025"><span class="cls_025">Figure 9-11</span></div>
<div style="position:absolute;left:353.90px;top:356.96px" class="cls_026"><span class="cls_026">Project 29. Lilypad binary clock.</span></div>
<div style="position:absolute;left:76.17px;top:360.99px" class="cls_026"><span class="cls_026">USB programmer</span></div>
<div style="position:absolute;left:226.34px;top:360.99px" class="cls_026"><span class="cls_026">2</span></div>
<div style="position:absolute;left:46.20px;top:377.97px" class="cls_026"><span class="cls_026">R1-16</span></div>
<div style="position:absolute;left:76.18px;top:377.97px" class="cls_026"><span class="cls_026">100</span></div>
<div style="position:absolute;left:105.17px;top:377.97px" class="cls_026"><span class="cls_026">0.5W metal film resistor</span></div>
<div style="position:absolute;left:226.29px;top:377.97px" class="cls_026"><span class="cls_026">5</span></div>
<div style="position:absolute;left:299.96px;top:385.85px" class="cls_011"><span class="cls_011">We use a reed switch rather than an ordinary</span></div>
<div style="position:absolute;left:46.20px;top:394.95px" class="cls_026"><span class="cls_026">D1-4</span></div>
<div style="position:absolute;left:76.18px;top:394.95px" class="cls_026"><span class="cls_026">2-mm red LEDs</span></div>
<div style="position:absolute;left:223.72px;top:394.95px" class="cls_026"><span class="cls_026">27</span></div>
<div style="position:absolute;left:287.97px;top:400.84px" class="cls_011"><span class="cls_011">switch so that the whole project can be mounted</span></div>
<div style="position:absolute;left:46.20px;top:411.94px" class="cls_026"><span class="cls_026">D5-10 2-mm blue LEDs</span></div>
<div style="position:absolute;left:223.44px;top:411.94px" class="cls_026"><span class="cls_026">29</span></div>
<div style="position:absolute;left:287.97px;top:415.82px" class="cls_011"><span class="cls_011">behind glass in a photo frame. We will be able to</span></div>
<div style="position:absolute;left:46.20px;top:428.92px" class="cls_026"><span class="cls_026">D11-16 2-mm green LEDs</span></div>
<div style="position:absolute;left:223.52px;top:428.92px" class="cls_026"><span class="cls_026">28</span></div>
<div style="position:absolute;left:287.97px;top:430.81px" class="cls_011"><span class="cls_011">adjust the time by holding a magnet close to the</span></div>
<div style="position:absolute;left:46.20px;top:445.90px" class="cls_026"><span class="cls_026">R17</span></div>
<div style="position:absolute;left:76.18px;top:445.90px" class="cls_026"><span class="cls_026">100 K</span></div>
<div style="position:absolute;left:111.64px;top:445.90px" class="cls_026"><span class="cls_026">0.5W metal film resistor 13</span></div>
<div style="position:absolute;left:287.97px;top:445.79px" class="cls_011"><span class="cls_011">switch.</span></div>
<div style="position:absolute;left:46.20px;top:462.89px" class="cls_026"><span class="cls_026">S1</span></div>
<div style="position:absolute;left:76.17px;top:462.89px" class="cls_026"><span class="cls_026">Miniature reed switch</span></div>
<div style="position:absolute;left:226.12px;top:462.89px" class="cls_026"><span class="cls_026">9</span></div>
<div style="position:absolute;left:299.96px;top:464.77px" class="cls_011"><span class="cls_011">Figure 9-12 shows the schematic diagram for</span></div>
<div style="position:absolute;left:76.17px;top:479.87px" class="cls_026"><span class="cls_026">7</span></div>
<div style="position:absolute;left:94.95px;top:479.87px" class="cls_026"><span class="cls_026">5 inch picture frame</span></div>
<div style="position:absolute;left:223.24px;top:479.87px" class="cls_026"><span class="cls_026">70</span></div>
<div style="position:absolute;left:287.97px;top:479.76px" class="cls_011"><span class="cls_011">the project.</span></div>
<div style="position:absolute;left:76.17px;top:496.85px" class="cls_026"><span class="cls_026">5V power supply</span></div>
<div style="position:absolute;left:224.71px;top:496.85px" class="cls_026"><span class="cls_026">71</span></div>
<div style="position:absolute;left:299.96px;top:498.74px" class="cls_011"><span class="cls_011">Each LED has a resistor soldered to the shorter</span></div>
<div style="position:absolute;left:287.97px;top:513.72px" class="cls_011"><span class="cls_011">negative lead. The positive lead is then soldered to</span></div>
<div style="position:absolute;left:287.97px;top:528.71px" class="cls_011"><span class="cls_011">the Arduino Lilypad terminal and the lead from the</span></div>
<div style="position:absolute;left:36.21px;top:542.11px" class="cls_005"><span class="cls_005">Hardware</span></div>
<div style="position:absolute;left:287.97px;top:543.69px" class="cls_011"><span class="cls_011">resistor passes under the board, where it is</span></div>
<div style="position:absolute;left:287.97px;top:558.68px" class="cls_011"><span class="cls_011">connected to all the other resistor leads.</span></div>
<div style="position:absolute;left:36.21px;top:565.58px" class="cls_011"><span class="cls_011">We have an LED and series resistor attached to</span></div>
<div style="position:absolute;left:299.96px;top:577.66px" class="cls_011"><span class="cls_011">Figure 9-13 shows a close-up of the LED and</span></div>
<div style="position:absolute;left:36.21px;top:580.57px" class="cls_011"><span class="cls_011">almost every connection of the Lilypad in this</span></div>
<div style="position:absolute;left:287.97px;top:592.65px" class="cls_011"><span class="cls_011">resistor, and the wiring of the leads under the</span></div>
<div style="position:absolute;left:36.21px;top:595.55px" class="cls_011"><span class="cls_011">project.</span></div>
<div style="position:absolute;left:287.97px;top:607.63px" class="cls_011"><span class="cls_011">board is shown in Figure 9-14. Note the rough disc</span></div>
<div style="position:absolute;left:48.20px;top:614.54px" class="cls_011"><span class="cls_011">The reed switch is a useful little component that</span></div>
<div style="position:absolute;left:287.97px;top:622.62px" class="cls_011"><span class="cls_011">of paper protecting the back of the board from the</span></div>
<div style="position:absolute;left:36.21px;top:629.52px" class="cls_011"><span class="cls_011">is just a pair of switch contacts in a sealed glass</span></div>
<div style="position:absolute;left:287.97px;top:637.60px" class="cls_011"><span class="cls_011">soldered resistor leads.</span></div>
<div style="position:absolute;left:36.21px;top:644.51px" class="cls_011"><span class="cls_011">envelope. When a magnet comes near to the</span></div>
<div style="position:absolute;left:36.21px;top:659.49px" class="cls_011"><span class="cls_011">switch, the contacts are pulled together and the</span></div>
<div style="position:absolute;left:36.21px;top:674.48px" class="cls_011"><span class="cls_011">switch is closed.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:137280px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background177.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">160</span></div>
<div style="position:absolute;left:82.80px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:42.11px;top:387.94px" class="cls_025"><span class="cls_025">Figure 9-12</span></div>
<div style="position:absolute;left:102.05px;top:388.93px" class="cls_026"><span class="cls_026">Schematic diagram for Project 29.</span></div>
<div style="position:absolute;left:42.11px;top:677.89px" class="cls_025"><span class="cls_025">Figure 9-13</span></div>
<div style="position:absolute;left:102.05px;top:678.88px" class="cls_026"><span class="cls_026">Close-up of LED attached to a</span></div>
<div style="position:absolute;left:293.87px;top:677.89px" class="cls_025"><span class="cls_025">Figure 9-14</span></div>
<div style="position:absolute;left:353.81px;top:678.88px" class="cls_026"><span class="cls_026">Bottom side of Lilypad board.</span></div>
<div style="position:absolute;left:102.05px;top:692.86px" class="cls_026"><span class="cls_026">resistor.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:138060px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background178.jpg" width=552 height=770></div>
<div style="position:absolute;left:276.80px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 9</span></div>
<div style="position:absolute;left:340.62px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    Miscellaneous Projects</span></div>
<div style="position:absolute;left:500.70px;top:34.50px" class="cls_017"><span class="cls_017">161</span></div>
<div style="position:absolute;left:48.20px;top:69.16px" class="cls_011"><span class="cls_011">A 5V power supply is used, as a significant</span></div>
<div style="position:absolute;left:294.96px;top:76.46px" class="cls_032"><span class="cls_032">LISTING PROJECT 29</span></div>
<div style="position:absolute;left:36.21px;top:84.15px" class="cls_011"><span class="cls_011">amount of power is used when all the LEDs are lit</span></div>
<div style="position:absolute;left:297.96px;top:98.70px" class="cls_031"><span class="cls_031">#include &lt;Time.h></span></div>
<div style="position:absolute;left:36.21px;top:99.13px" class="cls_011"><span class="cls_011">and so batteries would not last long. The power</span></div>
<div style="position:absolute;left:36.21px;top:114.12px" class="cls_011"><span class="cls_011">wires extend from the side of the picture frame,</span></div>
<div style="position:absolute;left:297.96px;top:124.68px" class="cls_031"><span class="cls_031">int hourLEDs[] = {1, 2, 3, 4};</span></div>
<div style="position:absolute;left:36.21px;top:129.10px" class="cls_011"><span class="cls_011">where they are soldered to a connector.</span></div>
<div style="position:absolute;left:303.95px;top:137.67px" class="cls_031"><span class="cls_031">// least significant bit first</span></div>
<div style="position:absolute;left:48.20px;top:148.08px" class="cls_011"><span class="cls_011">The author used a redundant cell phone power</span></div>
<div style="position:absolute;left:297.96px;top:150.65px" class="cls_031"><span class="cls_031">int minuteLEDs[] = {10, 9, 8, 7, 6,</span></div>
<div style="position:absolute;left:36.21px;top:163.07px" class="cls_011"><span class="cls_011">supply. Be sure to test that any supply you are</span></div>
<div style="position:absolute;left:303.95px;top:163.64px" class="cls_031"><span class="cls_031">5};</span></div>
<div style="position:absolute;left:297.96px;top:176.63px" class="cls_031"><span class="cls_031">int secondLEDs[] = {17, 16, 15, 14,</span></div>
<div style="position:absolute;left:36.21px;top:178.05px" class="cls_011"><span class="cls_011">going to use provides 5V at a current of at least</span></div>
<div style="position:absolute;left:303.95px;top:189.61px" class="cls_031"><span class="cls_031">13, 12};</span></div>
<div style="position:absolute;left:36.21px;top:193.04px" class="cls_011"><span class="cls_011">500 mA. You can test the polarity of the power</span></div>
<div style="position:absolute;left:36.21px;top:208.02px" class="cls_011"><span class="cls_011">supply using a multimeter.</span></div>
<div style="position:absolute;left:297.96px;top:215.59px" class="cls_031"><span class="cls_031">int loopLEDs[] = {17, 16, 15, 14, 13,</span></div>
<div style="position:absolute;left:303.95px;top:228.58px" class="cls_031"><span class="cls_031">12, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1};</span></div>
<div style="position:absolute;left:36.21px;top:240.99px" class="cls_005"><span class="cls_005">Software</span></div>
<div style="position:absolute;left:297.96px;top:254.55px" class="cls_031"><span class="cls_031">int switchPin = 18;</span></div>
<div style="position:absolute;left:36.21px;top:264.47px" class="cls_011"><span class="cls_011">This is another project in which we make use of a</span></div>
<div style="position:absolute;left:36.21px;top:279.46px" class="cls_011"><span class="cls_011">library. This library makes dealing with time easy</span></div>
<div style="position:absolute;left:297.96px;top:280.52px" class="cls_031"><span class="cls_031">void setup()</span></div>
<div style="position:absolute;left:297.96px;top:293.51px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:36.21px;top:294.44px" class="cls_011"><span class="cls_011">and can be downloaded from </span><A HREF="http://www.arduino.cc/">www.arduino.cc/</A> </div>
<div style="position:absolute;left:309.82px;top:306.50px" class="cls_031"><span class="cls_031">for (int i = 0; i &lt; 4; i++)</span></div>
<div style="position:absolute;left:36.21px;top:309.43px" class="cls_011"><span class="cls_011">playground/Code/Time.</span></div>
<div style="position:absolute;left:309.82px;top:319.49px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:48.20px;top:328.41px" class="cls_011"><span class="cls_011">Download the file Time.zip and unzip it. If you</span></div>
<div style="position:absolute;left:327.62px;top:332.47px" class="cls_031"><span class="cls_031">pinMode(hourLEDs[i], OUTPUT);</span></div>
<div style="position:absolute;left:36.21px;top:343.39px" class="cls_011"><span class="cls_011">are using Windows, right-click and choose Extract</span></div>
<div style="position:absolute;left:309.82px;top:345.46px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:36.21px;top:358.38px" class="cls_011"><span class="cls_011">All and then save the whole folder into C:\Program</span></div>
<div style="position:absolute;left:309.82px;top:358.45px" class="cls_031"><span class="cls_031">for (int i = 0; i &lt; 6; i++)</span></div>
<div style="position:absolute;left:309.82px;top:371.43px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:36.21px;top:373.36px" class="cls_011"><span class="cls_011">Files\Arduino\Arduino-0017\hardware\libraries.</span></div>
<div style="position:absolute;left:327.62px;top:384.42px" class="cls_031"><span class="cls_031">pinMode(minuteLEDs[i], OUTPUT);</span></div>
<div style="position:absolute;left:48.20px;top:392.34px" class="cls_011"><span class="cls_011">On LINUX, find the Arduino installation</span></div>
<div style="position:absolute;left:309.82px;top:397.41px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:36.21px;top:407.33px" class="cls_011"><span class="cls_011">directory and copy the folder into hardware/</span></div>
<div style="position:absolute;left:309.82px;top:410.39px" class="cls_031"><span class="cls_031">for (int i = 0; i &lt; 6; i++)</span></div>
<div style="position:absolute;left:36.21px;top:422.31px" class="cls_011"><span class="cls_011">libraries.</span></div>
<div style="position:absolute;left:309.82px;top:423.38px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:327.62px;top:436.37px" class="cls_031"><span class="cls_031">pinMode(secondLEDs[i], OUTPUT);</span></div>
<div style="position:absolute;left:48.20px;top:441.30px" class="cls_011"><span class="cls_011">On a Mac, you do not put the new library into</span></div>
<div style="position:absolute;left:309.82px;top:449.36px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:36.21px;top:456.28px" class="cls_011"><span class="cls_011">the Arduino installation. Instead, you create a</span></div>
<div style="position:absolute;left:309.82px;top:462.34px" class="cls_031"><span class="cls_031">setTime(0);</span></div>
<div style="position:absolute;left:36.21px;top:471.27px" class="cls_011"><span class="cls_011">folder called “libraries” in Documents/Arduino and</span></div>
<div style="position:absolute;left:297.96px;top:475.33px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:36.21px;top:486.25px" class="cls_011"><span class="cls_011">put the whole library folder in there.</span></div>
<div style="position:absolute;left:297.96px;top:501.30px" class="cls_031"><span class="cls_031">void loop()</span></div>
<div style="position:absolute;left:48.20px;top:505.23px" class="cls_011"><span class="cls_011">Once we have installed this library into our</span></div>
<div style="position:absolute;left:297.96px;top:514.29px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:36.21px;top:520.22px" class="cls_011"><span class="cls_011">Arduino directory, we will be able to use it with</span></div>
<div style="position:absolute;left:309.82px;top:527.28px" class="cls_031"><span class="cls_031">if (digitalRead(switchPin))</span></div>
<div style="position:absolute;left:36.21px;top:535.20px" class="cls_011"><span class="cls_011">any sketches that we write. (See Listing Project</span></div>
<div style="position:absolute;left:309.82px;top:540.26px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:36.21px;top:550.19px" class="cls_011"><span class="cls_011">29.)</span></div>
<div style="position:absolute;left:327.62px;top:553.25px" class="cls_031"><span class="cls_031">adjustTime(1);</span></div>
<div style="position:absolute;left:309.82px;top:566.24px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:48.20px;top:569.17px" class="cls_011"><span class="cls_011">Arrays are used to refer to the different sets of</span></div>
<div style="position:absolute;left:309.82px;top:579.23px" class="cls_031"><span class="cls_031">else if (minute() == 0 && second()</span></div>
<div style="position:absolute;left:36.21px;top:584.15px" class="cls_011"><span class="cls_011">LEDs. These are used to simplify installation and</span></div>
<div style="position:absolute;left:327.62px;top:592.21px" class="cls_031"><span class="cls_031">==</span></div>
<div style="position:absolute;left:344.34px;top:592.21px" class="cls_031"><span class="cls_031">0)</span></div>
<div style="position:absolute;left:36.21px;top:599.14px" class="cls_011"><span class="cls_011">also in the setOutput function. This function sets</span></div>
<div style="position:absolute;left:309.82px;top:605.20px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:36.21px;top:614.12px" class="cls_011"><span class="cls_011">the binary values of the array of LEDs that is to</span></div>
<div style="position:absolute;left:321.69px;top:618.19px" class="cls_031"><span class="cls_031">spin(hour());</span></div>
<div style="position:absolute;left:36.21px;top:629.11px" class="cls_011"><span class="cls_011">display a binary value. The function also receives</span></div>
<div style="position:absolute;left:309.82px;top:631.17px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:36.21px;top:644.09px" class="cls_011"><span class="cls_011">arguments of the length of that array and the value</span></div>
<div style="position:absolute;left:309.82px;top:644.16px" class="cls_031"><span class="cls_031">updateDisplay();</span></div>
<div style="position:absolute;left:309.82px;top:657.15px" class="cls_031"><span class="cls_031">delay(1);</span></div>
<div style="position:absolute;left:36.21px;top:659.08px" class="cls_011"><span class="cls_011">to be written to it. This is used in the loop function</span></div>
<div style="position:absolute;left:297.96px;top:670.13px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:36.21px;top:674.06px" class="cls_011"><span class="cls_011">to successively set the LEDs for hours, minutes,</span></div>
<div style="position:absolute;left:36.21px;top:689.05px" class="cls_011"><span class="cls_011">and seconds. When passing an array into a</span></div>
<div style="position:absolute;left:464.32px;top:698.11px" class="cls_037"><span class="cls_037">(continued)</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:138840px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background179.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">162</span></div>
<div style="position:absolute;left:81.73px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:287.87px;top:69.16px" class="cls_011"><span class="cls_011">function like this, you must prefix the argument in</span></div>
<div style="position:absolute;left:43.11px;top:76.46px" class="cls_032"><span class="cls_032">LISTING PROJECT 29 (continued)</span></div>
<div style="position:absolute;left:287.87px;top:84.15px" class="cls_011"><span class="cls_011">the function definition with a *.</span></div>
<div style="position:absolute;left:46.11px;top:98.70px" class="cls_031"><span class="cls_031">void updateDisplay()</span></div>
<div style="position:absolute;left:299.86px;top:103.13px" class="cls_011"><span class="cls_011">An additional feature of the clock is that every</span></div>
<div style="position:absolute;left:46.11px;top:111.69px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:287.87px;top:118.11px" class="cls_011"><span class="cls_011">hour, on the hour, it spins the LEDs, lighting each</span></div>
<div style="position:absolute;left:57.97px;top:124.68px" class="cls_031"><span class="cls_031">time_t t = now();</span></div>
<div style="position:absolute;left:57.97px;top:137.66px" class="cls_031"><span class="cls_031">setOutput(hourLEDs, 4,</span></div>
<div style="position:absolute;left:287.87px;top:133.10px" class="cls_011"><span class="cls_011">one in turn. So at 6 o’clock, for example, it will</span></div>
<div style="position:absolute;left:75.77px;top:150.65px" class="cls_031"><span class="cls_031">hourFormat12(t));</span></div>
<div style="position:absolute;left:287.87px;top:148.08px" class="cls_011"><span class="cls_011">spin six times before resuming the normal pattern.</span></div>
<div style="position:absolute;left:57.97px;top:163.64px" class="cls_031"><span class="cls_031">setOutput(minuteLEDs, 6, minute(t));</span></div>
<div style="position:absolute;left:299.86px;top:167.06px" class="cls_011"><span class="cls_011">If the reed relay is activated, the adjustTime</span></div>
<div style="position:absolute;left:57.97px;top:176.63px" class="cls_031"><span class="cls_031">setOutput(secondLEDs, 6, second(t));</span></div>
<div style="position:absolute;left:287.87px;top:182.05px" class="cls_011"><span class="cls_011">function is called with an argument of 1 second.</span></div>
<div style="position:absolute;left:46.11px;top:189.61px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:287.87px;top:197.03px" class="cls_011"><span class="cls_011">Since this is in the loop function with a one-</span></div>
<div style="position:absolute;left:287.87px;top:212.02px" class="cls_011"><span class="cls_011">millisecond delay, the seconds are going to pass</span></div>
<div style="position:absolute;left:46.11px;top:228.58px" class="cls_031"><span class="cls_031">void setOutput(int *ledArray, int</span></div>
<div style="position:absolute;left:287.87px;top:227.00px" class="cls_011"><span class="cls_011">quickly.</span></div>
<div style="position:absolute;left:52.10px;top:241.56px" class="cls_031"><span class="cls_031">numLEDs, int value)</span></div>
<div style="position:absolute;left:46.11px;top:254.55px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:287.87px;top:259.97px" class="cls_005"><span class="cls_005">Putting It All Together</span></div>
<div style="position:absolute;left:69.84px;top:267.54px" class="cls_031"><span class="cls_031">for (int i = 0; i &lt; numLEDs; i++)</span></div>
<div style="position:absolute;left:69.84px;top:280.52px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:287.87px;top:283.45px" class="cls_011"><span class="cls_011">Load the completed sketch for Project 29 from</span></div>
<div style="position:absolute;left:75.70px;top:293.51px" class="cls_031"><span class="cls_031">digitalWrite(ledArray[i],</span></div>
<div style="position:absolute;left:287.87px;top:298.44px" class="cls_011"><span class="cls_011">your Arduino Sketchbook and download it to the</span></div>
<div style="position:absolute;left:93.50px;top:306.50px" class="cls_031"><span class="cls_031">bitRead(value, i));</span></div>
<div style="position:absolute;left:287.87px;top:313.42px" class="cls_011"><span class="cls_011">board. On a Lilypad, this is slightly different to</span></div>
<div style="position:absolute;left:69.84px;top:319.48px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:46.11px;top:332.47px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:287.87px;top:328.41px" class="cls_011"><span class="cls_011">what we are used to. You will have to select a</span></div>
<div style="position:absolute;left:287.87px;top:343.39px" class="cls_011"><span class="cls_011">different board type and serial port from the</span></div>
<div style="position:absolute;left:287.87px;top:358.38px" class="cls_011"><span class="cls_011">Arduino software before downloading.</span></div>
<div style="position:absolute;left:46.11px;top:371.43px" class="cls_031"><span class="cls_031">void spin(int count)</span></div>
<div style="position:absolute;left:299.86px;top:377.36px" class="cls_011"><span class="cls_011">Assemble the project, but test it connected to</span></div>
<div style="position:absolute;left:46.11px;top:384.42px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:287.87px;top:392.34px" class="cls_011"><span class="cls_011">the USB programmer before you build it into the</span></div>
<div style="position:absolute;left:57.97px;top:397.41px" class="cls_031"><span class="cls_031">for (int i = 0; i &lt; count; i++)</span></div>
<div style="position:absolute;left:57.97px;top:410.39px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:287.87px;top:407.33px" class="cls_011"><span class="cls_011">picture frame.</span></div>
<div style="position:absolute;left:81.70px;top:423.38px" class="cls_031"><span class="cls_031">for (int j = 0; j &lt; 16; j++)</span></div>
<div style="position:absolute;left:299.86px;top:426.31px" class="cls_011"><span class="cls_011">Try to choose a picture frame that has a thick</span></div>
<div style="position:absolute;left:81.70px;top:436.37px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:287.87px;top:441.30px" class="cls_011"><span class="cls_011">card insert that will allow a sufficient gap into</span></div>
<div style="position:absolute;left:99.43px;top:449.35px" class="cls_031"><span class="cls_031">digitalWrite(loopLEDs[j],</span></div>
<div style="position:absolute;left:287.87px;top:456.28px" class="cls_011"><span class="cls_011">which the components can fit between the backing</span></div>
<div style="position:absolute;left:117.23px;top:462.34px" class="cls_031"><span class="cls_031">HIGH);</span></div>
<div style="position:absolute;left:99.50px;top:475.33px" class="cls_031"><span class="cls_031">delay(50);</span></div>
<div style="position:absolute;left:287.87px;top:471.27px" class="cls_011"><span class="cls_011">board and the glass.</span></div>
<div style="position:absolute;left:99.43px;top:488.32px" class="cls_031"><span class="cls_031">digitalWrite(loopLEDs[j],</span></div>
<div style="position:absolute;left:299.86px;top:490.25px" class="cls_011"><span class="cls_011">You may wish to design a paper insert to</span></div>
<div style="position:absolute;left:117.23px;top:501.30px" class="cls_031"><span class="cls_031">LOW);</span></div>
<div style="position:absolute;left:287.87px;top:505.23px" class="cls_011"><span class="cls_011">provide labels for your LEDs to make it easier to</span></div>
<div style="position:absolute;left:81.70px;top:514.29px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:287.87px;top:520.22px" class="cls_011"><span class="cls_011">tell the time. A suitable design can be found at</span></div>
<div style="position:absolute;left:57.97px;top:527.28px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:287.87px;top:535.20px" class="cls_011"><span class="cls_011"> </span><A HREF="http://www.arduinoevilgenius.com./">www.arduinoevilgenius.com.</A> </div>
<div style="position:absolute;left:46.11px;top:540.26px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:299.86px;top:554.18px" class="cls_011"><span class="cls_011">To read the time from the clock, you look at</span></div>
<div style="position:absolute;left:287.87px;top:569.17px" class="cls_011"><span class="cls_011">each section (Hours, Minutes, and Seconds) in turn</span></div>
<div style="position:absolute;left:287.87px;top:584.15px" class="cls_011"><span class="cls_011">and add the values next to the LEDs that are lit.</span></div>
<div style="position:absolute;left:287.87px;top:599.14px" class="cls_011"><span class="cls_011">So, if the hour LEDs next to 8 and 2 are lit, then</span></div>
<div style="position:absolute;left:287.87px;top:614.12px" class="cls_011"><span class="cls_011">the hour is 10. Then do the same for the minutes</span></div>
<div style="position:absolute;left:287.87px;top:629.11px" class="cls_011"><span class="cls_011">and seconds.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:139620px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background180.jpg" width=552 height=770></div>
<div style="position:absolute;left:274.81px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 9</span></div>
<div style="position:absolute;left:338.63px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    Miscellaneous Projects</span></div>
<div style="position:absolute;left:498.72px;top:34.50px" class="cls_017"><span class="cls_017">163</span></div>
<div style="position:absolute;left:299.96px;top:69.16px" class="cls_011"><span class="cls_011">For optimal loudness, the piezobuzzer used is</span></div>
<div style="position:absolute;left:36.21px;top:69.07px" class="cls_027"><span class="cls_027">Project 30</span></div>
<div style="position:absolute;left:287.97px;top:84.14px" class="cls_011"><span class="cls_011">the kind that has integrated electronics so all that is</span></div>
<div style="position:absolute;left:36.21px;top:89.05px" class="cls_021"><span class="cls_021">Evil Genius Countdown Timer</span></div>
<div style="position:absolute;left:287.97px;top:99.13px" class="cls_011"><span class="cls_011">necessary to make it sound is to provide it with 5V.</span></div>
<div style="position:absolute;left:36.21px;top:115.52px" class="cls_011"><span class="cls_011">No book on projects for an Evil Genius should be</span></div>
<div style="position:absolute;left:287.97px;top:114.11px" class="cls_011"><span class="cls_011">Be careful to connect it in the correct way.</span></div>
<div style="position:absolute;left:36.21px;top:130.51px" class="cls_011"><span class="cls_011">without the Bond-style countdown timer, complete</span></div>
<div style="position:absolute;left:36.21px;top:145.49px" class="cls_011"><span class="cls_011">with a rat’s nest of colored wires (see Figure 9-15).</span></div>
<div style="position:absolute;left:287.97px;top:147.09px" class="cls_005"><span class="cls_005">Hardware</span></div>
<div style="position:absolute;left:36.21px;top:160.48px" class="cls_011"><span class="cls_011">This timer also doubles as an egg timer, because</span></div>
<div style="position:absolute;left:287.97px;top:170.56px" class="cls_011"><span class="cls_011">The project is similar to Project 15, but with the</span></div>
<div style="position:absolute;left:36.21px;top:175.46px" class="cls_011"><span class="cls_011">there is nothing that annoys the Evil Genius more</span></div>
<div style="position:absolute;left:287.97px;top:185.55px" class="cls_011"><span class="cls_011">extra seven-segment display and associated</span></div>
<div style="position:absolute;left:36.21px;top:190.45px" class="cls_011"><span class="cls_011">than an overcooked soft-boiled egg!</span></div>
<div style="position:absolute;left:287.97px;top:200.53px" class="cls_011"><span class="cls_011">transistors. We also have a rotary encoder that we</span></div>
<div style="position:absolute;left:287.97px;top:215.52px" class="cls_011"><span class="cls_011">will use to set the time to count down from. We</span></div>
<div style="position:absolute;left:44.22px;top:224.12px" class="cls_028"><span class="cls_028">COMPONENTS AND EQUIPMENT</span></div>
<div style="position:absolute;left:287.97px;top:230.50px" class="cls_011"><span class="cls_011">have used both components before; for more</span></div>
<div style="position:absolute;left:76.17px;top:247.50px" class="cls_029"><span class="cls_029">Description</span></div>
<div style="position:absolute;left:207.06px;top:247.50px" class="cls_029"><span class="cls_029">Appendix</span></div>
<div style="position:absolute;left:287.97px;top:245.49px" class="cls_011"><span class="cls_011">information on rotary encoders, see Chapter 6.</span></div>
<div style="position:absolute;left:76.17px;top:267.48px" class="cls_026"><span class="cls_026">Arduino Diecimila or</span></div>
<div style="position:absolute;left:299.96px;top:264.47px" class="cls_011"><span class="cls_011">The schematic diagram for the project is shown</span></div>
<div style="position:absolute;left:76.17px;top:280.46px" class="cls_026"><span class="cls_026">Duemilanove board or clone</span></div>
<div style="position:absolute;left:227.43px;top:280.46px" class="cls_026"><span class="cls_026">1</span></div>
<div style="position:absolute;left:287.97px;top:279.45px" class="cls_011"><span class="cls_011">in Figure 9-16 and the breadboard layout in Figure</span></div>
<div style="position:absolute;left:46.20px;top:297.45px" class="cls_026"><span class="cls_026">D1-4</span></div>
<div style="position:absolute;left:76.18px;top:297.45px" class="cls_026"><span class="cls_026">2-digit, 7-segment LED</span></div>
<div style="position:absolute;left:287.97px;top:294.44px" class="cls_011"><span class="cls_011">9-17.</span></div>
<div style="position:absolute;left:76.17px;top:310.43px" class="cls_026"><span class="cls_026">display (common anode)</span></div>
<div style="position:absolute;left:223.53px;top:310.43px" class="cls_026"><span class="cls_026">33</span></div>
<div style="position:absolute;left:46.20px;top:327.42px" class="cls_026"><span class="cls_026">R1-3</span></div>
<div style="position:absolute;left:76.18px;top:327.42px" class="cls_026"><span class="cls_026">100 K</span></div>
<div style="position:absolute;left:111.64px;top:327.42px" class="cls_026"><span class="cls_026">0.5W metal film</span></div>
<div style="position:absolute;left:287.97px;top:327.41px" class="cls_005"><span class="cls_005">Software</span></div>
<div style="position:absolute;left:76.17px;top:340.40px" class="cls_026"><span class="cls_026">resistor</span></div>
<div style="position:absolute;left:224.67px;top:340.40px" class="cls_026"><span class="cls_026">13</span></div>
<div style="position:absolute;left:287.97px;top:350.89px" class="cls_011"><span class="cls_011">The sketch for this project (Project Listing 30) is</span></div>
<div style="position:absolute;left:46.20px;top:357.39px" class="cls_026"><span class="cls_026">R4-7</span></div>
<div style="position:absolute;left:76.18px;top:357.39px" class="cls_026"><span class="cls_026">1 K</span></div>
<div style="position:absolute;left:98.78px;top:357.39px" class="cls_026"><span class="cls_026">0.5W metal film resistor</span></div>
<div style="position:absolute;left:226.36px;top:357.39px" class="cls_026"><span class="cls_026">7</span></div>
<div style="position:absolute;left:287.97px;top:365.87px" class="cls_011"><span class="cls_011">mostly concerned with keeping the display up-to-</span></div>
<div style="position:absolute;left:46.20px;top:374.37px" class="cls_026"><span class="cls_026">R8-15  100</span></div>
<div style="position:absolute;left:105.17px;top:374.37px" class="cls_026"><span class="cls_026">0.5W metal film resistor</span></div>
<div style="position:absolute;left:226.29px;top:374.37px" class="cls_026"><span class="cls_026">5</span></div>
<div style="position:absolute;left:287.97px;top:380.86px" class="cls_011"><span class="cls_011">date and creating the illusion that all four displays</span></div>
<div style="position:absolute;left:46.20px;top:391.36px" class="cls_026"><span class="cls_026">T1-4</span></div>
<div style="position:absolute;left:76.18px;top:391.36px" class="cls_026"><span class="cls_026">BC307</span></div>
<div style="position:absolute;left:223.39px;top:391.36px" class="cls_026"><span class="cls_026">39</span></div>
<div style="position:absolute;left:287.97px;top:395.84px" class="cls_011"><span class="cls_011">are lit at the same time, when in fact, only one will</span></div>
<div style="position:absolute;left:76.17px;top:408.34px" class="cls_026"><span class="cls_026">Rotary encoder</span></div>
<div style="position:absolute;left:223.74px;top:408.34px" class="cls_026"><span class="cls_026">57</span></div>
<div style="position:absolute;left:287.97px;top:410.83px" class="cls_011"><span class="cls_011">ever be lit. The way this is accomplished is</span></div>
<div style="position:absolute;left:76.17px;top:425.32px" class="cls_026"><span class="cls_026">Piezobuzzer</span></div>
<div style="position:absolute;left:287.97px;top:425.81px" class="cls_011"><span class="cls_011">described in Project 15.</span></div>
<div style="position:absolute;left:76.17px;top:438.31px" class="cls_026"><span class="cls_026">(integrated electronics)</span></div>
<div style="position:absolute;left:223.26px;top:438.31px" class="cls_026"><span class="cls_026">68</span></div>
<div style="position:absolute;left:42.21px;top:707.86px" class="cls_025"><span class="cls_025">Figure 9-15</span></div>
<div style="position:absolute;left:102.15px;top:708.85px" class="cls_026"><span class="cls_026">Project 30. Evil Genius countdown timer.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:140400px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background181.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">164</span></div>
<div style="position:absolute;left:82.39px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:42.11px;top:268.86px" class="cls_025"><span class="cls_025">Figure 9-16</span></div>
<div style="position:absolute;left:102.05px;top:269.84px" class="cls_026"><span class="cls_026">Schematic diagram for Project 30.</span></div>
<div style="position:absolute;left:42.11px;top:560.01px" class="cls_025"><span class="cls_025">Figure 9-17</span></div>
<div style="position:absolute;left:102.05px;top:560.99px" class="cls_026"><span class="cls_026">A powered-up Arduino board with LED lit.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:141180px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background182.jpg" width=552 height=770></div>
<div style="position:absolute;left:274.72px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 9</span></div>
<div style="position:absolute;left:338.54px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    Miscellaneous Projects</span></div>
<div style="position:absolute;left:498.63px;top:34.50px" class="cls_017"><span class="cls_017">165</span></div>
<div style="position:absolute;left:43.21px;top:76.46px" class="cls_032"><span class="cls_032">LISTING PROJECT 30</span></div>
<div style="position:absolute;left:52.20px;top:98.70px" class="cls_031"><span class="cls_031">#include &lt;EEPROM.h></span></div>
<div style="position:absolute;left:52.20px;top:122.68px" class="cls_031"><span class="cls_031">int segmentPins[] = {3, 2, 19, 16, 18, 4, 5, 17};</span></div>
<div style="position:absolute;left:52.20px;top:134.67px" class="cls_031"><span class="cls_031">int displayPins[] = {14, 7, 15, 6};</span></div>
<div style="position:absolute;left:52.20px;top:146.66px" class="cls_031"><span class="cls_031">int times[] = {5, 10, 15, 20, 30, 45, 100, 130, 200, 230, 300, 400, 500, 600,</span></div>
<div style="position:absolute;left:70.18px;top:158.64px" class="cls_031"><span class="cls_031">700, 800, 900, 1000, 1500, 2000, 3000};</span></div>
<div style="position:absolute;left:52.20px;top:170.63px" class="cls_031"><span class="cls_031">int numTimes = 19;</span></div>
<div style="position:absolute;left:52.20px;top:182.62px" class="cls_031"><span class="cls_031">byte selectedTimeIndex;</span></div>
<div style="position:absolute;left:52.20px;top:194.61px" class="cls_031"><span class="cls_031">int timerMinute;</span></div>
<div style="position:absolute;left:52.20px;top:206.60px" class="cls_031"><span class="cls_031">int timerSecond;</span></div>
<div style="position:absolute;left:52.20px;top:230.57px" class="cls_031"><span class="cls_031">int buzzerPin = 11;</span></div>
<div style="position:absolute;left:52.20px;top:242.56px" class="cls_031"><span class="cls_031">int aPin = 8;</span></div>
<div style="position:absolute;left:52.20px;top:254.55px" class="cls_031"><span class="cls_031">int bPin = 10;</span></div>
<div style="position:absolute;left:52.20px;top:266.54px" class="cls_031"><span class="cls_031">int buttonPin = 9;</span></div>
<div style="position:absolute;left:52.20px;top:290.51px" class="cls_031"><span class="cls_031">boolean stopped = true;</span></div>
<div style="position:absolute;left:52.20px;top:326.48px" class="cls_031"><span class="cls_031">byte digits[10][8] = {</span></div>
<div style="position:absolute;left:52.20px;top:338.47px" class="cls_031"><span class="cls_031">//  a  b  c  d  e  f  g  .</span></div>
<div style="position:absolute;left:64.06px;top:350.45px" class="cls_031"><span class="cls_031">{ 1, 1, 1, 1, 1, 1, 0, 0},</span></div>
<div style="position:absolute;left:220.49px;top:350.45px" class="cls_031"><span class="cls_031">// 0</span></div>
<div style="position:absolute;left:64.06px;top:362.44px" class="cls_031"><span class="cls_031">{ 0, 1, 1, 0, 0, 0, 0, 0},</span></div>
<div style="position:absolute;left:220.49px;top:362.44px" class="cls_031"><span class="cls_031">// 1</span></div>
<div style="position:absolute;left:64.06px;top:374.43px" class="cls_031"><span class="cls_031">{ 1, 1, 0, 1, 1, 0, 1, 0},</span></div>
<div style="position:absolute;left:220.49px;top:374.43px" class="cls_031"><span class="cls_031">// 2</span></div>
<div style="position:absolute;left:64.06px;top:386.42px" class="cls_031"><span class="cls_031">{ 1, 1, 1, 1, 0, 0, 1, 0},</span></div>
<div style="position:absolute;left:220.49px;top:386.42px" class="cls_031"><span class="cls_031">// 3</span></div>
<div style="position:absolute;left:64.06px;top:398.41px" class="cls_031"><span class="cls_031">{ 0, 1, 1, 0, 0, 1, 1, 0},</span></div>
<div style="position:absolute;left:220.49px;top:398.41px" class="cls_031"><span class="cls_031">// 4</span></div>
<div style="position:absolute;left:64.06px;top:410.39px" class="cls_031"><span class="cls_031">{ 1, 0, 1, 1, 0, 1, 1, 0},</span></div>
<div style="position:absolute;left:220.49px;top:410.39px" class="cls_031"><span class="cls_031">// 5</span></div>
<div style="position:absolute;left:64.06px;top:422.38px" class="cls_031"><span class="cls_031">{ 1, 0, 1, 1, 1, 1, 1, 0},</span></div>
<div style="position:absolute;left:220.49px;top:422.38px" class="cls_031"><span class="cls_031">// 6</span></div>
<div style="position:absolute;left:64.06px;top:434.37px" class="cls_031"><span class="cls_031">{ 1, 1, 1, 0, 0, 0, 0, 0},</span></div>
<div style="position:absolute;left:220.49px;top:434.37px" class="cls_031"><span class="cls_031">// 7</span></div>
<div style="position:absolute;left:64.06px;top:446.36px" class="cls_031"><span class="cls_031">{ 1, 1, 1, 1, 1, 1, 1, 0},</span></div>
<div style="position:absolute;left:220.49px;top:446.36px" class="cls_031"><span class="cls_031">// 8</span></div>
<div style="position:absolute;left:64.06px;top:458.35px" class="cls_031"><span class="cls_031">{ 1, 1, 1, 1, 0, 1, 1, 0}</span></div>
<div style="position:absolute;left:215.10px;top:458.35px" class="cls_031"><span class="cls_031">// 9</span></div>
<div style="position:absolute;left:52.20px;top:470.33px" class="cls_031"><span class="cls_031">};</span></div>
<div style="position:absolute;left:52.20px;top:494.31px" class="cls_031"><span class="cls_031">void setup()</span></div>
<div style="position:absolute;left:52.20px;top:506.30px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:64.06px;top:518.29px" class="cls_031"><span class="cls_031">for (int i=0; i &lt; 8; i++)</span></div>
<div style="position:absolute;left:64.06px;top:530.28px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.93px;top:542.26px" class="cls_031"><span class="cls_031">pinMode(segmentPins[i], OUTPUT);</span></div>
<div style="position:absolute;left:64.06px;top:554.25px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:64.06px;top:566.24px" class="cls_031"><span class="cls_031">for (int i=0; i &lt; 4; i++)</span></div>
<div style="position:absolute;left:64.06px;top:578.23px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.93px;top:590.22px" class="cls_031"><span class="cls_031">pinMode(displayPins[i], OUTPUT);</span></div>
<div style="position:absolute;left:64.06px;top:602.20px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:64.06px;top:614.19px" class="cls_031"><span class="cls_031">pinMode(buzzerPin, OUTPUT);</span></div>
<div style="position:absolute;left:64.06px;top:626.18px" class="cls_031"><span class="cls_031">pinMode(buttonPin, INPUT);</span></div>
<div style="position:absolute;left:64.06px;top:638.17px" class="cls_031"><span class="cls_031">pinMode(aPin, INPUT);</span></div>
<div style="position:absolute;left:64.06px;top:650.15px" class="cls_031"><span class="cls_031">pinMode(bPin, INPUT);</span></div>
<div style="position:absolute;left:64.06px;top:662.14px" class="cls_031"><span class="cls_031">selectedTimeIndex = EEPROM.read(0);</span></div>
<div style="position:absolute;left:64.06px;top:674.13px" class="cls_031"><span class="cls_031">timerMinute = times[selectedTimeIndex] / 100;</span></div>
<div style="position:absolute;left:64.06px;top:686.12px" class="cls_031"><span class="cls_031">timerSecond = times[selectedTimeIndex] % 100;</span></div>
<div style="position:absolute;left:464.31px;top:701.10px" class="cls_037"><span class="cls_037">(continued)</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:141960px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background183.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">166</span></div>
<div style="position:absolute;left:82.12px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:43.11px;top:76.46px" class="cls_032"><span class="cls_032">LISTING PROJECT 30 (continued)</span></div>
<div style="position:absolute;left:52.10px;top:98.70px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.10px;top:122.68px" class="cls_031"><span class="cls_031">void loop()</span></div>
<div style="position:absolute;left:52.10px;top:134.67px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:63.97px;top:146.66px" class="cls_031"><span class="cls_031">if (digitalRead(buttonPin))</span></div>
<div style="position:absolute;left:63.97px;top:158.64px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.83px;top:170.63px" class="cls_031"><span class="cls_031">stopped = ! stopped;</span></div>
<div style="position:absolute;left:75.83px;top:182.62px" class="cls_031"><span class="cls_031">digitalWrite(buzzerPin, LOW);</span></div>
<div style="position:absolute;left:75.83px;top:194.61px" class="cls_031"><span class="cls_031">while (digitalRead(buttonPin)) {};</span></div>
<div style="position:absolute;left:75.83px;top:206.60px" class="cls_031"><span class="cls_031">EEPROM.write(0, selectedTimeIndex);</span></div>
<div style="position:absolute;left:63.97px;top:218.58px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:63.97px;top:230.57px" class="cls_031"><span class="cls_031">updateDisplay();</span></div>
<div style="position:absolute;left:52.10px;top:242.56px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.10px;top:266.54px" class="cls_031"><span class="cls_031">void updateDisplay() // mmss</span></div>
<div style="position:absolute;left:52.10px;top:278.53px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:63.97px;top:290.51px" class="cls_031"><span class="cls_031">int minsecs = timerMinute * 100 + timerSecond;</span></div>
<div style="position:absolute;left:63.97px;top:302.50px" class="cls_031"><span class="cls_031">int v = minsecs;</span></div>
<div style="position:absolute;left:63.97px;top:314.49px" class="cls_031"><span class="cls_031">for (int i = 0; i &lt; 4; i ++)</span></div>
<div style="position:absolute;left:63.97px;top:326.48px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:87.70px;top:338.47px" class="cls_031"><span class="cls_031">int digit = v % 10;</span></div>
<div style="position:absolute;left:87.70px;top:350.45px" class="cls_031"><span class="cls_031">setDigit(i);</span></div>
<div style="position:absolute;left:87.70px;top:362.44px" class="cls_031"><span class="cls_031">setSegments(digit);</span></div>
<div style="position:absolute;left:87.70px;top:374.43px" class="cls_031"><span class="cls_031">v = v / 10;</span></div>
<div style="position:absolute;left:87.70px;top:386.42px" class="cls_031"><span class="cls_031">process();</span></div>
<div style="position:absolute;left:63.97px;top:398.40px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:63.97px;top:410.39px" class="cls_031"><span class="cls_031">setDigit(5); // all digits off to prevent uneven illumination</span></div>
<div style="position:absolute;left:52.10px;top:422.38px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.10px;top:446.36px" class="cls_031"><span class="cls_031">void process()</span></div>
<div style="position:absolute;left:52.10px;top:458.35px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:63.97px;top:470.33px" class="cls_031"><span class="cls_031">for (int i = 0; i &lt; 100; i++) // tweak this number between flicker and blur</span></div>
<div style="position:absolute;left:63.97px;top:482.32px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.83px;top:494.31px" class="cls_031"><span class="cls_031">int change = getEncoderTurn();</span></div>
<div style="position:absolute;left:75.83px;top:506.30px" class="cls_031"><span class="cls_031">if (stopped)</span></div>
<div style="position:absolute;left:75.83px;top:518.29px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:87.70px;top:530.27px" class="cls_031"><span class="cls_031">changeSetTime(change);</span></div>
<div style="position:absolute;left:75.83px;top:542.26px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:75.83px;top:554.25px" class="cls_031"><span class="cls_031">else</span></div>
<div style="position:absolute;left:75.83px;top:566.24px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:87.70px;top:578.23px" class="cls_031"><span class="cls_031">updateCountingTime();</span></div>
<div style="position:absolute;left:75.83px;top:590.21px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:63.97px;top:602.20px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:63.97px;top:614.19px" class="cls_031"><span class="cls_031">if (timerMinute == 0 && timerSecond == 0)</span></div>
<div style="position:absolute;left:63.97px;top:626.18px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.83px;top:638.17px" class="cls_031"><span class="cls_031">digitalWrite(buzzerPin, HIGH);</span></div>
<div style="position:absolute;left:63.97px;top:650.15px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.10px;top:674.13px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.10px;top:698.11px" class="cls_031"><span class="cls_031">void changeSetTime(int change)</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:142740px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background184.jpg" width=552 height=770></div>
<div style="position:absolute;left:274.83px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 9</span></div>
<div style="position:absolute;left:338.65px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    Miscellaneous Projects</span></div>
<div style="position:absolute;left:498.74px;top:34.50px" class="cls_017"><span class="cls_017">167</span></div>
<div style="position:absolute;left:43.21px;top:76.46px" class="cls_032"><span class="cls_032">LISTING PROJECT 30 (continued)</span></div>
<div style="position:absolute;left:52.20px;top:98.70px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:70.00px;top:110.69px" class="cls_031"><span class="cls_031">selectedTimeIndex += change;</span></div>
<div style="position:absolute;left:70.00px;top:122.68px" class="cls_031"><span class="cls_031">if (selectedTimeIndex &lt; 0)</span></div>
<div style="position:absolute;left:70.00px;top:134.67px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:81.86px;top:146.66px" class="cls_031"><span class="cls_031">selectedTimeIndex = numTimes;</span></div>
<div style="position:absolute;left:70.00px;top:158.64px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:70.00px;top:170.63px" class="cls_031"><span class="cls_031">else if (selectedTimeIndex > numTimes)</span></div>
<div style="position:absolute;left:70.00px;top:182.62px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:81.86px;top:194.61px" class="cls_031"><span class="cls_031">selectedTimeIndex = 0;</span></div>
<div style="position:absolute;left:70.00px;top:206.60px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:70.00px;top:218.58px" class="cls_031"><span class="cls_031">timerMinute = times[selectedTimeIndex] / 100;</span></div>
<div style="position:absolute;left:70.00px;top:230.57px" class="cls_031"><span class="cls_031">timerSecond = times[selectedTimeIndex] % 100;</span></div>
<div style="position:absolute;left:52.20px;top:242.56px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.20px;top:266.54px" class="cls_031"><span class="cls_031">void updateCountingTime()</span></div>
<div style="position:absolute;left:52.20px;top:278.52px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:70.00px;top:290.51px" class="cls_031"><span class="cls_031">static unsigned long lastMillis;</span></div>
<div style="position:absolute;left:70.00px;top:302.50px" class="cls_031"><span class="cls_031">unsigned long m = millis();</span></div>
<div style="position:absolute;left:70.00px;top:314.49px" class="cls_031"><span class="cls_031">if (m > (lastMillis + 1000) && (timerSecond > 0 || timerMinute > 0))</span></div>
<div style="position:absolute;left:70.00px;top:326.48px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.93px;top:338.46px" class="cls_031"><span class="cls_031">digitalWrite(buzzerPin, HIGH);</span></div>
<div style="position:absolute;left:75.93px;top:350.45px" class="cls_031"><span class="cls_031">delay(10);</span></div>
<div style="position:absolute;left:75.93px;top:362.44px" class="cls_031"><span class="cls_031">digitalWrite(buzzerPin, LOW);</span></div>
<div style="position:absolute;left:75.93px;top:386.42px" class="cls_031"><span class="cls_031">if (timerSecond == 0)</span></div>
<div style="position:absolute;left:75.93px;top:398.40px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:93.73px;top:410.39px" class="cls_031"><span class="cls_031">timerSecond = 59;</span></div>
<div style="position:absolute;left:93.73px;top:422.38px" class="cls_031"><span class="cls_031">timerMinute —;</span></div>
<div style="position:absolute;left:75.93px;top:434.37px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:75.93px;top:446.36px" class="cls_031"><span class="cls_031">else</span></div>
<div style="position:absolute;left:75.93px;top:458.34px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:93.73px;top:470.33px" class="cls_031"><span class="cls_031">timerSecond —;</span></div>
<div style="position:absolute;left:75.93px;top:482.32px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:75.93px;top:494.31px" class="cls_031"><span class="cls_031">lastMillis = m;</span></div>
<div style="position:absolute;left:64.06px;top:506.30px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.20px;top:518.28px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.20px;top:542.26px" class="cls_031"><span class="cls_031">void setDigit(int digit)</span></div>
<div style="position:absolute;left:52.20px;top:554.25px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:64.06px;top:566.24px" class="cls_031"><span class="cls_031">for (int i = 0; i &lt; 4; i++)</span></div>
<div style="position:absolute;left:64.06px;top:578.23px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.93px;top:590.21px" class="cls_031"><span class="cls_031">digitalWrite(displayPins[i], (digit != i));</span></div>
<div style="position:absolute;left:64.06px;top:602.20px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.20px;top:614.19px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.20px;top:638.17px" class="cls_031"><span class="cls_031">void setSegments(int n)</span></div>
<div style="position:absolute;left:52.20px;top:650.15px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:64.06px;top:662.14px" class="cls_031"><span class="cls_031">for (int i = 0; i &lt; 8; i++)</span></div>
<div style="position:absolute;left:64.06px;top:674.13px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.93px;top:686.12px" class="cls_031"><span class="cls_031">digitalWrite(segmentPins[i], ! digits[n][i]);</span></div>
<div style="position:absolute;left:464.31px;top:701.10px" class="cls_037"><span class="cls_037">(continued)</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:143520px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background185.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">168</span></div>
<div style="position:absolute;left:81.80px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:43.11px;top:76.46px" class="cls_032"><span class="cls_032">LISTING PROJECT 30 (continued)</span></div>
<div style="position:absolute;left:63.97px;top:98.70px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.10px;top:110.69px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:52.10px;top:146.66px" class="cls_031"><span class="cls_031">int getEncoderTurn()</span></div>
<div style="position:absolute;left:52.10px;top:158.64px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:63.97px;top:170.63px" class="cls_031"><span class="cls_031">// return -1, 0, or +1</span></div>
<div style="position:absolute;left:63.97px;top:182.62px" class="cls_031"><span class="cls_031">static int oldA = LOW;</span></div>
<div style="position:absolute;left:63.97px;top:194.61px" class="cls_031"><span class="cls_031">static int oldB = LOW;</span></div>
<div style="position:absolute;left:63.97px;top:206.60px" class="cls_031"><span class="cls_031">int result = 0;</span></div>
<div style="position:absolute;left:63.97px;top:218.58px" class="cls_031"><span class="cls_031">int newA = digitalRead(aPin);</span></div>
<div style="position:absolute;left:63.97px;top:230.57px" class="cls_031"><span class="cls_031">int newB = digitalRead(bPin);</span></div>
<div style="position:absolute;left:63.97px;top:242.56px" class="cls_031"><span class="cls_031">if (newA != oldA || newB != oldB)</span></div>
<div style="position:absolute;left:63.97px;top:254.55px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:75.83px;top:266.54px" class="cls_031"><span class="cls_031">// something has changed</span></div>
<div style="position:absolute;left:75.83px;top:278.52px" class="cls_031"><span class="cls_031">if (oldA == LOW && newA == HIGH)</span></div>
<div style="position:absolute;left:75.83px;top:290.51px" class="cls_031"><span class="cls_031">{</span></div>
<div style="position:absolute;left:87.70px;top:302.50px" class="cls_031"><span class="cls_031">result = -(oldB * 2 - 1);</span></div>
<div style="position:absolute;left:75.83px;top:314.49px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:63.97px;top:326.48px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:63.97px;top:338.46px" class="cls_031"><span class="cls_031">oldA = newA;</span></div>
<div style="position:absolute;left:63.97px;top:350.45px" class="cls_031"><span class="cls_031">oldB = newB;</span></div>
<div style="position:absolute;left:63.97px;top:362.44px" class="cls_031"><span class="cls_031">return result;</span></div>
<div style="position:absolute;left:52.10px;top:374.43px" class="cls_031"><span class="cls_031">}</span></div>
<div style="position:absolute;left:48.11px;top:412.23px" class="cls_011"><span class="cls_011">The timer will always be in one of two states. It</span></div>
<div style="position:absolute;left:287.87px;top:413.13px" class="cls_005"><span class="cls_005">Putting It All Together</span></div>
<div style="position:absolute;left:36.12px;top:427.21px" class="cls_011"><span class="cls_011">will either be stopped, in which case, turning the</span></div>
<div style="position:absolute;left:287.87px;top:436.61px" class="cls_011"><span class="cls_011">Load the completed sketch for Project 30 from</span></div>
<div style="position:absolute;left:36.12px;top:442.20px" class="cls_011"><span class="cls_011">rotary encoder will change the time, or it can be</span></div>
<div style="position:absolute;left:287.87px;top:451.60px" class="cls_011"><span class="cls_011">your Arduino Sketchbook and download it to the</span></div>
<div style="position:absolute;left:36.12px;top:457.18px" class="cls_011"><span class="cls_011">running, in which case it will be counting down.</span></div>
<div style="position:absolute;left:287.87px;top:466.58px" class="cls_011"><span class="cls_011">board (see Chapter 1).</span></div>
<div style="position:absolute;left:36.12px;top:472.17px" class="cls_011"><span class="cls_011">Pressing the button on the rotary encoder will</span></div>
<div style="position:absolute;left:36.12px;top:487.15px" class="cls_011"><span class="cls_011">toggle between the two states.</span></div>
<div style="position:absolute;left:48.11px;top:506.13px" class="cls_011"><span class="cls_011">Rather than make the rotary encoder change the</span></div>
<div style="position:absolute;left:287.87px;top:507.04px" class="cls_021"><span class="cls_021">Summary</span></div>
<div style="position:absolute;left:36.12px;top:521.12px" class="cls_011"><span class="cls_011">time one second per rotation step, we have an</span></div>
<div style="position:absolute;left:287.87px;top:533.52px" class="cls_011"><span class="cls_011">This is the final chapter containing projects. The</span></div>
<div style="position:absolute;left:36.12px;top:536.10px" class="cls_011"><span class="cls_011">array of standard times that fit with the egg-</span></div>
<div style="position:absolute;left:287.87px;top:548.50px" class="cls_011"><span class="cls_011">author hopes that in trying the projects in this</span></div>
<div style="position:absolute;left:36.12px;top:551.09px" class="cls_011"><span class="cls_011">cooking habits of the Evil Genius. This array can</span></div>
<div style="position:absolute;left:287.87px;top:563.49px" class="cls_011"><span class="cls_011">book, the Evil Genius’ appetite for experimentation</span></div>
<div style="position:absolute;left:36.12px;top:566.07px" class="cls_011"><span class="cls_011">be edited and extended, but if you change its</span></div>
<div style="position:absolute;left:287.87px;top:578.47px" class="cls_011"><span class="cls_011">and design has been stirred and they will have the</span></div>
<div style="position:absolute;left:36.12px;top:581.06px" class="cls_011"><span class="cls_011">length, you must alter the numTimes variable</span></div>
<div style="position:absolute;left:287.87px;top:593.46px" class="cls_011"><span class="cls_011">urge to design some projects of their own.</span></div>
<div style="position:absolute;left:36.12px;top:596.04px" class="cls_011"><span class="cls_011">accordingly.</span></div>
<div style="position:absolute;left:299.86px;top:612.44px" class="cls_011"><span class="cls_011">The next chapter sets out to help you in the</span></div>
<div style="position:absolute;left:48.11px;top:615.03px" class="cls_011"><span class="cls_011">The EEPROM library is used to store the last</span></div>
<div style="position:absolute;left:36.12px;top:630.01px" class="cls_011"><span class="cls_011">used time so that each time the project is powered</span></div>
<div style="position:absolute;left:287.87px;top:627.42px" class="cls_011"><span class="cls_011">process of developing your own projects.</span></div>
<div style="position:absolute;left:36.12px;top:645.00px" class="cls_011"><span class="cls_011">up, it will remember the last time used.</span></div>
<div style="position:absolute;left:48.11px;top:663.98px" class="cls_011"><span class="cls_011">The project makes a little chirp as each second</span></div>
<div style="position:absolute;left:36.12px;top:678.96px" class="cls_011"><span class="cls_011">ticks by. You may wish to disable this. You will</span></div>
<div style="position:absolute;left:36.12px;top:693.95px" class="cls_011"><span class="cls_011">find the relevant lines of code to comment out or</span></div>
<div style="position:absolute;left:36.12px;top:708.93px" class="cls_011"><span class="cls_011">delete this in the updateCountTime function.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:144300px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background186.jpg" width=552 height=770></div>
<div style="position:absolute;left:188.74px;top:54.87px" class="cls_024"><span class="cls_024">C H A P T E R</span></div>
<div style="position:absolute;left:336.58px;top:54.87px" class="cls_024"><span class="cls_024">10</span></div>
<div style="position:absolute;left:180.85px;top:103.55px" class="cls_023"><span class="cls_023">Your Projects</span></div>
<div style="position:absolute;left:36.21px;top:223.00px" class="cls_016"><span class="cls_016">S</span><span class="cls_019">O</span><span class="cls_016">,</span><span class="cls_019"> YOU HAVE TRIED</span><span class="cls_011"> your hand at some of the</span></div>
<div style="position:absolute;left:287.97px;top:222.99px" class="cls_011"><span class="cls_011">projects in this book, it does not normally matter</span></div>
<div style="position:absolute;left:36.21px;top:237.98px" class="cls_011"><span class="cls_011">author’s projects and hopefully learned something</span></div>
<div style="position:absolute;left:287.97px;top:237.98px" class="cls_011"><span class="cls_011">how the connection is made. The arrangement of</span></div>
<div style="position:absolute;left:36.21px;top:252.97px" class="cls_011"><span class="cls_011">along the way. Now it’s time to start developing</span></div>
<div style="position:absolute;left:287.97px;top:252.96px" class="cls_011"><span class="cls_011">the actual wires does not matter as long as all the</span></div>
<div style="position:absolute;left:36.21px;top:267.95px" class="cls_011"><span class="cls_011">your own projects using what you have learned.</span></div>
<div style="position:absolute;left:287.97px;top:267.95px" class="cls_011"><span class="cls_011">points are connected.</span></div>
<div style="position:absolute;left:36.21px;top:282.94px" class="cls_011"><span class="cls_011">You will be able to borrow bits of design from the</span></div>
<div style="position:absolute;left:299.96px;top:286.93px" class="cls_011"><span class="cls_011">Schematic diagrams have a few conventions that</span></div>
<div style="position:absolute;left:36.21px;top:297.92px" class="cls_011"><span class="cls_011">projects in this book, but to help you along, this</span></div>
<div style="position:absolute;left:287.97px;top:301.92px" class="cls_011"><span class="cls_011">are worth pointing out. For instance, it is common</span></div>
<div style="position:absolute;left:36.21px;top:312.91px" class="cls_011"><span class="cls_011">chapter gets you started with some design and</span></div>
<div style="position:absolute;left:287.97px;top:316.90px" class="cls_011"><span class="cls_011">to place GND lines near the bottom of the diagram</span></div>
<div style="position:absolute;left:36.21px;top:327.89px" class="cls_011"><span class="cls_011">construction techniques.</span></div>
<div style="position:absolute;left:287.97px;top:331.89px" class="cls_011"><span class="cls_011">and higher voltages near the top of the diagram.</span></div>
<div style="position:absolute;left:287.97px;top:346.87px" class="cls_011"><span class="cls_011">This allows someone reading the schematic to</span></div>
<div style="position:absolute;left:287.97px;top:361.86px" class="cls_011"><span class="cls_011">visualize the flow of charge through the system</span></div>
<div style="position:absolute;left:36.21px;top:368.36px" class="cls_021"><span class="cls_021">Circuits</span></div>
<div style="position:absolute;left:287.97px;top:376.84px" class="cls_011"><span class="cls_011">from higher voltages to lower voltages.</span></div>
<div style="position:absolute;left:36.21px;top:394.83px" class="cls_011"><span class="cls_011">The author likes to start a project with a vague</span></div>
<div style="position:absolute;left:299.96px;top:395.82px" class="cls_011"><span class="cls_011">Another convention in schematic diagrams is to</span></div>
<div style="position:absolute;left:36.21px;top:409.81px" class="cls_011"><span class="cls_011">notion of what he wants to achieve and then start</span></div>
<div style="position:absolute;left:287.97px;top:410.81px" class="cls_011"><span class="cls_011">use the little bar symbol to indicate a connection to</span></div>
<div style="position:absolute;left:36.21px;top:424.80px" class="cls_011"><span class="cls_011">designing from the perspective of the electronics.</span></div>
<div style="position:absolute;left:287.97px;top:425.79px" class="cls_011"><span class="cls_011">GND where there is not enough room to draw all</span></div>
<div style="position:absolute;left:36.21px;top:439.78px" class="cls_011"><span class="cls_011">The software usually comes afterwards.</span></div>
<div style="position:absolute;left:287.97px;top:440.78px" class="cls_011"><span class="cls_011">the connections.</span></div>
<div style="position:absolute;left:48.20px;top:458.77px" class="cls_011"><span class="cls_011">The way to express an electronic circuit is to</span></div>
<div style="position:absolute;left:299.96px;top:459.76px" class="cls_011"><span class="cls_011">Figure 10-1, originally from Project 5, shows</span></div>
<div style="position:absolute;left:36.21px;top:473.75px" class="cls_011"><span class="cls_011">use a schematic diagram. The author has included</span></div>
<div style="position:absolute;left:287.97px;top:474.75px" class="cls_011"><span class="cls_011">three resistors, all with one lead connected to the</span></div>
<div style="position:absolute;left:36.21px;top:488.74px" class="cls_011"><span class="cls_011">schematic diagrams for all the projects in this</span></div>
<div style="position:absolute;left:287.97px;top:489.73px" class="cls_011"><span class="cls_011">GND connection of the Arduino board. In the</span></div>
<div style="position:absolute;left:36.21px;top:503.72px" class="cls_011"><span class="cls_011">book, so even if you are not very familiar with</span></div>
<div style="position:absolute;left:287.97px;top:504.72px" class="cls_011"><span class="cls_011">corresponding breadboard layout (Figure 10-2),</span></div>
<div style="position:absolute;left:36.21px;top:518.71px" class="cls_011"><span class="cls_011">electronics, you should now have seen enough</span></div>
<div style="position:absolute;left:287.97px;top:519.70px" class="cls_011"><span class="cls_011">you can see that the connections to GND go</span></div>
<div style="position:absolute;left:36.21px;top:533.69px" class="cls_011"><span class="cls_011">schematics to understand roughly how they relate</span></div>
<div style="position:absolute;left:287.97px;top:534.69px" class="cls_011"><span class="cls_011">through three wires and three strips of breadboard</span></div>
<div style="position:absolute;left:36.21px;top:548.68px" class="cls_011"><span class="cls_011">to the breadboard layout diagrams also included.</span></div>
<div style="position:absolute;left:287.97px;top:549.67px" class="cls_011"><span class="cls_011">connector block.</span></div>
<div style="position:absolute;left:299.96px;top:568.65px" class="cls_011"><span class="cls_011">There are many different tools for drawing</span></div>
<div style="position:absolute;left:36.21px;top:581.65px" class="cls_005"><span class="cls_005">Schematic Diagrams</span></div>
<div style="position:absolute;left:287.97px;top:583.64px" class="cls_011"><span class="cls_011">schematic diagrams. Some of them are integrated-</span></div>
<div style="position:absolute;left:287.97px;top:598.62px" class="cls_011"><span class="cls_011">electronics CAD (computer-aided design) products</span></div>
<div style="position:absolute;left:36.21px;top:605.12px" class="cls_011"><span class="cls_011">In a schematic diagram, connections between</span></div>
<div style="position:absolute;left:287.97px;top:613.61px" class="cls_011"><span class="cls_011">that will go on to lay out the tracks on a printed</span></div>
<div style="position:absolute;left:36.21px;top:620.11px" class="cls_011"><span class="cls_011">components are shown as lines. These connections</span></div>
<div style="position:absolute;left:287.97px;top:628.59px" class="cls_011"><span class="cls_011">circuit board for you. By and large, these create</span></div>
<div style="position:absolute;left:36.21px;top:635.09px" class="cls_011"><span class="cls_011">will use the connective strips beneath the surface</span></div>
<div style="position:absolute;left:287.97px;top:643.58px" class="cls_011"><span class="cls_011">fairly ugly-looking diagrams, and the author</span></div>
<div style="position:absolute;left:36.21px;top:650.08px" class="cls_011"><span class="cls_011">of the breadboard and the wires connecting one</span></div>
<div style="position:absolute;left:287.97px;top:658.56px" class="cls_011"><span class="cls_011">prefers to use pencil and paper or general-purpose</span></div>
<div style="position:absolute;left:36.21px;top:665.06px" class="cls_011"><span class="cls_011">breadboard strip to another. For the kinds of</span></div>
<div style="position:absolute;left:287.97px;top:673.55px" class="cls_011"><span class="cls_011">drawing software. All the diagrams for this book</span></div>
<div style="position:absolute;left:498.31px;top:718.82px" class="cls_017"><span class="cls_017">169</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:145080px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background187.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">170</span></div>
<div style="position:absolute;left:82.37px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:42.11px;top:388.94px" class="cls_025"><span class="cls_025">Figure 10-1</span></div>
<div style="position:absolute;left:102.05px;top:389.93px" class="cls_026"><span class="cls_026">A schematic diagram example.</span></div>
<div style="position:absolute;left:42.11px;top:636.73px" class="cls_025"><span class="cls_025">Figure 10-2</span></div>
<div style="position:absolute;left:102.05px;top:637.72px" class="cls_026"><span class="cls_026">Example breadboard layout.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:145860px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background188.jpg" width=552 height=770></div>
<div style="position:absolute;left:318.69px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 10</span></div>
<div style="position:absolute;left:386.77px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    Your Projects</span></div>
<div style="position:absolute;left:501.13px;top:34.50px" class="cls_017"><span class="cls_017">171</span></div>
<div style="position:absolute;left:36.21px;top:69.16px" class="cls_011"><span class="cls_011">were created using Omni Group’s excellent but</span></div>
<div style="position:absolute;left:287.97px;top:69.47px" class="cls_021"><span class="cls_021">Components</span></div>
<div style="position:absolute;left:36.21px;top:84.15px" class="cls_011"><span class="cls_011">strangely named OmniGraffle software, which is</span></div>
<div style="position:absolute;left:287.97px;top:95.94px" class="cls_011"><span class="cls_011">In this section we look at the practical aspects of</span></div>
<div style="position:absolute;left:36.21px;top:99.13px" class="cls_011"><span class="cls_011">only available for Apple Macs. OmniGraffle</span></div>
<div style="position:absolute;left:287.97px;top:110.93px" class="cls_011"><span class="cls_011">components: what they do and how to identify,</span></div>
<div style="position:absolute;left:36.21px;top:114.12px" class="cls_011"><span class="cls_011">templates for drawing breadboard layouts and</span></div>
<div style="position:absolute;left:287.97px;top:125.91px" class="cls_011"><span class="cls_011">choose, and use them.</span></div>
<div style="position:absolute;left:36.21px;top:129.10px" class="cls_011"><span class="cls_011">schematic diagrams are available for download</span></div>
<div style="position:absolute;left:36.21px;top:144.09px" class="cls_011"><span class="cls_011">from </span><A HREF="http://www.arduinoevilgenius.com./">www.arduinoevilgenius.com.</A> </div>
<div style="position:absolute;left:287.97px;top:158.88px" class="cls_005"><span class="cls_005">Datasheets</span></div>
<div style="position:absolute;left:36.21px;top:177.06px" class="cls_005"><span class="cls_005">Component Symbols</span></div>
<div style="position:absolute;left:287.97px;top:182.36px" class="cls_011"><span class="cls_011">All component manufacturers produce datasheets</span></div>
<div style="position:absolute;left:287.97px;top:197.34px" class="cls_011"><span class="cls_011">for their products. These act as a specification for</span></div>
<div style="position:absolute;left:36.21px;top:200.53px" class="cls_011"><span class="cls_011">Figure 10-3 shows the circuit symbols for the</span></div>
<div style="position:absolute;left:287.97px;top:212.33px" class="cls_011"><span class="cls_011">how the component will behave. They are not of</span></div>
<div style="position:absolute;left:36.21px;top:215.52px" class="cls_011"><span class="cls_011">electronic components that we have used in this</span></div>
<div style="position:absolute;left:287.97px;top:227.31px" class="cls_011"><span class="cls_011">much interest for resistors and capacitors, but are</span></div>
<div style="position:absolute;left:36.21px;top:230.50px" class="cls_011"><span class="cls_011">book.</span></div>
<div style="position:absolute;left:287.97px;top:242.30px" class="cls_011"><span class="cls_011">much more useful for semiconductors and</span></div>
<div style="position:absolute;left:48.20px;top:249.48px" class="cls_011"><span class="cls_011">There are various different standards for circuit</span></div>
<div style="position:absolute;left:287.97px;top:257.28px" class="cls_011"><span class="cls_011">transistors, but especially integrated circuits. They</span></div>
<div style="position:absolute;left:36.21px;top:264.47px" class="cls_011"><span class="cls_011">diagrams, but the basic symbols are all</span></div>
<div style="position:absolute;left:287.97px;top:272.27px" class="cls_011"><span class="cls_011">will often include application notes that include</span></div>
<div style="position:absolute;left:36.21px;top:279.45px" class="cls_011"><span class="cls_011">recognizable between standards. The set used in</span></div>
<div style="position:absolute;left:287.97px;top:287.25px" class="cls_011"><span class="cls_011">example schematics for using the components.</span></div>
<div style="position:absolute;left:36.21px;top:294.44px" class="cls_011"><span class="cls_011">this book does not closely follow any particular</span></div>
<div style="position:absolute;left:299.96px;top:306.24px" class="cls_011"><span class="cls_011">These are all available on the Internet. However,</span></div>
<div style="position:absolute;left:36.21px;top:309.42px" class="cls_011"><span class="cls_011">standard. I have just chosen what I consider to be</span></div>
<div style="position:absolute;left:287.97px;top:321.22px" class="cls_011"><span class="cls_011">if you search for “BC158 datasheet” in your</span></div>
<div style="position:absolute;left:36.21px;top:324.41px" class="cls_011"><span class="cls_011">the most easy-to-read approach to the diagrams.</span></div>
<div style="position:absolute;left:287.97px;top:336.21px" class="cls_011"><span class="cls_011">favorite search engine, you will find many of the</span></div>
<div style="position:absolute;left:287.97px;top:351.19px" class="cls_011"><span class="cls_011">top hits are for organizations cashing in on the fact</span></div>
<div style="position:absolute;left:287.97px;top:366.18px" class="cls_011"><span class="cls_011">that people search for datasheets a lot. These</span></div>
<div style="position:absolute;left:287.97px;top:381.16px" class="cls_011"><span class="cls_011">organizations surround the datasheets with</span></div>
<div style="position:absolute;left:287.97px;top:396.15px" class="cls_011"><span class="cls_011">pointless advertising and pretend that they add</span></div>
<div style="position:absolute;left:287.97px;top:411.13px" class="cls_011"><span class="cls_011">some value to looking up datasheets by</span></div>
<div style="position:absolute;left:287.97px;top:426.12px" class="cls_011"><span class="cls_011">subscribing to their service. These websites usually</span></div>
<div style="position:absolute;left:287.97px;top:441.10px" class="cls_011"><span class="cls_011">just lead to a frustration of clicking and should be</span></div>
<div style="position:absolute;left:287.97px;top:456.09px" class="cls_011"><span class="cls_011">ignored in favor of any manufacturer’s websites.</span></div>
<div style="position:absolute;left:287.97px;top:471.07px" class="cls_011"><span class="cls_011">So scan through the search results until you see a</span></div>
<div style="position:absolute;left:287.97px;top:486.06px" class="cls_011"><span class="cls_011">URL like </span><A HREF="http://www.fairchild.com./">www.fairchild.com.</A> </div>
<div style="position:absolute;left:299.96px;top:505.04px" class="cls_011"><span class="cls_011">Alternatively, many of the component retail</span></div>
<div style="position:absolute;left:287.97px;top:520.02px" class="cls_011"><span class="cls_011">suppliers such as Farnell provide free-of-charge</span></div>
<div style="position:absolute;left:287.97px;top:535.01px" class="cls_011"><span class="cls_011">and nonsense-free datasheets for practically every</span></div>
<div style="position:absolute;left:287.97px;top:549.99px" class="cls_011"><span class="cls_011">component they sell, which is to be much</span></div>
<div style="position:absolute;left:287.97px;top:564.98px" class="cls_011"><span class="cls_011">applauded. It also means that you can compare</span></div>
<div style="position:absolute;left:287.97px;top:579.96px" class="cls_011"><span class="cls_011">prices and buy the components while you are</span></div>
<div style="position:absolute;left:287.97px;top:594.95px" class="cls_011"><span class="cls_011">finding out about them.</span></div>
<div style="position:absolute;left:42.21px;top:659.68px" class="cls_025"><span class="cls_025">Figure 10-3</span></div>
<div style="position:absolute;left:102.15px;top:660.66px" class="cls_026"><span class="cls_026">Circuit symbols.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:146640px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background189.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">172</span></div>
<div style="position:absolute;left:81.30px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:36.12px;top:70.07px" class="cls_005"><span class="cls_005">Resistors</span></div>
<div style="position:absolute;left:287.87px;top:69.16px" class="cls_011"><span class="cls_011">the resistor value. Since none of the projects in this</span></div>
<div style="position:absolute;left:287.87px;top:84.14px" class="cls_011"><span class="cls_011">book require accurate resistors, there is no need to</span></div>
<div style="position:absolute;left:36.12px;top:93.55px" class="cls_011"><span class="cls_011">Resistors are the most common and cheap</span></div>
<div style="position:absolute;left:287.87px;top:99.13px" class="cls_011"><span class="cls_011">select your resistors on this basis.</span></div>
<div style="position:absolute;left:36.12px;top:108.53px" class="cls_011"><span class="cls_011">electronic components around. Their most</span></div>
<div style="position:absolute;left:299.86px;top:118.11px" class="cls_011"><span class="cls_011">Figure 10-4 shows the arrangement of the</span></div>
<div style="position:absolute;left:36.12px;top:123.52px" class="cls_011"><span class="cls_011">common uses are</span></div>
<div style="position:absolute;left:287.87px;top:133.09px" class="cls_011"><span class="cls_011">colored bands. The resistor value uses just the</span></div>
<div style="position:absolute;left:36.12px;top:142.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_011">   To prevent excessive current flowing (see any</span></div>
<div style="position:absolute;left:287.87px;top:148.08px" class="cls_011"><span class="cls_011">three bands. The first band is the first digit, the</span></div>
<div style="position:absolute;left:53.10px;top:157.48px" class="cls_011"><span class="cls_011">projects that use an LED)</span></div>
<div style="position:absolute;left:287.87px;top:163.06px" class="cls_011"><span class="cls_011">second the second digit, and the third “multiplier”</span></div>
<div style="position:absolute;left:36.12px;top:176.47px" class="cls_022"><span class="cls_022">■</span><span class="cls_011">   In a pair or as a variable resistor to divide a</span></div>
<div style="position:absolute;left:287.87px;top:178.05px" class="cls_011"><span class="cls_011">band is how many zeros to put after the first two</span></div>
<div style="position:absolute;left:53.10px;top:191.45px" class="cls_011"><span class="cls_011">voltage</span></div>
<div style="position:absolute;left:287.87px;top:193.03px" class="cls_011"><span class="cls_011">digits.</span></div>
<div style="position:absolute;left:48.11px;top:210.43px" class="cls_011"><span class="cls_011">Chapter 2 explained Ohm’s Law and used it to</span></div>
<div style="position:absolute;left:299.86px;top:212.02px" class="cls_011"><span class="cls_011">So a 270    resistor will have first digit 2 (red),</span></div>
<div style="position:absolute;left:36.12px;top:225.42px" class="cls_011"><span class="cls_011">decide on a value of series resistor for an LED.</span></div>
<div style="position:absolute;left:287.87px;top:227.00px" class="cls_011"><span class="cls_011">second digit 7 (violet), and a multiplier of 1</span></div>
<div style="position:absolute;left:36.12px;top:240.40px" class="cls_011"><span class="cls_011">Similarly, in Project 19, we reduced the signal</span></div>
<div style="position:absolute;left:287.87px;top:241.99px" class="cls_011"><span class="cls_011">(brown). Similarly, a 10K    resistor will have</span></div>
<div style="position:absolute;left:36.12px;top:255.39px" class="cls_011"><span class="cls_011">from our resistor ladder using two resistors as a</span></div>
<div style="position:absolute;left:287.87px;top:256.97px" class="cls_011"><span class="cls_011">bands of brown, black, and orange (1, 0, 000).</span></div>
<div style="position:absolute;left:36.12px;top:270.37px" class="cls_011"><span class="cls_011">potential divider.</span></div>
<div style="position:absolute;left:299.86px;top:275.95px" class="cls_011"><span class="cls_011">Most of our projects use resistors in a very low-</span></div>
<div style="position:absolute;left:48.11px;top:289.35px" class="cls_011"><span class="cls_011">Resistors have colored bands around them to</span></div>
<div style="position:absolute;left:287.87px;top:290.94px" class="cls_011"><span class="cls_011">power manner. A quick calculation can be used to</span></div>
<div style="position:absolute;left:36.12px;top:304.34px" class="cls_011"><span class="cls_011">indicate their value. However, if you are unsure of</span></div>
<div style="position:absolute;left:287.87px;top:305.92px" class="cls_011"><span class="cls_011">work out the current flowing through the resistor,</span></div>
<div style="position:absolute;left:36.12px;top:319.32px" class="cls_011"><span class="cls_011">a resistor, you can always find its resistance using</span></div>
<div style="position:absolute;left:287.87px;top:320.91px" class="cls_011"><span class="cls_011">and multiplying it by the voltage across it will tell</span></div>
<div style="position:absolute;left:36.12px;top:334.31px" class="cls_011"><span class="cls_011">a multimeter. Once you get the hang of it, it’s easy</span></div>
<div style="position:absolute;left:287.87px;top:335.89px" class="cls_011"><span class="cls_011">you the power used by the resistor. The resistor</span></div>
<div style="position:absolute;left:36.12px;top:349.29px" class="cls_011"><span class="cls_011">to read the values using the colored bands.</span></div>
<div style="position:absolute;left:287.87px;top:350.88px" class="cls_011"><span class="cls_011">burns off this surplus power as heat, and so</span></div>
<div style="position:absolute;left:287.87px;top:365.86px" class="cls_011"><span class="cls_011">resistors will get warm if a significant amount of</span></div>
<div style="position:absolute;left:48.11px;top:368.28px" class="cls_011"><span class="cls_011">Each band color has a value associated with it,</span></div>
<div style="position:absolute;left:287.87px;top:380.85px" class="cls_011"><span class="cls_011">current flows through them.</span></div>
<div style="position:absolute;left:36.12px;top:383.26px" class="cls_011"><span class="cls_011">as shown in Table 10-1.</span></div>
<div style="position:absolute;left:299.86px;top:399.83px" class="cls_011"><span class="cls_011">You only need to worry about this for low-value</span></div>
<div style="position:absolute;left:287.87px;top:414.81px" class="cls_011"><span class="cls_011">resistors of less than 100    or so, because higher</span></div>
<div style="position:absolute;left:43.11px;top:421.13px" class="cls_032"><span class="cls_032">TABLE 10-1</span></div>
<div style="position:absolute;left:106.67px;top:421.13px" class="cls_026"><span class="cls_026">Resistor Color Codes</span></div>
<div style="position:absolute;left:287.87px;top:429.80px" class="cls_011"><span class="cls_011">values will have such a small current flowing</span></div>
<div style="position:absolute;left:67.09px;top:444.90px" class="cls_026"><span class="cls_026">Black</span></div>
<div style="position:absolute;left:208.54px;top:444.90px" class="cls_026"><span class="cls_026">0</span></div>
<div style="position:absolute;left:287.87px;top:444.78px" class="cls_011"><span class="cls_011">through them.</span></div>
<div style="position:absolute;left:67.09px;top:461.89px" class="cls_026"><span class="cls_026">Brown</span></div>
<div style="position:absolute;left:210.14px;top:461.89px" class="cls_026"><span class="cls_026">1</span></div>
<div style="position:absolute;left:299.86px;top:463.77px" class="cls_011"><span class="cls_011">As an example, a 100    resistor connected</span></div>
<div style="position:absolute;left:67.09px;top:478.87px" class="cls_026"><span class="cls_026">Red</span></div>
<div style="position:absolute;left:209.05px;top:478.87px" class="cls_026"><span class="cls_026">2</span></div>
<div style="position:absolute;left:287.87px;top:478.75px" class="cls_011"><span class="cls_011">directly between 5V and GND will have a current</span></div>
<div style="position:absolute;left:67.09px;top:495.85px" class="cls_026"><span class="cls_026">Orange</span></div>
<div style="position:absolute;left:209.00px;top:495.85px" class="cls_026"><span class="cls_026">3</span></div>
<div style="position:absolute;left:287.87px;top:493.74px" class="cls_011"><span class="cls_011">through it of I    V/R, or 5/100, or 0.05 Amps. The</span></div>
<div style="position:absolute;left:67.09px;top:512.84px" class="cls_026"><span class="cls_026">Yellow</span></div>
<div style="position:absolute;left:208.73px;top:512.84px" class="cls_026"><span class="cls_026">4</span></div>
<div style="position:absolute;left:287.87px;top:508.72px" class="cls_011"><span class="cls_011">power it uses will be IV or 0.05</span></div>
<div style="position:absolute;left:443.87px;top:508.72px" class="cls_011"><span class="cls_011">5</span></div>
<div style="position:absolute;left:464.56px;top:508.72px" class="cls_011"><span class="cls_011">0.25W.</span></div>
<div style="position:absolute;left:67.09px;top:529.82px" class="cls_026"><span class="cls_026">Green</span></div>
<div style="position:absolute;left:209.00px;top:529.82px" class="cls_026"><span class="cls_026">5</span></div>
<div style="position:absolute;left:299.86px;top:527.70px" class="cls_011"><span class="cls_011">A standard power rating for resistors is 0.5W or</span></div>
<div style="position:absolute;left:67.09px;top:546.80px" class="cls_026"><span class="cls_026">Blue</span></div>
<div style="position:absolute;left:208.84px;top:546.80px" class="cls_026"><span class="cls_026">6</span></div>
<div style="position:absolute;left:287.87px;top:542.69px" class="cls_011"><span class="cls_011">0.6W, and unless otherwise stated in projects,</span></div>
<div style="position:absolute;left:287.87px;top:557.67px" class="cls_011"><span class="cls_011">0.5W metal film resistors will be fine.</span></div>
<div style="position:absolute;left:67.09px;top:563.79px" class="cls_026"><span class="cls_026">Violet</span></div>
<div style="position:absolute;left:209.07px;top:563.79px" class="cls_026"><span class="cls_026">7</span></div>
<div style="position:absolute;left:67.09px;top:580.77px" class="cls_026"><span class="cls_026">Gray</span></div>
<div style="position:absolute;left:208.91px;top:580.77px" class="cls_026"><span class="cls_026">8</span></div>
<div style="position:absolute;left:67.09px;top:597.76px" class="cls_026"><span class="cls_026">White</span></div>
<div style="position:absolute;left:208.84px;top:597.76px" class="cls_026"><span class="cls_026">9</span></div>
<div style="position:absolute;left:48.11px;top:642.01px" class="cls_011"><span class="cls_011">There will generally be three of these bands</span></div>
<div style="position:absolute;left:36.12px;top:656.99px" class="cls_011"><span class="cls_011">together starting at one end of the resistor, a gap,</span></div>
<div style="position:absolute;left:36.12px;top:671.98px" class="cls_011"><span class="cls_011">and then a single band at the other end of the</span></div>
<div style="position:absolute;left:36.12px;top:686.96px" class="cls_011"><span class="cls_011">resistor. The single band indicates the accuracy of</span></div>
<div style="position:absolute;left:293.87px;top:687.45px" class="cls_025"><span class="cls_025">Figure 10-4</span></div>
<div style="position:absolute;left:353.81px;top:688.44px" class="cls_026"><span class="cls_026">A color-coded resistor.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:147420px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background190.jpg" width=552 height=770></div>
<div style="position:absolute;left:316.70px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 10</span></div>
<div style="position:absolute;left:384.78px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    Your Projects</span></div>
<div style="position:absolute;left:499.15px;top:34.50px" class="cls_017"><span class="cls_017">173</span></div>
<div style="position:absolute;left:36.21px;top:70.07px" class="cls_005"><span class="cls_005">Transistors</span></div>
<div style="position:absolute;left:36.21px;top:93.55px" class="cls_011"><span class="cls_011">Browse through any component catalog and you</span></div>
<div style="position:absolute;left:36.21px;top:108.53px" class="cls_011"><span class="cls_011">will find literally thousands of different transistor</span></div>
<div style="position:absolute;left:36.21px;top:123.52px" class="cls_011"><span class="cls_011">types. In this book, the list has been simplified to</span></div>
<div style="position:absolute;left:36.21px;top:138.50px" class="cls_011"><span class="cls_011">what’s shown in Table 10-2.</span></div>
<div style="position:absolute;left:48.20px;top:157.48px" class="cls_011"><span class="cls_011">The basic switch circuit for a transistor is shown</span></div>
<div style="position:absolute;left:36.21px;top:172.47px" class="cls_011"><span class="cls_011">in Figure 10-5.</span></div>
<div style="position:absolute;left:48.20px;top:191.45px" class="cls_011"><span class="cls_011">The current flowing from base to emitter (b to</span></div>
<div style="position:absolute;left:36.21px;top:206.44px" class="cls_011"><span class="cls_011">e) controls the larger current flowing from the</span></div>
<div style="position:absolute;left:36.21px;top:221.42px" class="cls_011"><span class="cls_011">collector to emitter. If no current flows into the</span></div>
<div style="position:absolute;left:36.21px;top:236.41px" class="cls_011"><span class="cls_011">base, then no current will flow through the load. In</span></div>
<div style="position:absolute;left:36.21px;top:251.39px" class="cls_011"><span class="cls_011">most transistors, if the load had zero resistance, the</span></div>
<div style="position:absolute;left:36.21px;top:266.38px" class="cls_011"><span class="cls_011">current flowing into the collector would be 50 to</span></div>
<div style="position:absolute;left:36.21px;top:281.36px" class="cls_011"><span class="cls_011">200 times the base current. However, we are going</span></div>
<div style="position:absolute;left:36.21px;top:296.35px" class="cls_011"><span class="cls_011">to be switching our transistor fully on or fully off,</span></div>
<div style="position:absolute;left:36.21px;top:311.33px" class="cls_011"><span class="cls_011">so the load resistance will always limit the</span></div>
<div style="position:absolute;left:293.96px;top:321.24px" class="cls_025"><span class="cls_025">Figure 10-5</span></div>
<div style="position:absolute;left:353.90px;top:322.23px" class="cls_026"><span class="cls_026">Basic transistor switch circuit.</span></div>
<div style="position:absolute;left:36.21px;top:326.32px" class="cls_011"><span class="cls_011">collector current to the current required by the</span></div>
<div style="position:absolute;left:36.21px;top:341.30px" class="cls_011"><span class="cls_011">load. Too much base current will damage the</span></div>
<div style="position:absolute;left:383.55px;top:351.26px" class="cls_011"><span class="cls_011">R   V/I</span></div>
<div style="position:absolute;left:36.21px;top:356.29px" class="cls_011"><span class="cls_011">transistor and also rather defeat the objective of</span></div>
<div style="position:absolute;left:36.21px;top:371.27px" class="cls_011"><span class="cls_011">controlling a bigger current with a smaller one, so</span></div>
<div style="position:absolute;left:341.08px;top:370.24px" class="cls_011"><span class="cls_011">R</span></div>
<div style="position:absolute;left:363.60px;top:370.24px" class="cls_011"><span class="cls_011">(5</span></div>
<div style="position:absolute;left:387.95px;top:370.24px" class="cls_011"><span class="cls_011">0.6)/30</span></div>
<div style="position:absolute;left:434.58px;top:370.24px" class="cls_011"><span class="cls_011">147</span></div>
<div style="position:absolute;left:36.21px;top:386.26px" class="cls_011"><span class="cls_011">the base will have a resistor connected to it.</span></div>
<div style="position:absolute;left:299.96px;top:398.22px" class="cls_011"><span class="cls_011">The - 0.6 is because one characteristic of</span></div>
<div style="position:absolute;left:48.20px;top:405.24px" class="cls_011"><span class="cls_011">When switching from an Arduino board, the</span></div>
<div style="position:absolute;left:287.97px;top:413.20px" class="cls_011"><span class="cls_011">bipolar transistors is that there is always a voltage</span></div>
<div style="position:absolute;left:36.21px;top:420.22px" class="cls_011"><span class="cls_011">maximum current of an output is 40 mA, so we</span></div>
<div style="position:absolute;left:287.97px;top:428.18px" class="cls_011"><span class="cls_011">of about 0.6V between base and emitter when a</span></div>
<div style="position:absolute;left:36.21px;top:435.21px" class="cls_011"><span class="cls_011">could choose a resistor that allows about 30 mA to</span></div>
<div style="position:absolute;left:287.97px;top:443.17px" class="cls_011"><span class="cls_011">transistor is turned on.</span></div>
<div style="position:absolute;left:36.21px;top:450.19px" class="cls_011"><span class="cls_011">flow when the output pin is high at 5V. Using</span></div>
<div style="position:absolute;left:299.96px;top:462.15px" class="cls_011"><span class="cls_011">Therefore, using a 150    base resistor, we could</span></div>
<div style="position:absolute;left:36.21px;top:465.18px" class="cls_011"><span class="cls_011">Ohm’s Law:</span></div>
<div style="position:absolute;left:287.97px;top:477.14px" class="cls_011"><span class="cls_011">control a collector current of 40 to 200 times</span></div>
<div style="position:absolute;left:287.97px;top:492.12px" class="cls_011"><span class="cls_011">30 mA, or 1.2 A to 6 A, which is more than</span></div>
<div style="position:absolute;left:43.21px;top:534.22px" class="cls_032"><span class="cls_032">TABLE 10-2</span></div>
<div style="position:absolute;left:108.85px;top:534.22px" class="cls_026"><span class="cls_026">Transistors Used in This Book</span></div>
<div style="position:absolute;left:43.21px;top:557.99px" class="cls_029"><span class="cls_029">Transistor</span></div>
<div style="position:absolute;left:121.14px;top:557.99px" class="cls_029"><span class="cls_029">Type</span></div>
<div style="position:absolute;left:270.20px;top:557.99px" class="cls_029"><span class="cls_029">Purpose</span></div>
<div style="position:absolute;left:43.21px;top:577.97px" class="cls_026"><span class="cls_026">BC548</span></div>
<div style="position:absolute;left:121.14px;top:577.97px" class="cls_026"><span class="cls_026">Bipolar NPN</span></div>
<div style="position:absolute;left:270.20px;top:577.97px" class="cls_026"><span class="cls_026">Switching small loads greater than 40 mA</span></div>
<div style="position:absolute;left:43.21px;top:594.96px" class="cls_026"><span class="cls_026">BD139</span></div>
<div style="position:absolute;left:121.18px;top:594.96px" class="cls_026"><span class="cls_026">Bipolar NPN power</span></div>
<div style="position:absolute;left:270.17px;top:594.96px" class="cls_026"><span class="cls_026">Switching higher-load currents (e.g., Luxeon LED).</span></div>
<div style="position:absolute;left:270.11px;top:607.94px" class="cls_026"><span class="cls_026">See Project 6.</span></div>
<div style="position:absolute;left:43.21px;top:624.93px" class="cls_026"><span class="cls_026">BC307</span></div>
<div style="position:absolute;left:121.14px;top:624.93px" class="cls_026"><span class="cls_026">Bipolar PNP</span></div>
<div style="position:absolute;left:270.12px;top:624.93px" class="cls_026"><span class="cls_026">Switching common anode LED displays where total</span></div>
<div style="position:absolute;left:270.11px;top:637.91px" class="cls_026"><span class="cls_026">current is too much for Arduino output (40 mA)</span></div>
<div style="position:absolute;left:43.21px;top:654.90px" class="cls_026"><span class="cls_026">2N7000</span></div>
<div style="position:absolute;left:121.14px;top:654.90px" class="cls_026"><span class="cls_026">N-channel FET</span></div>
<div style="position:absolute;left:270.13px;top:654.90px" class="cls_026"><span class="cls_026">Low-power switching with very low ‘on’ resistance.</span></div>
<div style="position:absolute;left:270.11px;top:667.88px" class="cls_026"><span class="cls_026">See Project 7.</span></div>
<div style="position:absolute;left:43.21px;top:684.87px" class="cls_026"><span class="cls_026">FQP33N10</span></div>
<div style="position:absolute;left:121.14px;top:684.87px" class="cls_026"><span class="cls_026">N-channel power MOSFET</span></div>
<div style="position:absolute;left:270.26px;top:684.87px" class="cls_026"><span class="cls_026">High-power switching.</span></div>
<div style="position:absolute;left:43.21px;top:701.85px" class="cls_026"><span class="cls_026">FQP27P06</span></div>
<div style="position:absolute;left:121.13px;top:701.85px" class="cls_026"><span class="cls_026">P-channel power MOSFET</span></div>
<div style="position:absolute;left:270.25px;top:701.85px" class="cls_026"><span class="cls_026">High-power switching.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:148200px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background191.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">174</span></div>
<div style="position:absolute;left:81.96px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:36.12px;top:69.16px" class="cls_011"><span class="cls_011">enough for most purposes. In practice, we would</span></div>
<div style="position:absolute;left:294.87px;top:77.26px" class="cls_032"><span class="cls_032">TABLE 10-4</span></div>
<div style="position:absolute;left:361.05px;top:77.26px" class="cls_026"><span class="cls_026">The Use of Specialized</span></div>
<div style="position:absolute;left:36.12px;top:84.15px" class="cls_011"><span class="cls_011">probably use a resistor of 1 K   or perhaps 270</span></div>
<div style="position:absolute;left:361.05px;top:89.25px" class="cls_026"><span class="cls_026">Components in Pprojects</span></div>
<div style="position:absolute;left:48.10px;top:103.13px" class="cls_011"><span class="cls_011">Transistors have a number of maximum</span></div>
<div style="position:absolute;left:294.87px;top:113.83px" class="cls_029"><span class="cls_029">Component</span></div>
<div style="position:absolute;left:472.39px;top:113.83px" class="cls_029"><span class="cls_029">Project</span></div>
<div style="position:absolute;left:36.12px;top:118.11px" class="cls_011"><span class="cls_011">parameter values that should not be exceeded or</span></div>
<div style="position:absolute;left:36.12px;top:133.10px" class="cls_011"><span class="cls_011">the transistor may be damaged. You can find these</span></div>
<div style="position:absolute;left:294.87px;top:133.81px" class="cls_026"><span class="cls_026">Single-color LEDs</span></div>
<div style="position:absolute;left:410.86px;top:133.81px" class="cls_026"><span class="cls_026">Almost every project</span></div>
<div style="position:absolute;left:36.12px;top:148.08px" class="cls_011"><span class="cls_011">by looking at the datasheet for the transistor. For</span></div>
<div style="position:absolute;left:294.87px;top:150.79px" class="cls_026"><span class="cls_026">Multicolor LEDs</span></div>
<div style="position:absolute;left:495.42px;top:150.79px" class="cls_026"><span class="cls_026">14</span></div>
<div style="position:absolute;left:36.12px;top:163.07px" class="cls_011"><span class="cls_011">example, the datasheet for a BC548 will contain</span></div>
<div style="position:absolute;left:294.87px;top:167.77px" class="cls_026"><span class="cls_026">LED matrix displays</span></div>
<div style="position:absolute;left:495.63px;top:167.77px" class="cls_026"><span class="cls_026">16</span></div>
<div style="position:absolute;left:36.12px;top:178.05px" class="cls_011"><span class="cls_011">many values. The ones of most interest to us are</span></div>
<div style="position:absolute;left:294.87px;top:184.76px" class="cls_026"><span class="cls_026">7-segment LEDs</span></div>
<div style="position:absolute;left:478.85px;top:184.76px" class="cls_026"><span class="cls_026">15, 30</span></div>
<div style="position:absolute;left:36.12px;top:193.04px" class="cls_011"><span class="cls_011">summarized in Table 10-3.</span></div>
<div style="position:absolute;left:294.87px;top:201.74px" class="cls_026"><span class="cls_026">Audio amplifier chip</span></div>
<div style="position:absolute;left:478.75px;top:201.74px" class="cls_026"><span class="cls_026">19, 20</span></div>
<div style="position:absolute;left:294.87px;top:218.72px" class="cls_026"><span class="cls_026">LDR (light sensor)</span></div>
<div style="position:absolute;left:492.86px;top:218.72px" class="cls_026"><span class="cls_026">20</span></div>
<div style="position:absolute;left:43.11px;top:232.51px" class="cls_032"><span class="cls_032">TABLE 10-3</span></div>
<div style="position:absolute;left:108.64px;top:232.51px" class="cls_026"><span class="cls_026">Transistor Datasheet</span></div>
<div style="position:absolute;left:294.87px;top:235.71px" class="cls_026"><span class="cls_026">Thermistor (temperature sensor)</span></div>
<div style="position:absolute;left:495.95px;top:235.71px" class="cls_026"><span class="cls_026">13</span></div>
<div style="position:absolute;left:294.87px;top:252.69px" class="cls_026"><span class="cls_026">Variable voltage regulator</span></div>
<div style="position:absolute;left:499.33px;top:252.69px" class="cls_026"><span class="cls_026">7</span></div>
<div style="position:absolute;left:43.11px;top:256.29px" class="cls_029"><span class="cls_029">Property  Value</span></div>
<div style="position:absolute;left:139.00px;top:256.29px" class="cls_029"><span class="cls_029">What It Means</span></div>
<div style="position:absolute;left:43.11px;top:276.27px" class="cls_026"><span class="cls_026">I</span><span class="cls_040"><sub>c</sub></span></div>
<div style="position:absolute;left:91.06px;top:276.27px" class="cls_026"><span class="cls_026">100 mA   The maximum current</span></div>
<div style="position:absolute;left:287.87px;top:283.02px" class="cls_011"><span class="cls_011">same is true of some modules that we may want to</span></div>
<div style="position:absolute;left:139.02px;top:289.26px" class="cls_026"><span class="cls_026">that can flow through the</span></div>
<div style="position:absolute;left:287.87px;top:298.00px" class="cls_011"><span class="cls_011">use in our projects.</span></div>
<div style="position:absolute;left:139.02px;top:302.24px" class="cls_026"><span class="cls_026">collector without the</span></div>
<div style="position:absolute;left:139.02px;top:315.23px" class="cls_026"><span class="cls_026">transistor being damaged.</span></div>
<div style="position:absolute;left:299.86px;top:316.98px" class="cls_011"><span class="cls_011">For instance, the LCD display module that we</span></div>
<div style="position:absolute;left:43.11px;top:332.21px" class="cls_026"><span class="cls_026">h</span><span class="cls_040"><sub>FE</sub></span></div>
<div style="position:absolute;left:91.06px;top:332.21px" class="cls_026"><span class="cls_026">110-800</span></div>
<div style="position:absolute;left:139.02px;top:332.21px" class="cls_026"><span class="cls_026">DC current gain. This is</span></div>
<div style="position:absolute;left:287.87px;top:331.97px" class="cls_011"><span class="cls_011">used in Projects 17 and 22 contains the driver chip</span></div>
<div style="position:absolute;left:139.02px;top:345.20px" class="cls_026"><span class="cls_026">the ratio of collector</span></div>
<div style="position:absolute;left:287.87px;top:346.95px" class="cls_011"><span class="cls_011">needed to work the LCD itself, reducing both the</span></div>
<div style="position:absolute;left:139.02px;top:358.19px" class="cls_026"><span class="cls_026">current to base current,</span></div>
<div style="position:absolute;left:287.87px;top:361.94px" class="cls_011"><span class="cls_011">amount of work we need to do in the sketch and</span></div>
<div style="position:absolute;left:139.02px;top:371.17px" class="cls_026"><span class="cls_026">and as you can see, could</span></div>
<div style="position:absolute;left:287.87px;top:376.92px" class="cls_011"><span class="cls_011">the number of pins we need to use.</span></div>
<div style="position:absolute;left:139.02px;top:384.16px" class="cls_026"><span class="cls_026">be anything between 110</span></div>
<div style="position:absolute;left:139.02px;top:397.15px" class="cls_026"><span class="cls_026">and 800 for this</span></div>
<div style="position:absolute;left:299.86px;top:395.91px" class="cls_011"><span class="cls_011">Other types of modules are available that you</span></div>
<div style="position:absolute;left:139.02px;top:410.14px" class="cls_026"><span class="cls_026">transistor.</span></div>
<div style="position:absolute;left:287.87px;top:410.89px" class="cls_011"><span class="cls_011">may wish to use in your projects. Suppliers such as</span></div>
<div style="position:absolute;left:287.87px;top:425.88px" class="cls_011"><span class="cls_011">Sparkfun are a great source of ideas and modules.</span></div>
<div style="position:absolute;left:287.87px;top:440.86px" class="cls_011"><span class="cls_011">A sample of the kinds of modules that you can get</span></div>
<div style="position:absolute;left:36.12px;top:450.79px" class="cls_005"><span class="cls_005">Other Semiconductors</span></div>
<div style="position:absolute;left:287.87px;top:455.85px" class="cls_011"><span class="cls_011">from such suppliers includes</span></div>
<div style="position:absolute;left:36.12px;top:474.27px" class="cls_011"><span class="cls_011">The various projects have introduced a number of</span></div>
<div style="position:absolute;left:287.87px;top:478.83px" class="cls_022"><span class="cls_022">■</span><span class="cls_011">   GPS</span></div>
<div style="position:absolute;left:36.12px;top:489.25px" class="cls_011"><span class="cls_011">different types of components, from LEDs to</span></div>
<div style="position:absolute;left:287.87px;top:497.81px" class="cls_022"><span class="cls_022">■</span><span class="cls_011">   Wi-Fi</span></div>
<div style="position:absolute;left:36.12px;top:504.24px" class="cls_011"><span class="cls_011">temperature sensors, Table 10-4 provides some</span></div>
<div style="position:absolute;left:287.87px;top:516.79px" class="cls_022"><span class="cls_022">■</span><span class="cls_011">   Bluetooth</span></div>
<div style="position:absolute;left:36.12px;top:519.22px" class="cls_011"><span class="cls_011">pointers into the various projects. If you want to</span></div>
<div style="position:absolute;left:36.12px;top:534.21px" class="cls_011"><span class="cls_011">develop your own project that senses temperature</span></div>
<div style="position:absolute;left:287.87px;top:535.77px" class="cls_022"><span class="cls_022">■</span><span class="cls_011">   Zigbee wireless</span></div>
<div style="position:absolute;left:36.12px;top:549.19px" class="cls_011"><span class="cls_011">or whatever, first read about the projects developed</span></div>
<div style="position:absolute;left:287.87px;top:554.75px" class="cls_022"><span class="cls_022">■</span><span class="cls_011">   GPRS cellular modem</span></div>
<div style="position:absolute;left:36.12px;top:564.18px" class="cls_011"><span class="cls_011">by the author that use these components.</span></div>
<div style="position:absolute;left:299.86px;top:577.73px" class="cls_011"><span class="cls_011">You will need to spend time reading through</span></div>
<div style="position:absolute;left:48.11px;top:583.16px" class="cls_011"><span class="cls_011">It may even be worth building the project and</span></div>
<div style="position:absolute;left:287.87px;top:592.72px" class="cls_011"><span class="cls_011">datasheets, planning, and experimenting, but that is</span></div>
<div style="position:absolute;left:36.12px;top:598.14px" class="cls_011"><span class="cls_011">then modifying it to your own purposes.</span></div>
<div style="position:absolute;left:287.87px;top:607.70px" class="cls_011"><span class="cls_011">what being an Evil Genius is all about.</span></div>
<div style="position:absolute;left:299.86px;top:626.68px" class="cls_011"><span class="cls_011">Slightly less challenging than using a module</span></div>
<div style="position:absolute;left:36.12px;top:631.11px" class="cls_005"><span class="cls_005">Modules and Shields</span></div>
<div style="position:absolute;left:287.87px;top:641.67px" class="cls_011"><span class="cls_011">from scratch is to buy an Arduino shield with the</span></div>
<div style="position:absolute;left:36.12px;top:654.59px" class="cls_011"><span class="cls_011">It does not always make sense to make everything</span></div>
<div style="position:absolute;left:287.87px;top:656.65px" class="cls_011"><span class="cls_011">module already installed. This is a good idea when</span></div>
<div style="position:absolute;left:36.12px;top:669.58px" class="cls_011"><span class="cls_011">from scratch. That is, after all, why we buy an</span></div>
<div style="position:absolute;left:287.87px;top:671.64px" class="cls_011"><span class="cls_011">the components that you would like to use will not</span></div>
<div style="position:absolute;left:36.12px;top:684.56px" class="cls_011"><span class="cls_011">Arduino board rather than make our own. The</span></div>
<div style="position:absolute;left:287.87px;top:686.62px" class="cls_011"><span class="cls_011">go on a breadboard (such as surface mount</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:148980px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background192.jpg" width=552 height=770></div>
<div style="position:absolute;left:316.61px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 10</span></div>
<div style="position:absolute;left:384.69px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    Your Projects</span></div>
<div style="position:absolute;left:499.06px;top:34.50px" class="cls_017"><span class="cls_017">175</span></div>
<div style="position:absolute;left:36.21px;top:69.16px" class="cls_011"><span class="cls_011">devices). A ready-made shield can give you a real</span></div>
<div style="position:absolute;left:287.97px;top:69.47px" class="cls_021"><span class="cls_021">Tools</span></div>
<div style="position:absolute;left:36.21px;top:84.15px" class="cls_011"><span class="cls_011">leg up with a project.</span></div>
<div style="position:absolute;left:287.97px;top:95.94px" class="cls_011"><span class="cls_011">When making your own projects, there are a few</span></div>
<div style="position:absolute;left:48.20px;top:103.13px" class="cls_011"><span class="cls_011">New shields become available all the time, but</span></div>
<div style="position:absolute;left:287.97px;top:110.93px" class="cls_011"><span class="cls_011">tools that you will need at a bare minimum. If you</span></div>
<div style="position:absolute;left:36.21px;top:118.11px" class="cls_011"><span class="cls_011">at the time of this writing, you can buy Arduino</span></div>
<div style="position:absolute;left:287.97px;top:125.91px" class="cls_011"><span class="cls_011">do not intend to do any soldering, then you will</span></div>
<div style="position:absolute;left:36.21px;top:133.10px" class="cls_011"><span class="cls_011">shields for:</span></div>
<div style="position:absolute;left:287.97px;top:140.90px" class="cls_011"><span class="cls_011">need</span></div>
<div style="position:absolute;left:36.21px;top:156.08px" class="cls_022"><span class="cls_022">■</span><span class="cls_011">   Ethernet (connect your Arduino to the Internet)</span></div>
<div style="position:absolute;left:287.97px;top:159.88px" class="cls_022"><span class="cls_022">■</span><span class="cls_011">   Solid-core wire in a few different colors,</span></div>
<div style="position:absolute;left:36.21px;top:175.06px" class="cls_022"><span class="cls_022">■</span><span class="cls_011">   XBee (a wireless data connection standard</span></div>
<div style="position:absolute;left:304.95px;top:174.87px" class="cls_011"><span class="cls_011">something around 0.6 mm (23 swg) wire</span></div>
<div style="position:absolute;left:53.20px;top:190.04px" class="cls_011"><span class="cls_011">used in home automation, among other things)</span></div>
<div style="position:absolute;left:304.95px;top:189.85px" class="cls_011"><span class="cls_011">diameter</span></div>
<div style="position:absolute;left:36.21px;top:209.02px" class="cls_022"><span class="cls_022">■</span><span class="cls_011">   Motor driver</span></div>
<div style="position:absolute;left:287.97px;top:208.83px" class="cls_022"><span class="cls_022">■</span><span class="cls_011">   Pliers and wire snips, particularly for making</span></div>
<div style="position:absolute;left:304.95px;top:223.82px" class="cls_011"><span class="cls_011">jumper wires for the breadboard</span></div>
<div style="position:absolute;left:36.21px;top:228.01px" class="cls_022"><span class="cls_022">■</span><span class="cls_011">   GPS</span></div>
<div style="position:absolute;left:287.97px;top:242.80px" class="cls_022"><span class="cls_022">■</span><span class="cls_011">   Breadboard</span></div>
<div style="position:absolute;left:36.21px;top:246.99px" class="cls_022"><span class="cls_022">■</span><span class="cls_011">   Joystick</span></div>
<div style="position:absolute;left:287.97px;top:261.78px" class="cls_022"><span class="cls_022">■</span><span class="cls_011">   Multimeter</span></div>
<div style="position:absolute;left:36.21px;top:265.97px" class="cls_022"><span class="cls_022">■</span><span class="cls_011">   SD card interface</span></div>
<div style="position:absolute;left:36.21px;top:284.95px" class="cls_022"><span class="cls_022">■</span><span class="cls_011">   Graphic LCD touch screen display</span></div>
<div style="position:absolute;left:299.96px;top:284.76px" class="cls_011"><span class="cls_011">If you intend to solder, then you will also need</span></div>
<div style="position:absolute;left:36.21px;top:303.93px" class="cls_022"><span class="cls_022">■</span><span class="cls_011">   Wi-Fi</span></div>
<div style="position:absolute;left:287.97px;top:307.74px" class="cls_022"><span class="cls_022">■</span><span class="cls_011">   Soldering iron (duh)</span></div>
<div style="position:absolute;left:287.97px;top:326.72px" class="cls_022"><span class="cls_022">■</span><span class="cls_011">   Lead-free alloy solder</span></div>
<div style="position:absolute;left:36.21px;top:336.90px" class="cls_005"><span class="cls_005">Buying Components</span></div>
<div style="position:absolute;left:36.21px;top:360.38px" class="cls_011"><span class="cls_011">Thirty years ago, the electronic enthusiast living in</span></div>
<div style="position:absolute;left:287.97px;top:359.69px" class="cls_005"><span class="cls_005">Component Box</span></div>
<div style="position:absolute;left:36.21px;top:375.36px" class="cls_011"><span class="cls_011">even a small town would be likely to have the</span></div>
<div style="position:absolute;left:287.97px;top:383.16px" class="cls_011"><span class="cls_011">When you first start designing your own projects,</span></div>
<div style="position:absolute;left:36.21px;top:390.35px" class="cls_011"><span class="cls_011">choice of several radio/TV repair and spare stores</span></div>
<div style="position:absolute;left:287.97px;top:398.15px" class="cls_011"><span class="cls_011">it will take you some time to gradually build up</span></div>
<div style="position:absolute;left:36.21px;top:405.33px" class="cls_011"><span class="cls_011">where they could buy components and receive</span></div>
<div style="position:absolute;left:287.97px;top:413.13px" class="cls_011"><span class="cls_011">your stock of components. Each time you are</span></div>
<div style="position:absolute;left:36.21px;top:420.32px" class="cls_011"><span class="cls_011">friendly advice. These days, there are a few retail</span></div>
<div style="position:absolute;left:287.97px;top:428.12px" class="cls_011"><span class="cls_011">finished with a project, a few more components</span></div>
<div style="position:absolute;left:36.21px;top:435.30px" class="cls_011"><span class="cls_011">outlets that still sell components, like RadioShack</span></div>
<div style="position:absolute;left:287.97px;top:443.10px" class="cls_011"><span class="cls_011">will find their way back to your stock.</span></div>
<div style="position:absolute;left:36.21px;top:450.29px" class="cls_011"><span class="cls_011">in the United States and Maplins in the UK, but the</span></div>
<div style="position:absolute;left:299.96px;top:462.09px" class="cls_011"><span class="cls_011">It is useful to have a basic stock of components</span></div>
<div style="position:absolute;left:36.21px;top:465.27px" class="cls_011"><span class="cls_011">Internet has stepped in to fill the gap, and it is now</span></div>
<div style="position:absolute;left:287.97px;top:477.07px" class="cls_011"><span class="cls_011">so that you do not have to keep ordering things</span></div>
<div style="position:absolute;left:36.21px;top:480.26px" class="cls_011"><span class="cls_011">easier and cheaper than ever to buy components.</span></div>
<div style="position:absolute;left:287.97px;top:492.06px" class="cls_011"><span class="cls_011">when you just need a different value resistor. You</span></div>
<div style="position:absolute;left:48.20px;top:499.24px" class="cls_011"><span class="cls_011">With international component suppliers such as</span></div>
<div style="position:absolute;left:287.97px;top:507.04px" class="cls_011"><span class="cls_011">will have noticed that most of the projects in this</span></div>
<div style="position:absolute;left:36.21px;top:514.22px" class="cls_011"><span class="cls_011">RS and Farnell you can fill a virtual shopping</span></div>
<div style="position:absolute;left:287.97px;top:522.03px" class="cls_011"><span class="cls_011">book tend to use values of resistor, like 100</span></div>
<div style="position:absolute;left:492.26px;top:522.03px" class="cls_011"><span class="cls_011">,</span></div>
<div style="position:absolute;left:36.21px;top:529.21px" class="cls_011"><span class="cls_011">basket online and have the components arrive in a</span></div>
<div style="position:absolute;left:287.97px;top:537.01px" class="cls_011"><span class="cls_011">1 K</span></div>
<div style="position:absolute;left:312.96px;top:537.01px" class="cls_011"><span class="cls_011">, 10 K</span></div>
<div style="position:absolute;left:349.23px;top:537.01px" class="cls_011"><span class="cls_011">, etc. You actually don’t need that</span></div>
<div style="position:absolute;left:36.21px;top:544.19px" class="cls_011"><span class="cls_011">day or two. Shop around, because prices vary</span></div>
<div style="position:absolute;left:287.97px;top:552.00px" class="cls_011"><span class="cls_011">many different components to cover most of the</span></div>
<div style="position:absolute;left:36.21px;top:559.18px" class="cls_011"><span class="cls_011">considerably between suppliers for the same</span></div>
<div style="position:absolute;left:287.97px;top:566.98px" class="cls_011"><span class="cls_011">bases for a new project.</span></div>
<div style="position:absolute;left:36.21px;top:574.16px" class="cls_011"><span class="cls_011">components.</span></div>
<div style="position:absolute;left:299.95px;top:585.96px" class="cls_011"><span class="cls_011">A good starting kit of components is listed in</span></div>
<div style="position:absolute;left:48.20px;top:593.15px" class="cls_011"><span class="cls_011">You will find eBay to be a great source of</span></div>
<div style="position:absolute;left:287.97px;top:600.95px" class="cls_011"><span class="cls_011">the appendix.</span></div>
<div style="position:absolute;left:36.21px;top:608.13px" class="cls_011"><span class="cls_011">components. If you don’t mind waiting a few</span></div>
<div style="position:absolute;left:299.95px;top:619.93px" class="cls_011"><span class="cls_011">Boxes with compartments that can be labeled</span></div>
<div style="position:absolute;left:36.21px;top:623.12px" class="cls_011"><span class="cls_011">weeks for your components to arrive, there are</span></div>
<div style="position:absolute;left:287.97px;top:634.91px" class="cls_011"><span class="cls_011">save a lot of time in selecting components,</span></div>
<div style="position:absolute;left:36.21px;top:638.10px" class="cls_011"><span class="cls_011">great bargains to be had from China. You often</span></div>
<div style="position:absolute;left:287.97px;top:649.90px" class="cls_011"><span class="cls_011">especially resistors that do not have their value</span></div>
<div style="position:absolute;left:36.21px;top:653.09px" class="cls_011"><span class="cls_011">have to buy large quantities, but may find it</span></div>
<div style="position:absolute;left:287.97px;top:664.88px" class="cls_011"><span class="cls_011">written on them.</span></div>
<div style="position:absolute;left:36.21px;top:668.07px" class="cls_011"><span class="cls_011">cheaper to get 50 of a component from China than</span></div>
<div style="position:absolute;left:36.21px;top:683.06px" class="cls_011"><span class="cls_011">5 locally. That way, you have some spares for your</span></div>
<div style="position:absolute;left:36.21px;top:698.04px" class="cls_011"><span class="cls_011">component box.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:149760px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background193.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">176</span></div>
<div style="position:absolute;left:81.69px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:36.12px;top:70.07px" class="cls_005"><span class="cls_005">Snips and Pliers</span></div>
<div style="position:absolute;left:287.87px;top:70.07px" class="cls_005"><span class="cls_005">Soldering</span></div>
<div style="position:absolute;left:36.12px;top:93.55px" class="cls_011"><span class="cls_011">Snips are for cutting, and pliers are for holding</span></div>
<div style="position:absolute;left:287.87px;top:93.55px" class="cls_011"><span class="cls_011">You do not have to spend a lot of money to get a</span></div>
<div style="position:absolute;left:36.12px;top:108.53px" class="cls_011"><span class="cls_011">things still (often while you cut them).</span></div>
<div style="position:absolute;left:287.87px;top:108.53px" class="cls_011"><span class="cls_011">decent soldering iron. Temperature-controlled</span></div>
<div style="position:absolute;left:287.87px;top:123.52px" class="cls_011"><span class="cls_011">solder stations, such as the one shown in Figure</span></div>
<div style="position:absolute;left:48.11px;top:127.51px" class="cls_011"><span class="cls_011">Figure 10-6 shows how you strip the insulation</span></div>
<div style="position:absolute;left:287.87px;top:138.50px" class="cls_011"><span class="cls_011">10-7, are better, but a fixed-temperature mains</span></div>
<div style="position:absolute;left:36.12px;top:142.50px" class="cls_011"><span class="cls_011">off wire. Assuming you are right-handed, hold</span></div>
<div style="position:absolute;left:287.87px;top:153.49px" class="cls_011"><span class="cls_011">electricity iron is fine. Buy one with a fine tip, and</span></div>
<div style="position:absolute;left:36.12px;top:157.48px" class="cls_011"><span class="cls_011">your pliers in your left hand and the snips in the</span></div>
<div style="position:absolute;left:287.87px;top:168.47px" class="cls_011"><span class="cls_011">make sure it is intended for electronics and not</span></div>
<div style="position:absolute;left:36.12px;top:172.47px" class="cls_011"><span class="cls_011">right. Grip the wire with the pliers close to where</span></div>
<div style="position:absolute;left:287.87px;top:183.46px" class="cls_011"><span class="cls_011">plumbing use.</span></div>
<div style="position:absolute;left:36.12px;top:187.45px" class="cls_011"><span class="cls_011">you want to start stripping the wire from and then</span></div>
<div style="position:absolute;left:36.12px;top:202.44px" class="cls_011"><span class="cls_011">gently pinch round the wire with the snips and</span></div>
<div style="position:absolute;left:299.86px;top:202.44px" class="cls_011"><span class="cls_011">Use narrow lead-free solder. Anyone can solder</span></div>
<div style="position:absolute;left:36.12px;top:217.42px" class="cls_011"><span class="cls_011">then pull sideways to pull the insulation away.</span></div>
<div style="position:absolute;left:287.87px;top:217.42px" class="cls_011"><span class="cls_011">things together and make them work; however,</span></div>
<div style="position:absolute;left:36.12px;top:232.41px" class="cls_011"><span class="cls_011">Sometimes, you will pinch too hard and cut or</span></div>
<div style="position:absolute;left:287.87px;top:232.41px" class="cls_011"><span class="cls_011">some people just have a talent for neat soldering.</span></div>
<div style="position:absolute;left:36.12px;top:247.39px" class="cls_011"><span class="cls_011">weaken the wire, and other times you will not</span></div>
<div style="position:absolute;left:287.87px;top:247.39px" class="cls_011"><span class="cls_011">Don’t worry if your results do not look as neat as</span></div>
<div style="position:absolute;left:36.12px;top:262.38px" class="cls_011"><span class="cls_011">pinch hard enough and the insulation will remain</span></div>
<div style="position:absolute;left:287.87px;top:262.38px" class="cls_011"><span class="cls_011">a robot-made printed circuit. They are never</span></div>
<div style="position:absolute;left:36.12px;top:277.36px" class="cls_011"><span class="cls_011">intact. It’s all just a matter of practice.</span></div>
<div style="position:absolute;left:287.87px;top:277.36px" class="cls_011"><span class="cls_011">going to.</span></div>
<div style="position:absolute;left:48.11px;top:296.35px" class="cls_011"><span class="cls_011">You can also buy an automatic wire stripper that</span></div>
<div style="position:absolute;left:299.86px;top:296.35px" class="cls_011"><span class="cls_011">Soldering is one of those jobs that you really</span></div>
<div style="position:absolute;left:36.12px;top:311.33px" class="cls_011"><span class="cls_011">grips and removes insulation in one action. In</span></div>
<div style="position:absolute;left:287.87px;top:311.33px" class="cls_011"><span class="cls_011">need three hands for: one hand to hold the</span></div>
<div style="position:absolute;left:36.12px;top:326.32px" class="cls_011"><span class="cls_011">practice, these often only work well for one</span></div>
<div style="position:absolute;left:287.87px;top:326.32px" class="cls_011"><span class="cls_011">soldering iron, one to hold the solder, and one to</span></div>
<div style="position:absolute;left:36.12px;top:341.30px" class="cls_011"><span class="cls_011">particular wire type and sometimes just plain</span></div>
<div style="position:absolute;left:287.87px;top:341.30px" class="cls_011"><span class="cls_011">hold the thing you are soldering. Sometimes the</span></div>
<div style="position:absolute;left:36.12px;top:356.29px" class="cls_011"><span class="cls_011">don’t work.</span></div>
<div style="position:absolute;left:287.87px;top:356.29px" class="cls_011"><span class="cls_011">thing you are soldering is big and heavy enough to</span></div>
<div style="position:absolute;left:287.87px;top:371.27px" class="cls_011"><span class="cls_011">stay put while you solder it; on other occasions,</span></div>
<div style="position:absolute;left:287.87px;top:386.26px" class="cls_011"><span class="cls_011">you will need to hold it down. Heavy pliers are</span></div>
<div style="position:absolute;left:287.87px;top:401.24px" class="cls_011"><span class="cls_011">good for this, as are mini vises and “helping hand”</span></div>
<div style="position:absolute;left:287.87px;top:416.23px" class="cls_011"><span class="cls_011">type holders that use little clips to grip things.</span></div>
<div style="position:absolute;left:42.11px;top:707.86px" class="cls_025"><span class="cls_025">Figure 10-6</span></div>
<div style="position:absolute;left:102.05px;top:708.85px" class="cls_026"><span class="cls_026">Snips and pliers.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:150540px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background194.jpg" width=552 height=770></div>
<div style="position:absolute;left:316.72px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 10</span></div>
<div style="position:absolute;left:384.80px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    Your Projects</span></div>
<div style="position:absolute;left:499.17px;top:34.50px" class="cls_017"><span class="cls_017">177</span></div>
<div style="position:absolute;left:299.96px;top:69.16px" class="cls_011"><span class="cls_011">Practice soldering any old bits of wire together</span></div>
<div style="position:absolute;left:287.97px;top:84.14px" class="cls_011"><span class="cls_011">or wires to an old bit of circuitboard before</span></div>
<div style="position:absolute;left:287.97px;top:99.13px" class="cls_011"><span class="cls_011">working on the real thing.</span></div>
<div style="position:absolute;left:287.97px;top:132.10px" class="cls_005"><span class="cls_005">Multimeter</span></div>
<div style="position:absolute;left:287.97px;top:155.58px" class="cls_011"><span class="cls_011">A big problem with electrons is that you cannot</span></div>
<div style="position:absolute;left:287.97px;top:170.56px" class="cls_011"><span class="cls_011">see the little monkeys. A multimeter allows you to</span></div>
<div style="position:absolute;left:287.97px;top:185.55px" class="cls_011"><span class="cls_011">see what they are up to. It allows you to measure</span></div>
<div style="position:absolute;left:287.97px;top:200.53px" class="cls_011"><span class="cls_011">voltage, current, resistance, and often other</span></div>
<div style="position:absolute;left:287.97px;top:215.52px" class="cls_011"><span class="cls_011">features too like capacitance and frequency. A</span></div>
<div style="position:absolute;left:287.97px;top:230.50px" class="cls_011"><span class="cls_011">cheap $10 multimeter is perfectly adequate for</span></div>
<div style="position:absolute;left:42.21px;top:240.09px" class="cls_025"><span class="cls_025">Figure 10-7</span></div>
<div style="position:absolute;left:102.15px;top:241.07px" class="cls_026"><span class="cls_026">Soldering iron and solder.</span></div>
<div style="position:absolute;left:287.97px;top:245.49px" class="cls_011"><span class="cls_011">almost any purpose. The professionals use much</span></div>
<div style="position:absolute;left:287.97px;top:260.47px" class="cls_011"><span class="cls_011">more solid and accurate meters, but that’s not</span></div>
<div style="position:absolute;left:48.20px;top:269.97px" class="cls_011"><span class="cls_011">The basic steps for soldering are</span></div>
<div style="position:absolute;left:287.97px;top:275.46px" class="cls_011"><span class="cls_011">necessary for most purposes.</span></div>
<div style="position:absolute;left:44.56px;top:293.94px" class="cls_041"><span class="cls_041">1.</span></div>
<div style="position:absolute;left:57.19px;top:292.94px" class="cls_011"><span class="cls_011">Wet the sponge in the soldering iron stand.</span></div>
<div style="position:absolute;left:299.96px;top:294.44px" class="cls_011"><span class="cls_011">Multimeters, such as the one shown in Figure</span></div>
<div style="position:absolute;left:42.39px;top:312.92px" class="cls_041"><span class="cls_041">2.</span></div>
<div style="position:absolute;left:57.19px;top:311.93px" class="cls_011"><span class="cls_011">Allow the iron to come up to temperature.</span></div>
<div style="position:absolute;left:287.97px;top:309.42px" class="cls_011"><span class="cls_011">10-8, can be either analog or digital. You can tell</span></div>
<div style="position:absolute;left:287.97px;top:324.41px" class="cls_011"><span class="cls_011">more from an analog meter than you can a digital,</span></div>
<div style="position:absolute;left:42.34px;top:331.91px" class="cls_041"><span class="cls_041">3.</span></div>
<div style="position:absolute;left:57.19px;top:330.91px" class="cls_011"><span class="cls_011">Tin the tip of the iron by pressing the solder</span></div>
<div style="position:absolute;left:287.97px;top:339.39px" class="cls_011"><span class="cls_011">as you can see how fast a needle swings over and</span></div>
<div style="position:absolute;left:57.19px;top:345.89px" class="cls_011"><span class="cls_011">against it until it melts and covers the tip.</span></div>
<div style="position:absolute;left:287.97px;top:354.38px" class="cls_011"><span class="cls_011">how it jitters, something that is not possible with a</span></div>
<div style="position:absolute;left:41.71px;top:365.87px" class="cls_041"><span class="cls_041">4.</span></div>
<div style="position:absolute;left:57.19px;top:364.87px" class="cls_011"><span class="cls_011">Wipe the tip on the wet sponge—this</span></div>
<div style="position:absolute;left:287.97px;top:369.36px" class="cls_011"><span class="cls_011">digital meter, where the numbers just change.</span></div>
<div style="position:absolute;left:57.19px;top:379.86px" class="cls_011"><span class="cls_011">produces a satisfying sizzling sound, but also</span></div>
<div style="position:absolute;left:287.97px;top:384.35px" class="cls_011"><span class="cls_011">However, for a steady voltage, it is much easier to</span></div>
<div style="position:absolute;left:57.19px;top:394.84px" class="cls_011"><span class="cls_011">cleans off the excess solder. You should now</span></div>
<div style="position:absolute;left:287.97px;top:399.33px" class="cls_011"><span class="cls_011">read a digital meter, as an analog meter will have a</span></div>
<div style="position:absolute;left:57.19px;top:409.83px" class="cls_011"><span class="cls_011">have a nice bright silver tip.</span></div>
<div style="position:absolute;left:287.97px;top:414.32px" class="cls_011"><span class="cls_011">number of scales, and you have to work out which</span></div>
<div style="position:absolute;left:42.30px;top:429.81px" class="cls_041"><span class="cls_041">5.</span></div>
<div style="position:absolute;left:57.19px;top:428.81px" class="cls_011"><span class="cls_011">Touch the iron to the place where you are</span></div>
<div style="position:absolute;left:287.97px;top:429.30px" class="cls_011"><span class="cls_011">scale you should be looking at before you take the</span></div>
<div style="position:absolute;left:57.19px;top:443.80px" class="cls_011"><span class="cls_011">going to solder to heat it; then after a short</span></div>
<div style="position:absolute;left:287.97px;top:444.29px" class="cls_011"><span class="cls_011">reading.</span></div>
<div style="position:absolute;left:57.19px;top:458.78px" class="cls_011"><span class="cls_011">pause (a second or two), touch the solder to</span></div>
<div style="position:absolute;left:299.96px;top:463.27px" class="cls_011"><span class="cls_011">You can also get autoranging meters, which,</span></div>
<div style="position:absolute;left:57.19px;top:473.77px" class="cls_011"><span class="cls_011">the point where the tip of the iron meets the</span></div>
<div style="position:absolute;left:287.97px;top:478.26px" class="cls_011"><span class="cls_011">once you have selected whether you are measuring</span></div>
<div style="position:absolute;left:57.19px;top:488.75px" class="cls_011"><span class="cls_011">thing you are soldering. The solder should</span></div>
<div style="position:absolute;left:287.97px;top:493.24px" class="cls_011"><span class="cls_011">current or voltage, will automatically change</span></div>
<div style="position:absolute;left:57.19px;top:503.74px" class="cls_011"><span class="cls_011">flow like a liquid, neatly making a joint.</span></div>
<div style="position:absolute;left:287.97px;top:508.23px" class="cls_011"><span class="cls_011">ranges for you as the voltage or current increases.</span></div>
<div style="position:absolute;left:41.96px;top:523.72px" class="cls_041"><span class="cls_041">6.</span></div>
<div style="position:absolute;left:57.19px;top:522.72px" class="cls_011"><span class="cls_011">Remove the solder and the soldering iron,</span></div>
<div style="position:absolute;left:287.97px;top:523.21px" class="cls_011"><span class="cls_011">This is useful, but some would argue that thinking</span></div>
<div style="position:absolute;left:57.19px;top:537.70px" class="cls_011"><span class="cls_011">putting the iron back in its stand, being very</span></div>
<div style="position:absolute;left:287.97px;top:538.20px" class="cls_011"><span class="cls_011">about the range of voltage before you measure it is</span></div>
<div style="position:absolute;left:57.19px;top:552.69px" class="cls_011"><span class="cls_011">careful that nothing moves in the few seconds</span></div>
<div style="position:absolute;left:287.97px;top:553.18px" class="cls_011"><span class="cls_011">actually a useful step.</span></div>
<div style="position:absolute;left:57.19px;top:567.67px" class="cls_011"><span class="cls_011">that the solder will take to solidify. If</span></div>
<div style="position:absolute;left:299.96px;top:572.16px" class="cls_011"><span class="cls_011">To measure voltage using a multimeter:</span></div>
<div style="position:absolute;left:57.19px;top:582.66px" class="cls_011"><span class="cls_011">something does move, then touch the iron to it</span></div>
<div style="position:absolute;left:296.31px;top:591.15px" class="cls_041"><span class="cls_041">1.</span><span class="cls_011">  Set the multimeter range to voltage (start at a</span></div>
<div style="position:absolute;left:57.19px;top:597.64px" class="cls_011"><span class="cls_011">again to reflow the solder; otherwise, you can</span></div>
<div style="position:absolute;left:308.95px;top:606.14px" class="cls_011"><span class="cls_011">range that you know will be higher than the</span></div>
<div style="position:absolute;left:57.19px;top:612.63px" class="cls_011"><span class="cls_011">get a bad connection called a dry joint.</span></div>
<div style="position:absolute;left:308.95px;top:621.12px" class="cls_011"><span class="cls_011">voltage you are about to measure).</span></div>
<div style="position:absolute;left:48.20px;top:635.61px" class="cls_011"><span class="cls_011">Above all, try not to heat sensitive (or</span></div>
<div style="position:absolute;left:294.15px;top:640.10px" class="cls_041"><span class="cls_041">2.</span><span class="cls_011">  Connect the black lead to GND. A crocodile</span></div>
<div style="position:absolute;left:36.21px;top:650.59px" class="cls_011"><span class="cls_011">expensive) components any longer than necessary,</span></div>
<div style="position:absolute;left:308.95px;top:655.09px" class="cls_011"><span class="cls_011">clip on the negative lead makes this easier.</span></div>
<div style="position:absolute;left:36.21px;top:665.58px" class="cls_011"><span class="cls_011">especially if they have short leads.</span></div>
<div style="position:absolute;left:294.09px;top:674.07px" class="cls_041"><span class="cls_041">3.</span><span class="cls_011">  Touch the red lead to the point whose voltage</span></div>
<div style="position:absolute;left:308.95px;top:689.06px" class="cls_011"><span class="cls_011">you want to measure. For instance, to see if an</span></div>
<div style="position:absolute;left:308.95px;top:704.04px" class="cls_011"><span class="cls_011">Arduino digital output is on or off, you can</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:151320px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background195.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">178</span></div>
<div style="position:absolute;left:81.37px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:299.86px;top:69.16px" class="cls_011"><span class="cls_011">Figure 10-9 shows how you could measure the</span></div>
<div style="position:absolute;left:287.87px;top:84.14px" class="cls_011"><span class="cls_011">current flowing through an LED.</span></div>
<div style="position:absolute;left:299.86px;top:103.12px" class="cls_011"><span class="cls_011">To measure current:</span></div>
<div style="position:absolute;left:296.22px;top:122.11px" class="cls_041"><span class="cls_041">1.</span><span class="cls_011">  Set the multimeter range to a current range</span></div>
<div style="position:absolute;left:308.85px;top:137.09px" class="cls_011"><span class="cls_011">higher than the expected current. Note that</span></div>
<div style="position:absolute;left:308.85px;top:152.08px" class="cls_011"><span class="cls_011">multimeters often have a separate high-current</span></div>
<div style="position:absolute;left:308.85px;top:167.06px" class="cls_011"><span class="cls_011">connector for currents as high as 10 A.</span></div>
<div style="position:absolute;left:294.05px;top:186.05px" class="cls_041"><span class="cls_041">2.</span><span class="cls_011">  Connect the positive lead of the meter to the</span></div>
<div style="position:absolute;left:308.85px;top:201.03px" class="cls_011"><span class="cls_011">more positive side from which the current</span></div>
<div style="position:absolute;left:308.85px;top:216.02px" class="cls_011"><span class="cls_011">will flow.</span></div>
<div style="position:absolute;left:294.00px;top:235.00px" class="cls_041"><span class="cls_041">3.</span><span class="cls_011">  Connect the negative lead of the meter to the</span></div>
<div style="position:absolute;left:102.05px;top:244.27px" class="cls_026"><span class="cls_026">A multimeter.</span></div>
<div style="position:absolute;left:42.11px;top:243.28px" class="cls_025"><span class="cls_025">Figure 10-8</span></div>
<div style="position:absolute;left:308.85px;top:249.98px" class="cls_011"><span class="cls_011">more negative side. Note that if you get this</span></div>
<div style="position:absolute;left:308.85px;top:264.97px" class="cls_011"><span class="cls_011">the wrong way round, a digital meter will just</span></div>
<div style="position:absolute;left:57.10px;top:273.16px" class="cls_011"><span class="cls_011">touch the red lead to the pin and read the</span></div>
<div style="position:absolute;left:308.85px;top:279.95px" class="cls_011"><span class="cls_011">indicate a negative current; however,</span></div>
<div style="position:absolute;left:57.10px;top:288.15px" class="cls_011"><span class="cls_011">voltage, which should be either 5V or 0V.</span></div>
<div style="position:absolute;left:308.85px;top:294.94px" class="cls_011"><span class="cls_011">connecting an analog meter the wrong way</span></div>
<div style="position:absolute;left:48.11px;top:311.13px" class="cls_011"><span class="cls_011">Measuring current is different from measuring</span></div>
<div style="position:absolute;left:308.85px;top:309.92px" class="cls_011"><span class="cls_011">round may damage it.</span></div>
<div style="position:absolute;left:36.12px;top:326.11px" class="cls_011"><span class="cls_011">voltage because you want to measure the current</span></div>
<div style="position:absolute;left:293.37px;top:328.91px" class="cls_041"><span class="cls_041">4.</span><span class="cls_011">  In the case of an LED, the LED should still</span></div>
<div style="position:absolute;left:36.12px;top:341.10px" class="cls_011"><span class="cls_011">flowing through something and not the voltage at</span></div>
<div style="position:absolute;left:308.85px;top:343.89px" class="cls_011"><span class="cls_011">light as brightly as before you put the meter</span></div>
<div style="position:absolute;left:36.12px;top:356.08px" class="cls_011"><span class="cls_011">some point. So you put the multimeter in the path</span></div>
<div style="position:absolute;left:308.85px;top:358.88px" class="cls_011"><span class="cls_011">into the circuit and you will be able to read</span></div>
<div style="position:absolute;left:36.12px;top:371.07px" class="cls_011"><span class="cls_011">of the current that you are measuring. This means</span></div>
<div style="position:absolute;left:308.85px;top:373.86px" class="cls_011"><span class="cls_011">the current consumption.</span></div>
<div style="position:absolute;left:36.12px;top:386.05px" class="cls_011"><span class="cls_011">that when the multimeter is set to a current setting,</span></div>
<div style="position:absolute;left:299.86px;top:396.84px" class="cls_011"><span class="cls_011">Another feature of a multimeter that is</span></div>
<div style="position:absolute;left:36.12px;top:401.04px" class="cls_011"><span class="cls_011">there will be a very low resistance between the two</span></div>
<div style="position:absolute;left:287.87px;top:411.83px" class="cls_011"><span class="cls_011">sometimes useful is the continuity test feature.</span></div>
<div style="position:absolute;left:36.12px;top:416.02px" class="cls_011"><span class="cls_011">leads, so be careful not to short anything out with</span></div>
<div style="position:absolute;left:287.87px;top:426.81px" class="cls_011"><span class="cls_011">This will usually beep when the two test leads are</span></div>
<div style="position:absolute;left:36.12px;top:431.01px" class="cls_011"><span class="cls_011">the leads.</span></div>
<div style="position:absolute;left:287.87px;top:441.80px" class="cls_011"><span class="cls_011">connected together. You can use this to test fuses,</span></div>
<div style="position:absolute;left:42.11px;top:707.86px" class="cls_025"><span class="cls_025">Figure 10-9</span></div>
<div style="position:absolute;left:102.05px;top:708.85px" class="cls_026"><span class="cls_026">Measuring current.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:152100px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background196.jpg" width=552 height=770></div>
<div style="position:absolute;left:316.29px;top:34.50px" class="cls_018"><span class="cls_018">Chapter 10</span></div>
<div style="position:absolute;left:384.37px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    Your Projects</span></div>
<div style="position:absolute;left:498.74px;top:34.50px" class="cls_017"><span class="cls_017">179</span></div>
<div style="position:absolute;left:36.21px;top:69.16px" class="cls_011"><span class="cls_011">etc., but also to test for accidental short circuits on</span></div>
<div style="position:absolute;left:299.96px;top:69.16px" class="cls_011"><span class="cls_011">As you can see from Figure 10-10, the screen</span></div>
<div style="position:absolute;left:36.21px;top:84.15px" class="cls_011"><span class="cls_011">a circuit board or broken connections in a wire.</span></div>
<div style="position:absolute;left:287.97px;top:84.14px" class="cls_011"><span class="cls_011">showing the waveform is displayed over the top of</span></div>
<div style="position:absolute;left:287.97px;top:99.13px" class="cls_011"><span class="cls_011">a grid. The vertical grid is in units of some fraction</span></div>
<div style="position:absolute;left:48.20px;top:103.13px" class="cls_011"><span class="cls_011">Resistance measurement is occasionally useful,</span></div>
<div style="position:absolute;left:287.97px;top:114.11px" class="cls_011"><span class="cls_011">of volts, which on this screen is 2V per division.</span></div>
<div style="position:absolute;left:36.21px;top:118.11px" class="cls_011"><span class="cls_011">particularly if you want to determine the resistance</span></div>
<div style="position:absolute;left:287.97px;top:129.10px" class="cls_011"><span class="cls_011">So the voltage of the square wave in total is 2.5</span></div>
<div style="position:absolute;left:36.21px;top:133.10px" class="cls_011"><span class="cls_011">of an unmarked resistor, for instance.</span></div>
<div style="position:absolute;left:287.97px;top:144.08px" class="cls_011"><span class="cls_011">2, or 5V.</span></div>
<div style="position:absolute;left:48.20px;top:152.08px" class="cls_011"><span class="cls_011">Some meters also have diode and transistor test</span></div>
<div style="position:absolute;left:299.96px;top:163.06px" class="cls_011"><span class="cls_011">The horizontal axis is the time axis, and this</span></div>
<div style="position:absolute;left:36.21px;top:167.06px" class="cls_011"><span class="cls_011">connections, which can be useful to find and</span></div>
<div style="position:absolute;left:287.97px;top:178.05px" class="cls_011"><span class="cls_011">is calibrated in seconds—in this case, 500</span></div>
<div style="position:absolute;left:36.21px;top:182.05px" class="cls_011"><span class="cls_011">discard transistors that have burned out.</span></div>
<div style="position:absolute;left:287.97px;top:193.03px" class="cls_011"><span class="cls_011">microseconds (mS) per division. So the length of</span></div>
<div style="position:absolute;left:287.97px;top:208.02px" class="cls_011"><span class="cls_011">one complete cycle of the wave is 1000 mS,  that</span></div>
<div style="position:absolute;left:36.21px;top:215.02px" class="cls_005"><span class="cls_005">Oscilloscope</span></div>
<div style="position:absolute;left:287.97px;top:223.00px" class="cls_011"><span class="cls_011">is, 1 millisecond, indicating a frequency of 1KHz.</span></div>
<div style="position:absolute;left:36.21px;top:238.50px" class="cls_011"><span class="cls_011">In Project 18, we built a simple oscilloscope. They</span></div>
<div style="position:absolute;left:36.21px;top:253.48px" class="cls_011"><span class="cls_011">are an indispensable tool for any kind of</span></div>
<div style="position:absolute;left:36.21px;top:268.47px" class="cls_011"><span class="cls_011">electronics design or test where you are looking at</span></div>
<div style="position:absolute;left:287.97px;top:263.47px" class="cls_021"><span class="cls_021">Project Ideas</span></div>
<div style="position:absolute;left:36.21px;top:283.45px" class="cls_011"><span class="cls_011">a signal that changes over time. They are a</span></div>
<div style="position:absolute;left:287.97px;top:289.95px" class="cls_011"><span class="cls_011">The Arduino Playground on the main Arduino</span></div>
<div style="position:absolute;left:36.21px;top:298.44px" class="cls_011"><span class="cls_011">relatively expensive bit of equipment, and there are</span></div>
<div style="position:absolute;left:287.97px;top:304.93px" class="cls_011"><span class="cls_011">website (</span><A HREF="http://www.arduino.cc/">www.arduino.cc</A>) is a great source of</div>
<div style="position:absolute;left:36.21px;top:313.42px" class="cls_011"><span class="cls_011">various types. One of the most cost-effective types</span></div>
<div style="position:absolute;left:287.97px;top:319.92px" class="cls_011"><span class="cls_011">ideas for projects. Indeed, it even has a section</span></div>
<div style="position:absolute;left:36.21px;top:328.41px" class="cls_011"><span class="cls_011">is similar in concept to Project 19. That</span></div>
<div style="position:absolute;left:287.97px;top:334.90px" class="cls_011"><span class="cls_011">specifically for project ideas, divided into easy,</span></div>
<div style="position:absolute;left:36.21px;top:343.39px" class="cls_011"><span class="cls_011">oscilloscope just sends its readings across to a</span></div>
<div style="position:absolute;left:287.97px;top:349.89px" class="cls_011"><span class="cls_011">medium, or difficult.</span></div>
<div style="position:absolute;left:36.21px;top:358.38px" class="cls_011"><span class="cls_011">computer that is responsible for displaying them.</span></div>
<div style="position:absolute;left:299.96px;top:368.87px" class="cls_011"><span class="cls_011">If you type “Arduino project” into your favorite</span></div>
<div style="position:absolute;left:48.20px;top:377.36px" class="cls_011"><span class="cls_011">Entire books have been written about using an</span></div>
<div style="position:absolute;left:287.97px;top:383.85px" class="cls_011"><span class="cls_011">search engine or YouTube, you will find no end of</span></div>
<div style="position:absolute;left:36.21px;top:392.34px" class="cls_011"><span class="cls_011">oscilloscope effectively, and every oscilloscope is</span></div>
<div style="position:absolute;left:287.97px;top:398.84px" class="cls_011"><span class="cls_011">interesting projects that people have embarked on.</span></div>
<div style="position:absolute;left:36.21px;top:407.33px" class="cls_011"><span class="cls_011">different, so we will just cover the basics here.</span></div>
<div style="position:absolute;left:42.21px;top:707.86px" class="cls_025"><span class="cls_025">Figure 10-10</span></div>
<div style="position:absolute;left:108.14px;top:708.85px" class="cls_026"><span class="cls_026">An oscilloscope.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:152880px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background197.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">180</span></div>
<div style="position:absolute;left:82.48px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:48.11px;top:69.16px" class="cls_011"><span class="cls_011">Another source of inspiration is the component</span></div>
<div style="position:absolute;left:287.87px;top:69.16px" class="cls_011"><span class="cls_011">allowed to gestate in the mind of the Evil Genius.</span></div>
<div style="position:absolute;left:36.12px;top:84.15px" class="cls_011"><span class="cls_011">catalog, either online or on paper. Browsing</span></div>
<div style="position:absolute;left:287.87px;top:84.15px" class="cls_011"><span class="cls_011">After exploring all the options and mulling</span></div>
<div style="position:absolute;left:36.12px;top:99.13px" class="cls_011"><span class="cls_011">through, you might come across an interesting</span></div>
<div style="position:absolute;left:287.87px;top:99.13px" class="cls_011"><span class="cls_011">everything over, the Evil Genius’ project will start</span></div>
<div style="position:absolute;left:36.12px;top:114.12px" class="cls_011"><span class="cls_011">component and wonder what you could do with it.</span></div>
<div style="position:absolute;left:287.87px;top:114.12px" class="cls_011"><span class="cls_011">to take shape!</span></div>
<div style="position:absolute;left:36.12px;top:129.10px" class="cls_011"><span class="cls_011">Thinking up a project is something that should be</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:153660px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background198.jpg" width=552 height=770></div>
<div style="position:absolute;left:204.53px;top:54.87px" class="cls_024"><span class="cls_024">A P P E N D I X</span></div>
<div style="position:absolute;left:89.00px;top:103.55px" class="cls_023"><span class="cls_023">Components and Supplies</span></div>
<div style="position:absolute;left:36.21px;top:223.00px" class="cls_016"><span class="cls_016">A</span><span class="cls_019">LL OF THE PARTS USED</span><span class="cls_011"> in this book are readily</span></div>
<div style="position:absolute;left:287.97px;top:222.99px" class="cls_011"><span class="cls_011">components like laser diode modules, their prices</span></div>
<div style="position:absolute;left:36.21px;top:237.98px" class="cls_011"><span class="cls_011">available through the Internet. However, sometimes</span></div>
<div style="position:absolute;left:287.97px;top:237.98px" class="cls_011"><span class="cls_011">can be ten times what you can find elsewhere on</span></div>
<div style="position:absolute;left:36.21px;top:252.97px" class="cls_011"><span class="cls_011">it is a little difficult to track down exactly what you</span></div>
<div style="position:absolute;left:287.97px;top:252.96px" class="cls_011"><span class="cls_011">the Internet. Their main role is to supply to</span></div>
<div style="position:absolute;left:36.21px;top:267.95px" class="cls_011"><span class="cls_011">are looking for. For this reason, this appendix lists</span></div>
<div style="position:absolute;left:287.97px;top:267.95px" class="cls_011"><span class="cls_011">professionals.</span></div>
<div style="position:absolute;left:36.21px;top:282.94px" class="cls_011"><span class="cls_011">the components along with some order codes for</span></div>
<div style="position:absolute;left:299.96px;top:286.93px" class="cls_011"><span class="cls_011">Some smaller suppliers specialize in providing</span></div>
<div style="position:absolute;left:36.21px;top:297.92px" class="cls_011"><span class="cls_011">various suppliers. This is information that will</span></div>
<div style="position:absolute;left:287.97px;top:301.92px" class="cls_011"><span class="cls_011">components for home constructors building</span></div>
<div style="position:absolute;left:36.21px;top:312.91px" class="cls_011"><span class="cls_011">become inaccurate with time, but the big suppliers</span></div>
<div style="position:absolute;left:287.97px;top:316.90px" class="cls_011"><span class="cls_011">microcontroller projects like ours. They do not</span></div>
<div style="position:absolute;left:36.21px;top:327.89px" class="cls_011"><span class="cls_011">like Farnell and RS will usually list an item as “no</span></div>
<div style="position:absolute;left:287.97px;top:331.89px" class="cls_011"><span class="cls_011">have the range of components, but do often have</span></div>
<div style="position:absolute;left:36.21px;top:342.88px" class="cls_011"><span class="cls_011">longer stocked” and offer alternatives.</span></div>
<div style="position:absolute;left:287.97px;top:346.87px" class="cls_011"><span class="cls_011">more exotic and fun components at reasonable</span></div>
<div style="position:absolute;left:287.97px;top:361.86px" class="cls_011"><span class="cls_011">prices. A prime example of this is Sparkfun</span></div>
<div style="position:absolute;left:287.97px;top:376.84px" class="cls_011"><span class="cls_011">Electronics, but there are many others out there.</span></div>
<div style="position:absolute;left:36.21px;top:383.34px" class="cls_021"><span class="cls_021">Suppliers</span></div>
<div style="position:absolute;left:299.96px;top:395.82px" class="cls_011"><span class="cls_011">Sometimes, when you find you just need a</span></div>
<div style="position:absolute;left:36.21px;top:409.82px" class="cls_011"><span class="cls_011">There are so many component suppliers out there</span></div>
<div style="position:absolute;left:287.97px;top:410.81px" class="cls_011"><span class="cls_011">couple of components, it’s great to be able to go to</span></div>
<div style="position:absolute;left:36.21px;top:424.80px" class="cls_011"><span class="cls_011">that it feels a little unfair to list the few that the</span></div>
<div style="position:absolute;left:287.97px;top:425.79px" class="cls_011"><span class="cls_011">a local store and pick them up. RadioShack in the</span></div>
<div style="position:absolute;left:36.21px;top:439.79px" class="cls_011"><span class="cls_011">author knows. So have a look around on the</span></div>
<div style="position:absolute;left:287.97px;top:440.78px" class="cls_011"><span class="cls_011">United States and Maplins in the UK stock a range</span></div>
<div style="position:absolute;left:36.21px;top:454.77px" class="cls_011"><span class="cls_011">Internet, as prices vary considerably between</span></div>
<div style="position:absolute;left:287.97px;top:455.76px" class="cls_011"><span class="cls_011">of components, and are great for this purpose.</span></div>
<div style="position:absolute;left:36.21px;top:469.76px" class="cls_011"><span class="cls_011">suppliers.</span></div>
<div style="position:absolute;left:299.96px;top:474.74px" class="cls_011"><span class="cls_011">The sections that follow list components by</span></div>
<div style="position:absolute;left:48.20px;top:488.74px" class="cls_011"><span class="cls_011">I have listed order codes for Farnell and RS</span></div>
<div style="position:absolute;left:287.97px;top:489.73px" class="cls_011"><span class="cls_011">type, along with some possible sources and order</span></div>
<div style="position:absolute;left:36.21px;top:503.72px" class="cls_011"><span class="cls_011">because they are international, but also carry a</span></div>
<div style="position:absolute;left:287.97px;top:504.71px" class="cls_011"><span class="cls_011">codes where available.</span></div>
<div style="position:absolute;left:36.21px;top:518.71px" class="cls_011"><span class="cls_011">fantastically broad range of stock. There is very</span></div>
<div style="position:absolute;left:36.21px;top:533.69px" class="cls_011"><span class="cls_011">little that you cannot buy from them. They can be</span></div>
<div style="position:absolute;left:36.21px;top:548.68px" class="cls_011"><span class="cls_011">surprisingly cheap for common components, like</span></div>
<div style="position:absolute;left:36.21px;top:563.66px" class="cls_011"><span class="cls_011">resistors and semiconductors, but for unusual</span></div>
<div style="position:absolute;left:501.02px;top:718.82px" class="cls_017"><span class="cls_017">181</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:154440px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background199.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">182</span></div>
<div style="position:absolute;left:81.41px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:43.11px;top:76.46px" class="cls_032"><span class="cls_032">Arduino and Clones</span></div>
<div style="position:absolute;left:49.14px;top:100.24px" class="cls_029"><span class="cls_029">Code</span></div>
<div style="position:absolute;left:115.84px;top:100.24px" class="cls_029"><span class="cls_029">Description</span></div>
<div style="position:absolute;left:331.64px;top:100.24px" class="cls_029"><span class="cls_029">RS</span></div>
<div style="position:absolute;left:62.70px;top:120.22px" class="cls_026"><span class="cls_026">1</span></div>
<div style="position:absolute;left:115.84px;top:120.22px" class="cls_026"><span class="cls_026">Arduino Duemilanove</span></div>
<div style="position:absolute;left:331.64px;top:120.22px" class="cls_026"><span class="cls_026">696-1655</span></div>
<div style="position:absolute;left:61.61px;top:137.20px" class="cls_026"><span class="cls_026">2</span></div>
<div style="position:absolute;left:115.84px;top:137.20px" class="cls_026"><span class="cls_026">Arduino Lilypad</span></div>
<div style="position:absolute;left:331.64px;top:137.20px" class="cls_026"><span class="cls_026">—</span></div>
<div style="position:absolute;left:61.55px;top:154.19px" class="cls_026"><span class="cls_026">3</span></div>
<div style="position:absolute;left:115.84px;top:154.19px" class="cls_026"><span class="cls_026">Arduino Shield Kit</span></div>
<div style="position:absolute;left:331.64px;top:154.19px" class="cls_026"><span class="cls_026">696-1673</span></div>
<div style="position:absolute;left:36.12px;top:175.23px" class="cls_030"><span class="cls_030">Other suppliers to check include eBay, Sparkfun, Robotshop.com, and Adafruit.</span></div>
<div style="position:absolute;left:43.11px;top:212.93px" class="cls_032"><span class="cls_032">Resistors</span></div>
<div style="position:absolute;left:49.14px;top:236.71px" class="cls_029"><span class="cls_029">Code</span></div>
<div style="position:absolute;left:115.84px;top:236.71px" class="cls_029"><span class="cls_029">Description</span></div>
<div style="position:absolute;left:331.64px;top:236.71px" class="cls_029"><span class="cls_029">Farnell</span></div>
<div style="position:absolute;left:438.74px;top:236.71px" class="cls_029"><span class="cls_029">RS</span></div>
<div style="position:absolute;left:61.29px;top:256.69px" class="cls_026"><span class="cls_026">4</span></div>
<div style="position:absolute;left:115.84px;top:256.69px" class="cls_026"><span class="cls_026">39</span></div>
<div style="position:absolute;left:140.05px;top:256.69px" class="cls_026"><span class="cls_026">0.5W metal film</span></div>
<div style="position:absolute;left:331.60px;top:256.69px" class="cls_026"><span class="cls_026">9338756</span></div>
<div style="position:absolute;left:438.69px;top:256.69px" class="cls_026"><span class="cls_026">683-3601</span></div>
<div style="position:absolute;left:61.56px;top:273.67px" class="cls_026"><span class="cls_026">5</span></div>
<div style="position:absolute;left:115.84px;top:273.67px" class="cls_026"><span class="cls_026">100</span></div>
<div style="position:absolute;left:144.84px;top:273.67px" class="cls_026"><span class="cls_026">0.5W metal film</span></div>
<div style="position:absolute;left:331.58px;top:273.67px" class="cls_026"><span class="cls_026">9339760</span></div>
<div style="position:absolute;left:438.71px;top:273.67px" class="cls_026"><span class="cls_026">683-3257</span></div>
<div style="position:absolute;left:61.40px;top:290.65px" class="cls_026"><span class="cls_026">6</span></div>
<div style="position:absolute;left:115.84px;top:290.65px" class="cls_026"><span class="cls_026">270</span></div>
<div style="position:absolute;left:145.65px;top:290.65px" class="cls_026"><span class="cls_026">0.5W metal film</span></div>
<div style="position:absolute;left:331.64px;top:290.65px" class="cls_026"><span class="cls_026">9340300</span></div>
<div style="position:absolute;left:438.74px;top:290.65px" class="cls_026"><span class="cls_026">148-360A</span></div>
<div style="position:absolute;left:61.63px;top:307.64px" class="cls_026"><span class="cls_026">7</span></div>
<div style="position:absolute;left:115.84px;top:307.64px" class="cls_026"><span class="cls_026">1 K</span></div>
<div style="position:absolute;left:138.45px;top:307.64px" class="cls_026"><span class="cls_026">0.5W metal film</span></div>
<div style="position:absolute;left:331.58px;top:307.64px" class="cls_026"><span class="cls_026">9339779</span></div>
<div style="position:absolute;left:438.71px;top:307.64px" class="cls_026"><span class="cls_026">477-7928</span></div>
<div style="position:absolute;left:61.47px;top:324.62px" class="cls_026"><span class="cls_026">8</span></div>
<div style="position:absolute;left:115.84px;top:324.62px" class="cls_026"><span class="cls_026">4.7 K</span></div>
<div style="position:absolute;left:148.64px;top:324.62px" class="cls_026"><span class="cls_026">0.5W metal film</span></div>
<div style="position:absolute;left:331.64px;top:324.62px" class="cls_026"><span class="cls_026">9340629</span></div>
<div style="position:absolute;left:438.74px;top:324.62px" class="cls_026"><span class="cls_026">683-3799</span></div>
<div style="position:absolute;left:61.40px;top:341.60px" class="cls_026"><span class="cls_026">9</span></div>
<div style="position:absolute;left:115.84px;top:341.60px" class="cls_026"><span class="cls_026">10 K</span></div>
<div style="position:absolute;left:144.87px;top:341.60px" class="cls_026"><span class="cls_026">0.5W metal film</span></div>
<div style="position:absolute;left:331.55px;top:341.60px" class="cls_026"><span class="cls_026">9339787</span></div>
<div style="position:absolute;left:438.68px;top:341.60px" class="cls_026"><span class="cls_026">683-2939</span></div>
<div style="position:absolute;left:56.27px;top:358.59px" class="cls_026"><span class="cls_026">10</span></div>
<div style="position:absolute;left:115.84px;top:358.59px" class="cls_026"><span class="cls_026">33 K</span></div>
<div style="position:absolute;left:146.25px;top:358.59px" class="cls_026"><span class="cls_026">0.5W metal film</span></div>
<div style="position:absolute;left:331.64px;top:358.59px" class="cls_026"><span class="cls_026">9340424</span></div>
<div style="position:absolute;left:438.74px;top:358.59px" class="cls_026"><span class="cls_026">683-3544</span></div>
<div style="position:absolute;left:57.87px;top:375.57px" class="cls_026"><span class="cls_026">11</span></div>
<div style="position:absolute;left:115.84px;top:375.57px" class="cls_026"><span class="cls_026">47 K</span></div>
<div style="position:absolute;left:146.28px;top:375.57px" class="cls_026"><span class="cls_026">0.5W metal film</span></div>
<div style="position:absolute;left:331.64px;top:375.57px" class="cls_026"><span class="cls_026">9340637</span></div>
<div style="position:absolute;left:438.74px;top:375.57px" class="cls_026"><span class="cls_026">506-5434</span></div>
<div style="position:absolute;left:56.79px;top:392.56px" class="cls_026"><span class="cls_026">12</span></div>
<div style="position:absolute;left:115.84px;top:392.56px" class="cls_026"><span class="cls_026">56 K</span></div>
<div style="position:absolute;left:146.54px;top:392.56px" class="cls_026"><span class="cls_026">0.5W metal film</span></div>
<div style="position:absolute;left:331.64px;top:392.56px" class="cls_026"><span class="cls_026">9340742</span></div>
<div style="position:absolute;left:438.74px;top:392.56px" class="cls_026"><span class="cls_026">683-4206</span></div>
<div style="position:absolute;left:56.73px;top:409.54px" class="cls_026"><span class="cls_026">13</span></div>
<div style="position:absolute;left:115.84px;top:409.54px" class="cls_026"><span class="cls_026">100 K</span></div>
<div style="position:absolute;left:151.30px;top:409.54px" class="cls_026"><span class="cls_026">0.5W metal film</span></div>
<div style="position:absolute;left:331.58px;top:409.54px" class="cls_026"><span class="cls_026">9339795</span></div>
<div style="position:absolute;left:438.72px;top:409.54px" class="cls_026"><span class="cls_026">683-2923</span></div>
<div style="position:absolute;left:56.47px;top:426.52px" class="cls_026"><span class="cls_026">14</span></div>
<div style="position:absolute;left:115.84px;top:426.52px" class="cls_026"><span class="cls_026">470 K</span></div>
<div style="position:absolute;left:152.53px;top:426.52px" class="cls_026"><span class="cls_026">0.5W metal film</span></div>
<div style="position:absolute;left:331.64px;top:426.52px" class="cls_026"><span class="cls_026">9340645</span></div>
<div style="position:absolute;left:438.74px;top:426.52px" class="cls_026"><span class="cls_026">683-3730</span></div>
<div style="position:absolute;left:56.73px;top:443.51px" class="cls_026"><span class="cls_026">15</span></div>
<div style="position:absolute;left:115.84px;top:443.51px" class="cls_026"><span class="cls_026">1 M</span></div>
<div style="position:absolute;left:139.78px;top:443.51px" class="cls_026"><span class="cls_026">0.5W metal film</span></div>
<div style="position:absolute;left:331.57px;top:443.51px" class="cls_026"><span class="cls_026">9339809</span></div>
<div style="position:absolute;left:438.69px;top:443.51px" class="cls_026"><span class="cls_026">683-4159</span></div>
<div style="position:absolute;left:56.57px;top:460.49px" class="cls_026"><span class="cls_026">16</span></div>
<div style="position:absolute;left:115.84px;top:460.49px" class="cls_026"><span class="cls_026">4</span></div>
<div style="position:absolute;left:134.79px;top:460.49px" class="cls_026"><span class="cls_026">1W</span></div>
<div style="position:absolute;left:331.63px;top:460.49px" class="cls_026"><span class="cls_026">1155042</span></div>
<div style="position:absolute;left:438.73px;top:460.49px" class="cls_026"><span class="cls_026">683-5477</span></div>
<div style="position:absolute;left:56.80px;top:477.47px" class="cls_026"><span class="cls_026">17</span></div>
<div style="position:absolute;left:115.84px;top:477.47px" class="cls_026"><span class="cls_026">100 K   linear potentiometer</span></div>
<div style="position:absolute;left:331.60px;top:477.47px" class="cls_026"><span class="cls_026">1227589</span></div>
<div style="position:absolute;left:438.73px;top:477.47px" class="cls_026"><span class="cls_026">249-9266</span></div>
<div style="position:absolute;left:56.65px;top:494.46px" class="cls_026"><span class="cls_026">18</span></div>
<div style="position:absolute;left:115.83px;top:494.46px" class="cls_026"><span class="cls_026">Thermistor, NTC, 33K at 25C, beta 4090</span></div>
<div style="position:absolute;left:331.64px;top:494.46px" class="cls_026"><span class="cls_026">1672317RL</span></div>
<div style="position:absolute;left:438.72px;top:494.46px" class="cls_026"><span class="cls_026">188-5278</span></div>
<div style="position:absolute;left:331.62px;top:507.44px" class="cls_026"><span class="cls_026">(note, beta = 3950)</span></div>
<div style="position:absolute;left:438.77px;top:507.44px" class="cls_026"><span class="cls_026">(note R = 30K,</span></div>
<div style="position:absolute;left:438.72px;top:520.43px" class="cls_026"><span class="cls_026">beta = 4100)</span></div>
<div style="position:absolute;left:56.57px;top:537.41px" class="cls_026"><span class="cls_026">19</span></div>
<div style="position:absolute;left:115.83px;top:537.41px" class="cls_026"><span class="cls_026">LDR</span></div>
<div style="position:absolute;left:331.62px;top:537.41px" class="cls_026"><span class="cls_026">7482280</span></div>
<div style="position:absolute;left:438.70px;top:537.41px" class="cls_026"><span class="cls_026">596-141</span></div>
<div style="position:absolute;left:43.11px;top:591.96px" class="cls_032"><span class="cls_032">Capacitors</span></div>
<div style="position:absolute;left:49.14px;top:615.74px" class="cls_029"><span class="cls_029">Code</span></div>
<div style="position:absolute;left:115.84px;top:615.74px" class="cls_029"><span class="cls_029">Description</span></div>
<div style="position:absolute;left:331.64px;top:615.74px" class="cls_029"><span class="cls_029">Farnell</span></div>
<div style="position:absolute;left:438.74px;top:615.74px" class="cls_029"><span class="cls_029">RS</span></div>
<div style="position:absolute;left:55.19px;top:635.72px" class="cls_026"><span class="cls_026">20</span></div>
<div style="position:absolute;left:115.84px;top:635.72px" class="cls_026"><span class="cls_026">100nF nonpolarized</span></div>
<div style="position:absolute;left:331.64px;top:635.72px" class="cls_026"><span class="cls_026">1200414</span></div>
<div style="position:absolute;left:438.74px;top:635.72px" class="cls_026"><span class="cls_026">538-1203A</span></div>
<div style="position:absolute;left:56.79px;top:652.70px" class="cls_026"><span class="cls_026">21</span></div>
<div style="position:absolute;left:115.84px;top:652.70px" class="cls_026"><span class="cls_026">220nF nonpolarized</span></div>
<div style="position:absolute;left:331.64px;top:652.70px" class="cls_026"><span class="cls_026">1216441</span></div>
<div style="position:absolute;left:438.74px;top:652.70px" class="cls_026"><span class="cls_026">107-029</span></div>
<div style="position:absolute;left:55.71px;top:669.68px" class="cls_026"><span class="cls_026">22</span></div>
<div style="position:absolute;left:115.84px;top:669.68px" class="cls_026"><span class="cls_026">100   F electrolytic</span></div>
<div style="position:absolute;left:331.61px;top:669.68px" class="cls_026"><span class="cls_026">1136275</span></div>
<div style="position:absolute;left:438.70px;top:669.68px" class="cls_026"><span class="cls_026">501-9100</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:155220px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background200.jpg" width=552 height=770></div>
<div style="position:absolute;left:257.73px;top:34.50px" class="cls_018"><span class="cls_018">Appendix</span></div>
<div style="position:absolute;left:320.22px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    Components and Supplies</span></div>
<div style="position:absolute;left:499.04px;top:34.50px" class="cls_017"><span class="cls_017">183</span></div>
<div style="position:absolute;left:43.21px;top:76.46px" class="cls_032"><span class="cls_032">Semiconductors</span></div>
<div style="position:absolute;left:49.24px;top:100.24px" class="cls_029"><span class="cls_029">Code</span></div>
<div style="position:absolute;left:103.15px;top:100.24px" class="cls_029"><span class="cls_029">Description</span></div>
<div style="position:absolute;left:270.99px;top:100.24px" class="cls_029"><span class="cls_029">Farnell</span></div>
<div style="position:absolute;left:366.91px;top:100.24px" class="cls_029"><span class="cls_029">RS</span></div>
<div style="position:absolute;left:450.83px;top:100.24px" class="cls_029"><span class="cls_029">Other</span></div>
<div style="position:absolute;left:55.74px;top:120.22px" class="cls_026"><span class="cls_026">23</span></div>
<div style="position:absolute;left:103.15px;top:120.22px" class="cls_026"><span class="cls_026">5-mm red LED</span></div>
<div style="position:absolute;left:270.99px;top:120.22px" class="cls_026"><span class="cls_026">1712786</span></div>
<div style="position:absolute;left:366.90px;top:120.22px" class="cls_026"><span class="cls_026">247-1151</span></div>
<div style="position:absolute;left:450.82px;top:120.22px" class="cls_026"><span class="cls_026">Local store</span></div>
<div style="position:absolute;left:55.60px;top:137.20px" class="cls_026"><span class="cls_026">24</span></div>
<div style="position:absolute;left:103.15px;top:137.20px" class="cls_026"><span class="cls_026">5-mm yellow LED</span></div>
<div style="position:absolute;left:270.99px;top:137.20px" class="cls_026"><span class="cls_026">1612434</span></div>
<div style="position:absolute;left:366.90px;top:137.20px" class="cls_026"><span class="cls_026">229-2554</span></div>
<div style="position:absolute;left:55.75px;top:154.19px" class="cls_026"><span class="cls_026">25</span></div>
<div style="position:absolute;left:103.15px;top:154.19px" class="cls_026"><span class="cls_026">5-mm green LED</span></div>
<div style="position:absolute;left:271.00px;top:154.19px" class="cls_026"><span class="cls_026">1461633</span></div>
<div style="position:absolute;left:366.91px;top:154.19px" class="cls_026"><span class="cls_026">229-2548</span></div>
<div style="position:absolute;left:55.59px;top:171.17px" class="cls_026"><span class="cls_026">26</span></div>
<div style="position:absolute;left:103.15px;top:171.17px" class="cls_026"><span class="cls_026">5-mm IR LED sender 940 nm</span></div>
<div style="position:absolute;left:271.01px;top:171.17px" class="cls_026"><span class="cls_026">1020634</span></div>
<div style="position:absolute;left:366.92px;top:171.17px" class="cls_026"><span class="cls_026">455-7982</span></div>
<div style="position:absolute;left:55.87px;top:188.15px" class="cls_026"><span class="cls_026">27</span></div>
<div style="position:absolute;left:103.15px;top:188.15px" class="cls_026"><span class="cls_026">3-mm red LED</span></div>
<div style="position:absolute;left:270.99px;top:188.15px" class="cls_026"><span class="cls_026">7605481</span></div>
<div style="position:absolute;left:366.90px;top:188.15px" class="cls_026"><span class="cls_026">654-2263</span></div>
<div style="position:absolute;left:55.67px;top:205.14px" class="cls_026"><span class="cls_026">28</span></div>
<div style="position:absolute;left:103.15px;top:205.14px" class="cls_026"><span class="cls_026">3-mm green LED</span></div>
<div style="position:absolute;left:271.00px;top:205.14px" class="cls_026"><span class="cls_026">1142523</span></div>
<div style="position:absolute;left:366.91px;top:205.14px" class="cls_026"><span class="cls_026">619-2852</span></div>
<div style="position:absolute;left:55.59px;top:222.12px" class="cls_026"><span class="cls_026">29</span></div>
<div style="position:absolute;left:103.15px;top:222.12px" class="cls_026"><span class="cls_026">3-mm blue LED</span></div>
<div style="position:absolute;left:270.99px;top:222.12px" class="cls_026"><span class="cls_026">1612441</span></div>
<div style="position:absolute;left:366.90px;top:222.12px" class="cls_026"><span class="cls_026">247-1561</span></div>
<div style="position:absolute;left:55.22px;top:239.11px" class="cls_026"><span class="cls_026">30</span></div>
<div style="position:absolute;left:103.15px;top:239.11px" class="cls_026"><span class="cls_026">1W white Luxeon LED</span></div>
<div style="position:absolute;left:271.00px;top:239.11px" class="cls_026"><span class="cls_026">1106587</span></div>
<div style="position:absolute;left:366.91px;top:239.11px" class="cls_026"><span class="cls_026">467-7698</span></div>
<div style="position:absolute;left:450.83px;top:239.11px" class="cls_026"><span class="cls_026">eBay</span></div>
<div style="position:absolute;left:56.83px;top:256.09px" class="cls_026"><span class="cls_026">31</span></div>
<div style="position:absolute;left:103.15px;top:256.09px" class="cls_026"><span class="cls_026">RGB LED (common anode)</span></div>
<div style="position:absolute;left:271.00px;top:256.09px" class="cls_026"><span class="cls_026">1168585</span></div>
<div style="position:absolute;left:366.91px;top:256.09px" class="cls_026"><span class="cls_026">247-1505</span></div>
<div style="position:absolute;left:270.99px;top:269.08px" class="cls_026"><span class="cls_026">(note: this has</span></div>
<div style="position:absolute;left:366.90px;top:269.08px" class="cls_026"><span class="cls_026">(note: this has</span></div>
<div style="position:absolute;left:450.83px;top:269.08px" class="cls_026"><span class="cls_026">eBay</span></div>
<div style="position:absolute;left:270.99px;top:282.06px" class="cls_026"><span class="cls_026">separate leads</span></div>
<div style="position:absolute;left:366.88px;top:282.06px" class="cls_026"><span class="cls_026">separate leads</span></div>
<div style="position:absolute;left:270.99px;top:295.05px" class="cls_026"><span class="cls_026">rather than</span></div>
<div style="position:absolute;left:366.90px;top:295.05px" class="cls_026"><span class="cls_026">rather than</span></div>
<div style="position:absolute;left:270.99px;top:308.04px" class="cls_026"><span class="cls_026">common anode)</span></div>
<div style="position:absolute;left:366.90px;top:308.04px" class="cls_026"><span class="cls_026">common anode)</span></div>
<div style="position:absolute;left:55.74px;top:325.02px" class="cls_026"><span class="cls_026">32</span></div>
<div style="position:absolute;left:103.15px;top:325.02px" class="cls_026"><span class="cls_026">3mW red laser diode module</span></div>
<div style="position:absolute;left:271.01px;top:325.02px" class="cls_026"><span class="cls_026">$$$</span></div>
<div style="position:absolute;left:366.92px;top:325.02px" class="cls_026"><span class="cls_026">$$$</span></div>
<div style="position:absolute;left:450.83px;top:325.02px" class="cls_026"><span class="cls_026">eBay or</span></div>
<div style="position:absolute;left:450.81px;top:338.01px" class="cls_026"><span class="cls_026">salvage from</span></div>
<div style="position:absolute;left:450.81px;top:350.99px" class="cls_026"><span class="cls_026">cheap laser</span></div>
<div style="position:absolute;left:450.81px;top:363.98px" class="cls_026"><span class="cls_026">pointer</span></div>
<div style="position:absolute;left:55.68px;top:380.96px" class="cls_026"><span class="cls_026">33</span></div>
<div style="position:absolute;left:103.15px;top:380.96px" class="cls_026"><span class="cls_026">2-digit, 7-segment LED display</span></div>
<div style="position:absolute;left:270.95px;top:380.96px" class="cls_026"><span class="cls_026">1003316</span></div>
<div style="position:absolute;left:366.85px;top:380.96px" class="cls_026"><span class="cls_026">195-136</span></div>
<div style="position:absolute;left:103.15px;top:393.95px" class="cls_026"><span class="cls_026">(common anode)</span></div>
<div style="position:absolute;left:55.42px;top:410.93px" class="cls_026"><span class="cls_026">34</span></div>
<div style="position:absolute;left:103.15px;top:410.93px" class="cls_026"><span class="cls_026">8 x 8 LED array (2 color)</span></div>
<div style="position:absolute;left:271.00px;top:410.93px" class="cls_026"><span class="cls_026">—</span></div>
<div style="position:absolute;left:366.91px;top:410.93px" class="cls_026"><span class="cls_026">—</span></div>
<div style="position:absolute;left:450.83px;top:410.93px" class="cls_026"><span class="cls_026">Sparkfun</span></div>
<div style="position:absolute;left:55.71px;top:427.92px" class="cls_026"><span class="cls_026">35</span></div>
<div style="position:absolute;left:103.19px;top:427.92px" class="cls_026"><span class="cls_026">10-segment bar graph display</span></div>
<div style="position:absolute;left:270.96px;top:427.92px" class="cls_026"><span class="cls_026">1020492</span></div>
<div style="position:absolute;left:366.85px;top:427.92px" class="cls_026"><span class="cls_026">—</span></div>
<div style="position:absolute;left:55.53px;top:444.90px" class="cls_026"><span class="cls_026">36</span></div>
<div style="position:absolute;left:103.15px;top:444.90px" class="cls_026"><span class="cls_026">IR phototransistor 935 nm</span></div>
<div style="position:absolute;left:270.95px;top:444.90px" class="cls_026"><span class="cls_026">1497882</span></div>
<div style="position:absolute;left:366.85px;top:444.90px" class="cls_026"><span class="cls_026">195-530</span></div>
<div style="position:absolute;left:55.87px;top:461.88px" class="cls_026"><span class="cls_026">37</span></div>
<div style="position:absolute;left:103.15px;top:461.88px" class="cls_026"><span class="cls_026">IR remote control receiver 940 nm</span></div>
<div style="position:absolute;left:271.00px;top:461.88px" class="cls_026"><span class="cls_026">4142822</span></div>
<div style="position:absolute;left:366.91px;top:461.88px" class="cls_026"><span class="cls_026">315-387</span></div>
<div style="position:absolute;left:55.61px;top:478.87px" class="cls_026"><span class="cls_026">38</span></div>
<div style="position:absolute;left:103.14px;top:478.87px" class="cls_026"><span class="cls_026">1N4004 diode</span></div>
<div style="position:absolute;left:270.91px;top:478.87px" class="cls_026"><span class="cls_026">9109595</span></div>
<div style="position:absolute;left:366.90px;top:478.87px" class="cls_026"><span class="cls_026">628-9029</span></div>
<div style="position:absolute;left:55.55px;top:495.85px" class="cls_026"><span class="cls_026">39</span></div>
<div style="position:absolute;left:103.19px;top:495.85px" class="cls_026"><span class="cls_026">BC307/ BC556 transistor</span></div>
<div style="position:absolute;left:271.00px;top:495.85px" class="cls_026"><span class="cls_026">1611157</span></div>
<div style="position:absolute;left:366.89px;top:495.85px" class="cls_026"><span class="cls_026">544-9309A</span></div>
<div style="position:absolute;left:54.96px;top:512.83px" class="cls_026"><span class="cls_026">40</span></div>
<div style="position:absolute;left:103.15px;top:512.83px" class="cls_026"><span class="cls_026">BC548 transistor</span></div>
<div style="position:absolute;left:271.00px;top:512.83px" class="cls_026"><span class="cls_026">1467872</span></div>
<div style="position:absolute;left:366.91px;top:512.83px" class="cls_026"><span class="cls_026">625-4584</span></div>
<div style="position:absolute;left:56.66px;top:529.82px" class="cls_026"><span class="cls_026">41</span></div>
<div style="position:absolute;left:103.15px;top:529.82px" class="cls_026"><span class="cls_026">DB139 transistor</span></div>
<div style="position:absolute;left:270.98px;top:529.82px" class="cls_026"><span class="cls_026">1574350</span></div>
<div style="position:absolute;left:366.92px;top:529.82px" class="cls_026"><span class="cls_026">—</span></div>
<div style="position:absolute;left:55.48px;top:546.80px" class="cls_026"><span class="cls_026">42</span></div>
<div style="position:absolute;left:103.15px;top:546.80px" class="cls_026"><span class="cls_026">2N7000 FET</span></div>
<div style="position:absolute;left:271.00px;top:546.80px" class="cls_026"><span class="cls_026">9845178</span></div>
<div style="position:absolute;left:366.91px;top:546.80px" class="cls_026"><span class="cls_026">671-4733</span></div>
<div style="position:absolute;left:55.42px;top:563.79px" class="cls_026"><span class="cls_026">43</span></div>
<div style="position:absolute;left:103.15px;top:563.79px" class="cls_026"><span class="cls_026">N-channel power</span></div>
<div style="position:absolute;left:270.94px;top:563.79px" class="cls_026"><span class="cls_026">9845534</span></div>
<div style="position:absolute;left:366.87px;top:563.79px" class="cls_026"><span class="cls_026">671-5095</span></div>
<div style="position:absolute;left:103.15px;top:576.77px" class="cls_026"><span class="cls_026">MOSFET. FQP33N10</span></div>
<div style="position:absolute;left:55.16px;top:593.76px" class="cls_026"><span class="cls_026">44</span></div>
<div style="position:absolute;left:103.15px;top:593.76px" class="cls_026"><span class="cls_026">P-channel power</span></div>
<div style="position:absolute;left:271.00px;top:593.76px" class="cls_026"><span class="cls_026">9846530</span></div>
<div style="position:absolute;left:366.91px;top:593.76px" class="cls_026"><span class="cls_026">671-5064</span></div>
<div style="position:absolute;left:103.15px;top:606.74px" class="cls_026"><span class="cls_026">MOSFET. FQP27P06</span></div>
<div style="position:absolute;left:55.43px;top:623.73px" class="cls_026"><span class="cls_026">45</span></div>
<div style="position:absolute;left:103.15px;top:623.73px" class="cls_026"><span class="cls_026">LM317 voltage regulator</span></div>
<div style="position:absolute;left:270.99px;top:623.73px" class="cls_026"><span class="cls_026">1705990</span></div>
<div style="position:absolute;left:366.93px;top:623.73px" class="cls_026"><span class="cls_026">686-9717</span></div>
<div style="position:absolute;left:55.27px;top:640.71px" class="cls_026"><span class="cls_026">46</span></div>
<div style="position:absolute;left:103.15px;top:640.71px" class="cls_026"><span class="cls_026">4017 decade counter</span></div>
<div style="position:absolute;left:270.96px;top:640.71px" class="cls_026"><span class="cls_026">1201278</span></div>
<div style="position:absolute;left:366.90px;top:640.71px" class="cls_026"><span class="cls_026">519-0120</span></div>
<div style="position:absolute;left:55.66px;top:657.69px" class="cls_026"><span class="cls_026">47</span></div>
<div style="position:absolute;left:103.15px;top:657.69px" class="cls_026"><span class="cls_026">TDA7052 1W audio amplifier</span></div>
<div style="position:absolute;left:271.00px;top:657.69px" class="cls_026"><span class="cls_026">526198</span></div>
<div style="position:absolute;left:366.91px;top:657.69px" class="cls_026"><span class="cls_026">658-485A</span></div>
<div style="position:absolute;left:36.21px;top:680.27px" class="cls_030"><span class="cls_030">Other suppliers to check, especially for LEDs, etc., include eBay, Sparkfun, Robotshop.com, and Adafruit.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:156000px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background201.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">184</span></div>
<div style="position:absolute;left:82.07px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:43.11px;top:76.46px" class="cls_032"><span class="cls_032">Other</span></div>
<div style="position:absolute;left:49.14px;top:100.24px" class="cls_029"><span class="cls_029">Code</span></div>
<div style="position:absolute;left:103.05px;top:100.24px" class="cls_029"><span class="cls_029">Description</span></div>
<div style="position:absolute;left:270.90px;top:100.24px" class="cls_029"><span class="cls_029">Farnell</span></div>
<div style="position:absolute;left:366.81px;top:100.24px" class="cls_029"><span class="cls_029">RS</span></div>
<div style="position:absolute;left:450.73px;top:100.24px" class="cls_029"><span class="cls_029">Other</span></div>
<div style="position:absolute;left:55.25px;top:120.22px" class="cls_026"><span class="cls_026">48</span></div>
<div style="position:absolute;left:103.05px;top:120.22px" class="cls_026"><span class="cls_026">Miniature push switch</span></div>
<div style="position:absolute;left:270.91px;top:120.22px" class="cls_026"><span class="cls_026">1448152</span></div>
<div style="position:absolute;left:366.80px;top:120.22px" class="cls_026"><span class="cls_026">102-406</span></div>
<div style="position:absolute;left:55.21px;top:137.20px" class="cls_026"><span class="cls_026">49</span></div>
<div style="position:absolute;left:103.05px;top:137.20px" class="cls_026"><span class="cls_026">2.1-mm Power plug</span></div>
<div style="position:absolute;left:270.89px;top:137.20px" class="cls_026"><span class="cls_026">1200147</span></div>
<div style="position:absolute;left:366.83px;top:137.20px" class="cls_026"><span class="cls_026">455-132</span></div>
<div style="position:absolute;left:450.73px;top:137.20px" class="cls_026"><span class="cls_026">Local store</span></div>
<div style="position:absolute;left:55.13px;top:154.19px" class="cls_026"><span class="cls_026">50</span></div>
<div style="position:absolute;left:103.05px;top:154.19px" class="cls_026"><span class="cls_026">9V battery clip</span></div>
<div style="position:absolute;left:270.91px;top:154.19px" class="cls_026"><span class="cls_026">1650667</span></div>
<div style="position:absolute;left:366.80px;top:154.19px" class="cls_026"><span class="cls_026">489-021A</span></div>
<div style="position:absolute;left:450.74px;top:154.19px" class="cls_026"><span class="cls_026">Local store</span></div>
<div style="position:absolute;left:56.73px;top:171.17px" class="cls_026"><span class="cls_026">51</span></div>
<div style="position:absolute;left:103.05px;top:171.17px" class="cls_026"><span class="cls_026">Regulated 15V 1.5A power supply</span></div>
<div style="position:absolute;left:270.88px;top:171.17px" class="cls_026"><span class="cls_026">1354828</span></div>
<div style="position:absolute;left:366.82px;top:171.17px" class="cls_026"><span class="cls_026">238-151</span></div>
<div style="position:absolute;left:55.70px;top:188.15px" class="cls_026"><span class="cls_026">52</span></div>
<div style="position:absolute;left:103.05px;top:188.15px" class="cls_026"><span class="cls_026">3-way screw terminal</span></div>
<div style="position:absolute;left:270.90px;top:188.15px" class="cls_026"><span class="cls_026">1641933</span></div>
<div style="position:absolute;left:366.81px;top:188.15px" class="cls_026"><span class="cls_026">220-4276</span></div>
<div style="position:absolute;left:55.61px;top:205.14px" class="cls_026"><span class="cls_026">53</span></div>
<div style="position:absolute;left:103.09px;top:205.14px" class="cls_026"><span class="cls_026">Perf board</span></div>
<div style="position:absolute;left:270.94px;top:205.14px" class="cls_026"><span class="cls_026">1172145</span></div>
<div style="position:absolute;left:366.83px;top:205.14px" class="cls_026"><span class="cls_026">206-8648</span></div>
<div style="position:absolute;left:450.71px;top:205.14px" class="cls_026"><span class="cls_026">Local store</span></div>
<div style="position:absolute;left:55.33px;top:222.12px" class="cls_026"><span class="cls_026">54</span></div>
<div style="position:absolute;left:103.05px;top:222.12px" class="cls_026"><span class="cls_026">4 x 3 keypad</span></div>
<div style="position:absolute;left:270.90px;top:222.12px" class="cls_026"><span class="cls_026">1182232</span></div>
<div style="position:absolute;left:366.81px;top:222.12px" class="cls_026"><span class="cls_026">115-6031</span></div>
<div style="position:absolute;left:55.59px;top:239.11px" class="cls_026"><span class="cls_026">55</span></div>
<div style="position:absolute;left:103.05px;top:239.11px" class="cls_026"><span class="cls_026">0.1-inch header strip</span></div>
<div style="position:absolute;left:270.85px;top:239.11px" class="cls_026"><span class="cls_026">1097954</span></div>
<div style="position:absolute;left:366.79px;top:239.11px" class="cls_026"><span class="cls_026">668-9551</span></div>
<div style="position:absolute;left:55.43px;top:256.09px" class="cls_026"><span class="cls_026">56</span></div>
<div style="position:absolute;left:103.05px;top:256.09px" class="cls_026"><span class="cls_026">0.1-inch socket strip</span></div>
<div style="position:absolute;left:270.84px;top:256.09px" class="cls_026"><span class="cls_026">1218869</span></div>
<div style="position:absolute;left:366.73px;top:256.09px" class="cls_026"><span class="cls_026">277-9584</span></div>
<div style="position:absolute;left:55.80px;top:273.07px" class="cls_026"><span class="cls_026">57</span></div>
<div style="position:absolute;left:103.05px;top:273.07px" class="cls_026"><span class="cls_026">Rotary encoder with push switch</span></div>
<div style="position:absolute;left:270.91px;top:273.07px" class="cls_026"><span class="cls_026">1520815</span></div>
<div style="position:absolute;left:366.82px;top:273.07px" class="cls_026"><span class="cls_026">—</span></div>
<div style="position:absolute;left:55.51px;top:290.06px" class="cls_026"><span class="cls_026">58</span></div>
<div style="position:absolute;left:103.05px;top:290.06px" class="cls_026"><span class="cls_026">LCD module (HD44780 controller)</span></div>
<div style="position:absolute;left:270.91px;top:290.06px" class="cls_026"><span class="cls_026">1137380</span></div>
<div style="position:absolute;left:366.82px;top:290.06px" class="cls_026"><span class="cls_026">532-6408</span></div>
<div style="position:absolute;left:450.79px;top:290.06px" class="cls_026"><span class="cls_026">eBay,</span></div>
<div style="position:absolute;left:450.71px;top:303.04px" class="cls_026"><span class="cls_026">Sparkfun</span></div>
<div style="position:absolute;left:55.46px;top:320.03px" class="cls_026"><span class="cls_026">59</span></div>
<div style="position:absolute;left:103.09px;top:320.03px" class="cls_026"><span class="cls_026">Miniature 8    loudspeaker</span></div>
<div style="position:absolute;left:270.86px;top:320.03px" class="cls_026"><span class="cls_026">1300022</span></div>
<div style="position:absolute;left:366.75px;top:320.03px" class="cls_026"><span class="cls_026">628-4535</span></div>
<div style="position:absolute;left:450.73px;top:320.03px" class="cls_026"><span class="cls_026">Local store</span></div>
<div style="position:absolute;left:54.97px;top:337.01px" class="cls_026"><span class="cls_026">60</span></div>
<div style="position:absolute;left:103.05px;top:337.01px" class="cls_026"><span class="cls_026">Electret microphone</span></div>
<div style="position:absolute;left:270.90px;top:337.01px" class="cls_026"><span class="cls_026">1736563</span></div>
<div style="position:absolute;left:366.81px;top:337.01px" class="cls_026"><span class="cls_026">—</span></div>
<div style="position:absolute;left:56.65px;top:353.99px" class="cls_026"><span class="cls_026">61</span></div>
<div style="position:absolute;left:103.05px;top:353.99px" class="cls_026"><span class="cls_026">5V relay</span></div>
<div style="position:absolute;left:270.87px;top:353.99px" class="cls_026"><span class="cls_026">9913734</span></div>
<div style="position:absolute;left:366.76px;top:353.99px" class="cls_026"><span class="cls_026">499-6595</span></div>
<div style="position:absolute;left:450.73px;top:353.99px" class="cls_026"><span class="cls_026">Local store</span></div>
<div style="position:absolute;left:55.49px;top:370.98px" class="cls_026"><span class="cls_026">62</span></div>
<div style="position:absolute;left:103.05px;top:370.98px" class="cls_026"><span class="cls_026">12V 1A power supply</span></div>
<div style="position:absolute;left:270.90px;top:370.98px" class="cls_026"><span class="cls_026">1279478</span></div>
<div style="position:absolute;left:366.81px;top:370.98px" class="cls_026"><span class="cls_026">234-238</span></div>
<div style="position:absolute;left:450.73px;top:370.98px" class="cls_026"><span class="cls_026">Local store</span></div>
<div style="position:absolute;left:55.47px;top:387.96px" class="cls_026"><span class="cls_026">63</span></div>
<div style="position:absolute;left:103.05px;top:387.96px" class="cls_026"><span class="cls_026">12V computer cooling fan</span></div>
<div style="position:absolute;left:270.90px;top:387.96px" class="cls_026"><span class="cls_026">1755867</span></div>
<div style="position:absolute;left:366.81px;top:387.96px" class="cls_026"><span class="cls_026">668-8842</span></div>
<div style="position:absolute;left:450.73px;top:387.96px" class="cls_026"><span class="cls_026">Local store</span></div>
<div style="position:absolute;left:55.17px;top:404.94px" class="cls_026"><span class="cls_026">64</span></div>
<div style="position:absolute;left:103.05px;top:404.94px" class="cls_026"><span class="cls_026">6V motor</span></div>
<div style="position:absolute;left:270.89px;top:404.94px" class="cls_026"><span class="cls_026">599128</span></div>
<div style="position:absolute;left:366.80px;top:404.94px" class="cls_026"><span class="cls_026">238-9721</span></div>
<div style="position:absolute;left:450.72px;top:404.94px" class="cls_026"><span class="cls_026">Salvage</span></div>
<div style="position:absolute;left:55.43px;top:421.93px" class="cls_026"><span class="cls_026">65</span></div>
<div style="position:absolute;left:103.05px;top:421.93px" class="cls_026"><span class="cls_026">9g servo motor</span></div>
<div style="position:absolute;left:270.89px;top:421.93px" class="cls_026"><span class="cls_026">—</span></div>
<div style="position:absolute;left:366.80px;top:421.93px" class="cls_026"><span class="cls_026">—</span></div>
<div style="position:absolute;left:450.72px;top:421.93px" class="cls_026"><span class="cls_026">eBay</span></div>
<div style="position:absolute;left:55.27px;top:438.91px" class="cls_026"><span class="cls_026">66</span></div>
<div style="position:absolute;left:103.05px;top:438.91px" class="cls_026"><span class="cls_026">5V solenoid (&lt; 100 mA)</span></div>
<div style="position:absolute;left:270.85px;top:438.91px" class="cls_026"><span class="cls_026">9687920</span></div>
<div style="position:absolute;left:366.76px;top:438.91px" class="cls_026"><span class="cls_026">533-2217</span></div>
<div style="position:absolute;left:55.60px;top:455.89px" class="cls_026"><span class="cls_026">67</span></div>
<div style="position:absolute;left:103.05px;top:455.89px" class="cls_026"><span class="cls_026">Piezotransducer</span></div>
<div style="position:absolute;left:270.90px;top:455.89px" class="cls_026"><span class="cls_026">1675548</span></div>
<div style="position:absolute;left:366.81px;top:455.89px" class="cls_026"><span class="cls_026">511-7670</span></div>
<div style="position:absolute;left:450.73px;top:455.89px" class="cls_026"><span class="cls_026">Local store</span></div>
<div style="position:absolute;left:103.05px;top:468.88px" class="cls_026"><span class="cls_026">(without driver electronics)</span></div>
<div style="position:absolute;left:55.35px;top:485.86px" class="cls_026"><span class="cls_026">68</span></div>
<div style="position:absolute;left:103.05px;top:485.86px" class="cls_026"><span class="cls_026">Piezobuzzer</span></div>
<div style="position:absolute;left:270.89px;top:485.86px" class="cls_026"><span class="cls_026">1192513</span></div>
<div style="position:absolute;left:366.80px;top:485.86px" class="cls_026"><span class="cls_026">—</span></div>
<div style="position:absolute;left:450.72px;top:485.86px" class="cls_026"><span class="cls_026">Local store</span></div>
<div style="position:absolute;left:103.05px;top:498.85px" class="cls_026"><span class="cls_026">(integrated electronics)</span></div>
<div style="position:absolute;left:55.32px;top:515.84px" class="cls_026"><span class="cls_026">69</span></div>
<div style="position:absolute;left:103.05px;top:515.84px" class="cls_026"><span class="cls_026">Miniature reed switch</span></div>
<div style="position:absolute;left:270.85px;top:515.84px" class="cls_026"><span class="cls_026">1435590</span></div>
<div style="position:absolute;left:366.81px;top:515.84px" class="cls_026"><span class="cls_026">289-7884</span></div>
<div style="position:absolute;left:55.29px;top:532.82px" class="cls_026"><span class="cls_026">70</span></div>
<div style="position:absolute;left:103.05px;top:532.82px" class="cls_026"><span class="cls_026">7 x 5 inch picture frame</span></div>
<div style="position:absolute;left:450.73px;top:532.82px" class="cls_026"><span class="cls_026">Supermarket</span></div>
<div style="position:absolute;left:56.76px;top:549.80px" class="cls_026"><span class="cls_026">71</span></div>
<div style="position:absolute;left:103.05px;top:549.80px" class="cls_026"><span class="cls_026">5V power supply</span></div>
<div style="position:absolute;left:270.90px;top:549.80px" class="cls_026"><span class="cls_026">1297470</span></div>
<div style="position:absolute;left:366.81px;top:549.80px" class="cls_026"><span class="cls_026">234-222</span></div>
<div style="position:absolute;left:450.73px;top:549.80px" class="cls_026"><span class="cls_026">Salvaged</span></div>
<div style="position:absolute;left:450.71px;top:562.79px" class="cls_026"><span class="cls_026">phone</span></div>
<div style="position:absolute;left:450.71px;top:575.78px" class="cls_026"><span class="cls_026">charger</span></div>
<div style="position:absolute;left:55.79px;top:592.76px" class="cls_026"><span class="cls_026">72</span></div>
<div style="position:absolute;left:103.05px;top:592.76px" class="cls_026"><span class="cls_026">Breadboard</span></div>
<div style="position:absolute;left:270.85px;top:592.76px" class="cls_026"><span class="cls_026">4692597</span></div>
<div style="position:absolute;left:366.80px;top:592.76px" class="cls_026"><span class="cls_026">—</span></div>
<div style="position:absolute;left:450.72px;top:592.76px" class="cls_026"><span class="cls_026">Local store</span></div>
<div style="position:absolute;left:36.12px;top:613.93px" class="cls_030"><span class="cls_030">Local stores like RS and Maplins allow you to see components before you buy, and are good for components like</span></div>
<div style="position:absolute;left:36.12px;top:625.92px" class="cls_030"><span class="cls_030">power supplies and computer fans, which will usually be cheaper than the big professional suppliers.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:156780px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background202.jpg" width=552 height=770></div>
<div style="position:absolute;left:257.64px;top:34.50px" class="cls_018"><span class="cls_018">Appendix</span></div>
<div style="position:absolute;left:320.13px;top:34.50px" class="cls_022"><span class="cls_022">■</span><span class="cls_018">    Components and Supplies</span></div>
<div style="position:absolute;left:498.95px;top:34.50px" class="cls_017"><span class="cls_017">185</span></div>
<div style="position:absolute;left:287.97px;top:69.31px" class="cls_022"><span class="cls_022">■</span><span class="cls_011">   Resistors: 0.5W metal film, 100</span></div>
<div style="position:absolute;left:457.79px;top:69.31px" class="cls_011"><span class="cls_011">, 270</span></div>
<div style="position:absolute;left:491.62px;top:69.31px" class="cls_011"><span class="cls_011">,</span></div>
<div style="position:absolute;left:36.21px;top:69.47px" class="cls_021"><span class="cls_021">Starter Kit of Components</span></div>
<div style="position:absolute;left:304.95px;top:84.29px" class="cls_011"><span class="cls_011">1 K</span></div>
<div style="position:absolute;left:329.95px;top:84.29px" class="cls_011"><span class="cls_011">, 10 K</span></div>
<div style="position:absolute;left:366.21px;top:84.29px" class="cls_011"><span class="cls_011">, 100 K</span></div>
<div style="position:absolute;left:36.21px;top:95.94px" class="cls_011"><span class="cls_011">It’s good to have a bit of a stock of common</span></div>
<div style="position:absolute;left:287.97px;top:106.27px" class="cls_022"><span class="cls_022">■</span></div>
<div style="position:absolute;left:304.95px;top:103.28px" class="cls_011"><span class="cls_011">5-mm red LEDs</span></div>
<div style="position:absolute;left:36.21px;top:110.93px" class="cls_011"><span class="cls_011">components. The following list gives some</span></div>
<div style="position:absolute;left:287.97px;top:122.26px" class="cls_022"><span class="cls_022">■</span><span class="cls_011">   Transistors: BC548, BD139</span></div>
<div style="position:absolute;left:36.21px;top:125.91px" class="cls_011"><span class="cls_011">components that you are likely to find yourself</span></div>
<div style="position:absolute;left:36.21px;top:140.90px" class="cls_011"><span class="cls_011">using over and over again.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:157560px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background203.jpg" width=552 height=770></div>
<div style="position:absolute;left:196.00px;top:374.44px" class="cls_020"><span class="cls_020">This page intentionally left blank</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:158340px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background204.jpg" width=552 height=770></div>
<div style="position:absolute;left:236.81px;top:52.87px" class="cls_023"><span class="cls_023">Index</span></div>
<div style="position:absolute;left:36.21px;top:108.32px" class="cls_042"><span class="cls_042">References to figures are in italics.</span></div>
<div style="position:absolute;left:36.21px;top:211.16px" class="cls_043"><span class="cls_043">! command, 123</span></div>
<div style="position:absolute;left:299.96px;top:211.16px" class="cls_043"><span class="cls_043">oscillator, 20</span></div>
<div style="position:absolute;left:299.96px;top:225.14px" class="cls_043"><span class="cls_043">power connections, 16-18</span></div>
<div style="position:absolute;left:36.21px;top:235.64px" class="cls_044"><span class="cls_044">A</span></div>
<div style="position:absolute;left:299.96px;top:239.13px" class="cls_043"><span class="cls_043">power supply, 16</span></div>
<div style="position:absolute;left:36.21px;top:253.12px" class="cls_043"><span class="cls_043">allOff function, 138</span></div>
<div style="position:absolute;left:299.96px;top:253.12px" class="cls_043"><span class="cls_043">Reset switch, 20</span></div>
<div style="position:absolute;left:36.21px;top:267.10px" class="cls_043"><span class="cls_043">amplification, 36</span></div>
<div style="position:absolute;left:299.96px;top:267.10px" class="cls_043"><span class="cls_043">serial programming connector, 20</span></div>
<div style="position:absolute;left:36.21px;top:281.09px" class="cls_043"><span class="cls_043">analog inputs, 18</span></div>
<div style="position:absolute;left:299.96px;top:281.09px" class="cls_043"><span class="cls_043">USB interface chip, 20</span></div>
<div style="position:absolute;left:36.21px;top:295.08px" class="cls_043"><span class="cls_043">analog meters, 177</span></div>
<div style="position:absolute;left:287.97px;top:295.07px" class="cls_043"><span class="cls_043">breadboards, 11-13</span></div>
<div style="position:absolute;left:36.21px;top:309.06px" class="cls_043"><span class="cls_043">analog output from digital inputs, 112</span></div>
<div style="position:absolute;left:287.97px;top:309.06px" class="cls_043"><span class="cls_043">Brevig, Alexander, 64</span></div>
<div style="position:absolute;left:36.21px;top:323.05px" class="cls_043"><span class="cls_043">Arduino Diecimila board</span></div>
<div style="position:absolute;left:287.97px;top:323.05px" class="cls_043"><span class="cls_043">buying components, 175</span></div>
<div style="position:absolute;left:48.20px;top:337.03px" class="cls_043"><span class="cls_043">powering up, 1</span></div>
<div style="position:absolute;left:287.97px;top:347.53px" class="cls_044"><span class="cls_044">C</span></div>
<div style="position:absolute;left:48.20px;top:351.02px" class="cls_043"><span class="cls_043">selecting, 6, </span><span class="cls_045">7</span></div>
<div style="position:absolute;left:48.20px;top:365.01px" class="cls_043"><span class="cls_043">suppliers, 182</span></div>
<div style="position:absolute;left:287.97px;top:365.01px" class="cls_043"><span class="cls_043">C language, 21</span></div>
<div style="position:absolute;left:36.21px;top:379.00px" class="cls_043"><span class="cls_043">Arduino Duemilanove board, </span><span class="cls_045">2</span></div>
<div style="position:absolute;left:299.96px;top:379.00px" class="cls_043"><span class="cls_043">arithmetic, 23-24</span></div>
<div style="position:absolute;left:48.20px;top:392.98px" class="cls_043"><span class="cls_043">powering up, 1</span></div>
<div style="position:absolute;left:299.96px;top:392.98px" class="cls_043"><span class="cls_043">arrays, 30-32</span></div>
<div style="position:absolute;left:48.20px;top:406.97px" class="cls_043"><span class="cls_043">selecting, 6, </span><span class="cls_045">7</span></div>
<div style="position:absolute;left:299.96px;top:406.97px" class="cls_043"><span class="cls_043">bumpy case, 21-22</span></div>
<div style="position:absolute;left:48.20px;top:420.95px" class="cls_043"><span class="cls_043">suppliers, 182</span></div>
<div style="position:absolute;left:299.96px;top:420.95px" class="cls_043"><span class="cls_043">conditional statements, 24-25</span></div>
<div style="position:absolute;left:36.21px;top:434.94px" class="cls_043"><span class="cls_043">Arduino Lilypad, 20</span></div>
<div style="position:absolute;left:299.96px;top:434.94px" class="cls_043"><span class="cls_043">constants, 23</span></div>
<div style="position:absolute;left:48.20px;top:448.93px" class="cls_043"><span class="cls_043">suppliers, 182</span></div>
<div style="position:absolute;left:299.96px;top:448.93px" class="cls_043"><span class="cls_043">data types, 23, 24</span></div>
<div style="position:absolute;left:36.21px;top:462.91px" class="cls_043"><span class="cls_043">Arduino Mega, 20</span></div>
<div style="position:absolute;left:299.96px;top:462.91px" class="cls_043"><span class="cls_043">example, 21-23</span></div>
<div style="position:absolute;left:36.21px;top:476.90px" class="cls_043"><span class="cls_043">Arduino Playground, 179</span></div>
<div style="position:absolute;left:299.96px;top:476.90px" class="cls_043"><span class="cls_043">functions, 22</span></div>
<div style="position:absolute;left:36.21px;top:490.88px" class="cls_043"><span class="cls_043">Arduino Protoshield, 37, 38-40</span></div>
<div style="position:absolute;left:299.96px;top:490.88px" class="cls_043"><span class="cls_043">integers, 22</span></div>
<div style="position:absolute;left:36.21px;top:504.87px" class="cls_043"><span class="cls_043">arrays, 30-32</span></div>
<div style="position:absolute;left:299.96px;top:504.87px" class="cls_043"><span class="cls_043">logical expressions, 25</span></div>
<div style="position:absolute;left:36.21px;top:518.86px" class="cls_043"><span class="cls_043">ATmega168, 20</span></div>
<div style="position:absolute;left:299.96px;top:518.86px" class="cls_043"><span class="cls_043">logical operators, 25</span></div>
<div style="position:absolute;left:36.21px;top:532.84px" class="cls_043"><span class="cls_043">ATmega328, 19-20</span></div>
<div style="position:absolute;left:299.96px;top:532.84px" class="cls_043"><span class="cls_043">loops, 23, 29-30</span></div>
<div style="position:absolute;left:36.21px;top:546.83px" class="cls_043"><span class="cls_043">autoranging meters, 177</span></div>
<div style="position:absolute;left:299.96px;top:546.83px" class="cls_043"><span class="cls_043">parameters, 23</span></div>
<div style="position:absolute;left:299.96px;top:560.81px" class="cls_043"><span class="cls_043">semicolon, 22</span></div>
<div style="position:absolute;left:36.21px;top:571.31px" class="cls_044"><span class="cls_044">B</span></div>
<div style="position:absolute;left:299.96px;top:574.80px" class="cls_043"><span class="cls_043">Strings, 24</span></div>
<div style="position:absolute;left:36.21px;top:588.79px" class="cls_043"><span class="cls_043">back EMF, 126, 150</span></div>
<div style="position:absolute;left:299.96px;top:588.79px" class="cls_043"><span class="cls_043">variables, 22, 23</span></div>
<div style="position:absolute;left:36.21px;top:602.78px" class="cls_043"><span class="cls_043">bipolar transistors, 90-91</span></div>
<div style="position:absolute;left:287.97px;top:602.77px" class="cls_043"><span class="cls_043">capacitors, 108</span></div>
<div style="position:absolute;left:36.21px;top:616.76px" class="cls_043"><span class="cls_043">Blink program, 1</span></div>
<div style="position:absolute;left:299.96px;top:616.76px" class="cls_043"><span class="cls_043">suppliers, 182</span></div>
<div style="position:absolute;left:48.20px;top:630.75px" class="cls_043"><span class="cls_043">modifying, 8-11</span></div>
<div style="position:absolute;left:287.97px;top:630.74px" class="cls_043"><span class="cls_043">circuits</span></div>
<div style="position:absolute;left:36.21px;top:644.74px" class="cls_043"><span class="cls_043">board components, </span><span class="cls_045">16</span></div>
<div style="position:absolute;left:299.96px;top:644.73px" class="cls_043"><span class="cls_043">circuit symbols, 171</span></div>
<div style="position:absolute;left:48.20px;top:658.72px" class="cls_043"><span class="cls_043">analog inputs, 18</span></div>
<div style="position:absolute;left:299.96px;top:658.72px" class="cls_043"><span class="cls_043">schematic diagrams, 169-171</span></div>
<div style="position:absolute;left:48.20px;top:672.71px" class="cls_043"><span class="cls_043">digital connections, 18-19</span></div>
<div style="position:absolute;left:287.97px;top:672.70px" class="cls_043"><span class="cls_043">clones, 182</span></div>
<div style="position:absolute;left:48.20px;top:686.69px" class="cls_043"><span class="cls_043">microcontrollers, 19-20</span></div>
<div style="position:absolute;left:287.97px;top:686.69px" class="cls_043"><span class="cls_043">code, 8</span></div>
<div style="position:absolute;left:499.06px;top:718.82px" class="cls_017"><span class="cls_017">187</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:159120px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background205.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">188</span></div>
<div style="position:absolute;left:81.48px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:36.12px;top:69.31px" class="cls_043"><span class="cls_043">collector-feedback bias, 121</span></div>
<div style="position:absolute;left:287.87px;top:69.31px" class="cls_043"><span class="cls_043">Found New Hardware Wizard, 3, </span><span class="cls_045">4</span></div>
<div style="position:absolute;left:36.12px;top:83.30px" class="cls_043"><span class="cls_043">common anodes, 91-92</span></div>
<div style="position:absolute;left:287.87px;top:83.30px" class="cls_043"><span class="cls_043">functions, 22</span></div>
<div style="position:absolute;left:36.12px;top:97.28px" class="cls_043"><span class="cls_043">component box, 175</span></div>
<div style="position:absolute;left:287.87px;top:107.77px" class="cls_044"><span class="cls_044">G</span></div>
<div style="position:absolute;left:36.12px;top:111.27px" class="cls_043"><span class="cls_043">components</span></div>
<div style="position:absolute;left:48.11px;top:125.26px" class="cls_043"><span class="cls_043">buying, 175</span></div>
<div style="position:absolute;left:287.87px;top:125.26px" class="cls_043"><span class="cls_043">getEncoderTurn function, 69</span></div>
<div style="position:absolute;left:48.11px;top:139.24px" class="cls_043"><span class="cls_043">starter kit, 185</span></div>
<div style="position:absolute;left:287.87px;top:139.24px" class="cls_043"><span class="cls_043">GND, 17</span></div>
<div style="position:absolute;left:48.11px;top:153.23px" class="cls_043"><span class="cls_043">suppliers, 181-184</span></div>
<div style="position:absolute;left:299.86px;top:153.23px" class="cls_043"><span class="cls_043">lines in schematic diagrams, 169</span></div>
<div style="position:absolute;left:36.12px;top:167.21px" class="cls_043"><span class="cls_043">computer-controlled fan (Project 23), 132-133</span></div>
<div style="position:absolute;left:287.87px;top:177.71px" class="cls_044"><span class="cls_044">H</span></div>
<div style="position:absolute;left:36.12px;top:181.20px" class="cls_043"><span class="cls_043">conditional statements, 24-25</span></div>
<div style="position:absolute;left:36.12px;top:195.19px" class="cls_043"><span class="cls_043">configuring the Arduino environment, 6, </span><span class="cls_045">7</span></div>
<div style="position:absolute;left:287.87px;top:195.19px" class="cls_043"><span class="cls_043">H-bridge controllers, 134</span></div>
<div style="position:absolute;left:36.12px;top:209.18px" class="cls_043"><span class="cls_043">constants, 23</span></div>
<div style="position:absolute;left:287.87px;top:209.17px" class="cls_043"><span class="cls_043">high-brightness Morse code translator (Project 4),</span></div>
<div style="position:absolute;left:36.12px;top:223.16px" class="cls_043"><span class="cls_043">continuity test, 178-179</span></div>
<div style="position:absolute;left:311.85px;top:223.16px" class="cls_043"><span class="cls_043">35-38</span></div>
<div style="position:absolute;left:36.12px;top:237.15px" class="cls_043"><span class="cls_043">countdown timer (Project 30), 163-168</span></div>
<div style="position:absolute;left:299.86px;top:237.15px" class="cls_043"><span class="cls_043">making a shield for, 38-40</span></div>
<div style="position:absolute;left:36.12px;top:251.13px" class="cls_043"><span class="cls_043">current, measuring, 178</span></div>
<div style="position:absolute;left:287.87px;top:251.13px" class="cls_043"><span class="cls_043">high-powered strobe light (Project 8), 52-55</span></div>
<div style="position:absolute;left:287.87px;top:265.12px" class="cls_043"><span class="cls_043">hunting, 127-130</span></div>
<div style="position:absolute;left:36.12px;top:275.61px" class="cls_044"><span class="cls_044">D</span></div>
<div style="position:absolute;left:287.87px;top:279.10px" class="cls_043"><span class="cls_043">hypnotizer (Project 24), 134-138</span></div>
<div style="position:absolute;left:36.12px;top:293.09px" class="cls_043"><span class="cls_043">DAC, 111</span></div>
<div style="position:absolute;left:287.87px;top:293.09px" class="cls_043"><span class="cls_043">hysteresis, 130</span></div>
<div style="position:absolute;left:36.12px;top:307.08px" class="cls_043"><span class="cls_043">data types, 23, 24</span></div>
<div style="position:absolute;left:287.87px;top:317.57px" class="cls_044"><span class="cls_044">I</span></div>
<div style="position:absolute;left:36.12px;top:321.07px" class="cls_043"><span class="cls_043">datasheets, 171</span></div>
<div style="position:absolute;left:36.12px;top:335.05px" class="cls_043"><span class="cls_043">decade counter, 96</span></div>
<div style="position:absolute;left:287.87px;top:335.05px" class="cls_043"><span class="cls_043">ideas for projects, 179-180</span></div>
<div style="position:absolute;left:36.12px;top:349.04px" class="cls_043"><span class="cls_043">dice, 55-59, 91-95</span></div>
<div style="position:absolute;left:287.87px;top:349.04px" class="cls_043"><span class="cls_043">infrared remote (Project 28), 153-158</span></div>
<div style="position:absolute;left:36.12px;top:363.02px" class="cls_043"><span class="cls_043">Diecimila.</span><span class="cls_045"> See</span><span class="cls_043"> Arduino Diecimila board</span></div>
<div style="position:absolute;left:287.87px;top:363.02px" class="cls_043"><span class="cls_043">inputs, 15</span></div>
<div style="position:absolute;left:36.12px;top:377.01px" class="cls_043"><span class="cls_043">digital connections, 18-19</span></div>
<div style="position:absolute;left:299.86px;top:377.01px" class="cls_043"><span class="cls_043">analog, 18</span></div>
<div style="position:absolute;left:36.12px;top:391.00px" class="cls_043"><span class="cls_043">digital inputs and outputs, 41</span></div>
<div style="position:absolute;left:299.86px;top:391.00px" class="cls_043"><span class="cls_043">digital, 41</span></div>
<div style="position:absolute;left:48.11px;top:404.98px" class="cls_043"><span class="cls_043">analog output from digital inputs, 112</span></div>
<div style="position:absolute;left:287.87px;top:404.98px" class="cls_043"><span class="cls_043">installing software, 1-2</span></div>
<div style="position:absolute;left:36.12px;top:418.97px" class="cls_043"><span class="cls_043">digital meters, 177</span></div>
<div style="position:absolute;left:299.86px;top:418.97px" class="cls_043"><span class="cls_043">on LINUX, 5-6</span></div>
<div style="position:absolute;left:36.12px;top:432.96px" class="cls_043"><span class="cls_043">digital-to-analog converters, 111</span></div>
<div style="position:absolute;left:299.86px;top:432.95px" class="cls_043"><span class="cls_043">on Mac OS X, 4-5</span></div>
<div style="position:absolute;left:36.12px;top:446.94px" class="cls_043"><span class="cls_043">disk images, 5</span></div>
<div style="position:absolute;left:299.86px;top:446.94px" class="cls_043"><span class="cls_043">on Windows, 2-4</span></div>
<div style="position:absolute;left:36.12px;top:460.93px" class="cls_043"><span class="cls_043">downloading project software, 6-8</span></div>
<div style="position:absolute;left:287.87px;top:460.93px" class="cls_043"><span class="cls_043">integers, 22</span></div>
<div style="position:absolute;left:36.12px;top:474.91px" class="cls_043"><span class="cls_043">Duemilanove. </span><span class="cls_045">See</span><span class="cls_043"> Arduino Duemilanove board</span></div>
<div style="position:absolute;left:287.87px;top:485.41px" class="cls_044"><span class="cls_044">K</span></div>
<div style="position:absolute;left:36.12px;top:499.39px" class="cls_044"><span class="cls_044">E</span></div>
<div style="position:absolute;left:287.87px;top:502.89px" class="cls_043"><span class="cls_043">keypad security code (Project 10), 61-67</span></div>
<div style="position:absolute;left:36.12px;top:516.87px" class="cls_043"><span class="cls_043">EEPROM, 20, 78, 82, 153</span></div>
<div style="position:absolute;left:287.87px;top:527.36px" class="cls_044"><span class="cls_044">L</span></div>
<div style="position:absolute;left:36.12px;top:530.86px" class="cls_043"><span class="cls_043">electromotive force, 126</span></div>
<div style="position:absolute;left:36.12px;top:544.85px" class="cls_043"><span class="cls_043">EMF, 126</span></div>
<div style="position:absolute;left:287.87px;top:544.85px" class="cls_043"><span class="cls_043">lasers, servo-controlled laser (Project 25),</span></div>
<div style="position:absolute;left:36.12px;top:558.83px" class="cls_043"><span class="cls_043">EPROM, 15</span></div>
<div style="position:absolute;left:311.85px;top:558.83px" class="cls_043"><span class="cls_043">138-143</span></div>
<div style="position:absolute;left:36.12px;top:572.82px" class="cls_043"><span class="cls_043">Evil Genius countdown timer (Project 30),</span></div>
<div style="position:absolute;left:287.87px;top:572.82px" class="cls_043"><span class="cls_043">LCD displays, 101-102</span></div>
<div style="position:absolute;left:60.09px;top:586.81px" class="cls_043"><span class="cls_043">163-168</span></div>
<div style="position:absolute;left:287.87px;top:586.81px" class="cls_043"><span class="cls_043">LCD thermostat (Project 22), 125-131</span></div>
<div style="position:absolute;left:36.12px;top:600.79px" class="cls_043"><span class="cls_043">Extraction Wizard, 2-3</span></div>
<div style="position:absolute;left:287.87px;top:600.79px" class="cls_043"><span class="cls_043">LDRs, 72</span></div>
<div style="position:absolute;left:287.87px;top:614.78px" class="cls_043"><span class="cls_043">leaky integration, 75</span></div>
<div style="position:absolute;left:36.12px;top:625.27px" class="cls_044"><span class="cls_044">F</span></div>
<div style="position:absolute;left:287.87px;top:628.76px" class="cls_043"><span class="cls_043">LED array (Project 16), 95-101</span></div>
<div style="position:absolute;left:36.12px;top:642.75px" class="cls_043"><span class="cls_043">FETs, 48, 96</span></div>
<div style="position:absolute;left:287.87px;top:642.75px" class="cls_043"><span class="cls_043">LED dice (Project 9), 55-59</span></div>
<div style="position:absolute;left:48.11px;top:656.74px" class="cls_043"><span class="cls_043">MOSFETs, 135-136</span></div>
<div style="position:absolute;left:287.87px;top:656.74px" class="cls_043"><span class="cls_043">ledPin, 21, 22</span></div>
<div style="position:absolute;left:36.12px;top:670.72px" class="cls_043"><span class="cls_043">field effect transistors, 48, 96</span></div>
<div style="position:absolute;left:287.87px;top:670.72px" class="cls_043"><span class="cls_043">LEDs</span></div>
<div style="position:absolute;left:36.12px;top:684.71px" class="cls_043"><span class="cls_043">flashing LED (Project 1), 8-11</span></div>
<div style="position:absolute;left:299.86px;top:684.71px" class="cls_043"><span class="cls_043">1W Luxeon, 35</span></div>
<div style="position:absolute;left:36.12px;top:698.70px" class="cls_043"><span class="cls_043">Flashing LED (Project 1), breadboard, </span><span class="cls_045">12</span></div>
<div style="position:absolute;left:299.86px;top:698.69px" class="cls_043"><span class="cls_043">adding an external LED, 10-11</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:159900px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background206.jpg" width=552 height=770></div>
<div style="position:absolute;left:443.02px;top:34.50px" class="cls_018"><span class="cls_018">Index</span></div>
<div style="position:absolute;left:498.63px;top:34.50px" class="cls_017"><span class="cls_017">189</span></div>
<div style="position:absolute;left:48.20px;top:69.31px" class="cls_043"><span class="cls_043">flashing LED (Project 1), 8-11</span></div>
<div style="position:absolute;left:287.97px;top:69.31px" class="cls_043"><span class="cls_043">metal oxide semiconductor field effect transistors,</span></div>
<div style="position:absolute;left:48.20px;top:83.30px" class="cls_043"><span class="cls_043">high-brightness Morse code translator (Project 4),</span></div>
<div style="position:absolute;left:311.95px;top:83.29px" class="cls_043"><span class="cls_043">135-136</span></div>
<div style="position:absolute;left:60.19px;top:97.28px" class="cls_043"><span class="cls_043">35-40</span></div>
<div style="position:absolute;left:287.97px;top:97.28px" class="cls_043"><span class="cls_043">microcontrollers, 15, 19-20</span></div>
<div style="position:absolute;left:48.20px;top:111.27px" class="cls_043"><span class="cls_043">high-powered strobe light (Project 8), 52-55</span></div>
<div style="position:absolute;left:287.97px;top:111.26px" class="cls_043"><span class="cls_043">model traffic signal (Project 5), 41-44</span></div>
<div style="position:absolute;left:48.20px;top:125.26px" class="cls_043"><span class="cls_043">LED array (Project 16), 95-101</span></div>
<div style="position:absolute;left:287.97px;top:125.25px" class="cls_043"><span class="cls_043">model traffic signal using a rotary encoder</span></div>
<div style="position:absolute;left:48.20px;top:139.24px" class="cls_043"><span class="cls_043">LED dice (Project 9), 55-59</span></div>
<div style="position:absolute;left:311.95px;top:139.24px" class="cls_043"><span class="cls_043">(Project 11), 68-72</span></div>
<div style="position:absolute;left:48.20px;top:153.23px" class="cls_043"><span class="cls_043">model traffic signal (Project 5), 41-44</span></div>
<div style="position:absolute;left:287.97px;top:153.22px" class="cls_043"><span class="cls_043">modules, 174-175</span></div>
<div style="position:absolute;left:48.20px;top:167.21px" class="cls_043"><span class="cls_043">Morse code S.O.S. flasher (Project 2), 27-31</span></div>
<div style="position:absolute;left:287.97px;top:167.21px" class="cls_043"><span class="cls_043">Morse code letters, 32</span></div>
<div style="position:absolute;left:48.20px;top:181.20px" class="cls_043"><span class="cls_043">Morse code translator (Project 3), 31-35</span></div>
<div style="position:absolute;left:287.97px;top:181.19px" class="cls_043"><span class="cls_043">Morse code S.O.S. flasher (Project 2), 27-29</span></div>
<div style="position:absolute;left:48.20px;top:195.19px" class="cls_043"><span class="cls_043">S.A.D. light (Project 7), 47-52</span></div>
<div style="position:absolute;left:287.97px;top:195.18px" class="cls_043"><span class="cls_043">Morse code translator (high-brightness—Project 4),</span></div>
<div style="position:absolute;left:48.20px;top:209.17px" class="cls_043"><span class="cls_043">seven-segment LED double dice (Project 15),</span></div>
<div style="position:absolute;left:311.95px;top:209.17px" class="cls_043"><span class="cls_043">35-38</span></div>
<div style="position:absolute;left:60.19px;top:223.16px" class="cls_043"><span class="cls_043">91-95</span></div>
<div style="position:absolute;left:299.96px;top:223.15px" class="cls_043"><span class="cls_043">making a shield for, 38-40</span></div>
<div style="position:absolute;left:48.20px;top:237.14px" class="cls_043"><span class="cls_043">seven-segment LEDs, 89-91</span></div>
<div style="position:absolute;left:287.97px;top:237.14px" class="cls_043"><span class="cls_043">Morse code translator (Project 3), 31-35</span></div>
<div style="position:absolute;left:48.20px;top:251.13px" class="cls_043"><span class="cls_043">strobe light (Project 6), 44-47</span></div>
<div style="position:absolute;left:287.97px;top:251.13px" class="cls_043"><span class="cls_043">MOSFETs, 135-136</span></div>
<div style="position:absolute;left:36.21px;top:265.12px" class="cls_043"><span class="cls_043">libraries, installing into Arduino software, 64, </span><span class="cls_045">65</span><span class="cls_043">,</span></div>
<div style="position:absolute;left:287.97px;top:265.11px" class="cls_043"><span class="cls_043">multicolor light display (Project 14), 85-89</span></div>
<div style="position:absolute;left:60.19px;top:279.11px" class="cls_043"><span class="cls_043">154-155, 161</span></div>
<div style="position:absolute;left:287.97px;top:279.10px" class="cls_043"><span class="cls_043">multimeter, 177-179</span></div>
<div style="position:absolute;left:36.21px;top:293.09px" class="cls_043"><span class="cls_043">lie detector (Project 26), 145-148</span></div>
<div style="position:absolute;left:287.97px;top:303.58px" class="cls_044"><span class="cls_044">O</span></div>
<div style="position:absolute;left:36.21px;top:307.08px" class="cls_043"><span class="cls_043">light harp (Project 20), 117-120</span></div>
<div style="position:absolute;left:36.21px;top:321.06px" class="cls_043"><span class="cls_043">light-dependent resistors, 72</span></div>
<div style="position:absolute;left:287.97px;top:321.07px" class="cls_043"><span class="cls_043">Ohm’s Law, 17-18</span></div>
<div style="position:absolute;left:36.21px;top:335.05px" class="cls_043"><span class="cls_043">lights</span></div>
<div style="position:absolute;left:287.97px;top:335.05px" class="cls_043"><span class="cls_043">OmniGraffle, 171</span></div>
<div style="position:absolute;left:48.20px;top:349.04px" class="cls_043"><span class="cls_043">LED array (Project 16), 95-101</span></div>
<div style="position:absolute;left:287.97px;top:349.04px" class="cls_043"><span class="cls_043">operators, 25</span></div>
<div style="position:absolute;left:48.20px;top:363.02px" class="cls_043"><span class="cls_043">multicolor light display (Project 14), 85-89</span></div>
<div style="position:absolute;left:299.96px;top:363.02px" class="cls_043"><span class="cls_043">marketing operator, 123</span></div>
<div style="position:absolute;left:48.20px;top:377.01px" class="cls_043"><span class="cls_043">seven-segment LED double dice (Project 15),</span></div>
<div style="position:absolute;left:287.97px;top:377.01px" class="cls_043"><span class="cls_043">oscillator, 20</span></div>
<div style="position:absolute;left:60.19px;top:390.99px" class="cls_043"><span class="cls_043">91-95</span></div>
<div style="position:absolute;left:287.97px;top:391.00px" class="cls_043"><span class="cls_043">oscilloscope (Project 18), 107-111</span></div>
<div style="position:absolute;left:48.20px;top:404.98px" class="cls_043"><span class="cls_043">strobe light (high-powered—Project 8), 52-55</span></div>
<div style="position:absolute;left:287.97px;top:404.98px" class="cls_043"><span class="cls_043">oscilloscopes, 179</span></div>
<div style="position:absolute;left:48.20px;top:418.97px" class="cls_043"><span class="cls_043">strobe light (Project 6), 44-46</span></div>
<div style="position:absolute;left:287.97px;top:418.97px" class="cls_043"><span class="cls_043">outputs, 15</span></div>
<div style="position:absolute;left:48.20px;top:432.95px" class="cls_043"><span class="cls_043">USB message board (Project 17), 102-105</span></div>
<div style="position:absolute;left:299.96px;top:432.95px" class="cls_043"><span class="cls_043">analog output from digital inputs, 112</span></div>
<div style="position:absolute;left:36.21px;top:446.94px" class="cls_043"><span class="cls_043">Lilypad.</span><span class="cls_045"> See</span><span class="cls_043"> Arduino Lilypad</span></div>
<div style="position:absolute;left:299.96px;top:446.94px" class="cls_043"><span class="cls_043">digital, 41</span></div>
<div style="position:absolute;left:36.21px;top:460.93px" class="cls_043"><span class="cls_043">Lilypad clock (Project 29), 159-162</span></div>
<div style="position:absolute;left:287.97px;top:471.42px" class="cls_044"><span class="cls_044">P</span></div>
<div style="position:absolute;left:36.21px;top:474.92px" class="cls_043"><span class="cls_043">LINUX, installing software on, 5-6</span></div>
<div style="position:absolute;left:36.21px;top:488.90px" class="cls_043"><span class="cls_043">logical expressions, 25</span></div>
<div style="position:absolute;left:287.97px;top:488.90px" class="cls_043"><span class="cls_043">parameters, 23</span></div>
<div style="position:absolute;left:36.21px;top:502.89px" class="cls_043"><span class="cls_043">logical operators, 25</span></div>
<div style="position:absolute;left:287.97px;top:502.89px" class="cls_043"><span class="cls_043">PCBs.</span><span class="cls_045"> See</span><span class="cls_043"> Protoshield circuit boards</span></div>
<div style="position:absolute;left:36.21px;top:516.87px" class="cls_043"><span class="cls_043">loops, 23, 29-30</span></div>
<div style="position:absolute;left:287.97px;top:516.87px" class="cls_043"><span class="cls_043">perf board, 48</span></div>
<div style="position:absolute;left:299.96px;top:530.86px" class="cls_043"><span class="cls_043">layout,</span><span class="cls_045"> 50</span></div>
<div style="position:absolute;left:36.21px;top:541.35px" class="cls_044"><span class="cls_044">M</span></div>
<div style="position:absolute;left:287.97px;top:544.85px" class="cls_043"><span class="cls_043">photoresistors, 72</span></div>
<div style="position:absolute;left:36.21px;top:558.83px" class="cls_043"><span class="cls_043">Mac OS X, installing software on, 4-5</span></div>
<div style="position:absolute;left:287.97px;top:558.83px" class="cls_043"><span class="cls_043">phototransistors, 72, 73-74</span></div>
<div style="position:absolute;left:36.21px;top:572.82px" class="cls_043"><span class="cls_043">magnetic door lock (Project 27), 148-153</span></div>
<div style="position:absolute;left:287.97px;top:572.82px" class="cls_043"><span class="cls_043">piezobuzzers, 146-147</span></div>
<div style="position:absolute;left:36.21px;top:586.81px" class="cls_043"><span class="cls_043">mains electricity, 110, 125</span></div>
<div style="position:absolute;left:287.97px;top:586.81px" class="cls_043"><span class="cls_043">playNote function, 113-116</span></div>
<div style="position:absolute;left:36.21px;top:600.79px" class="cls_043"><span class="cls_043">mains hum, 110</span></div>
<div style="position:absolute;left:287.97px;top:600.79px" class="cls_043"><span class="cls_043">pliers, 176</span></div>
<div style="position:absolute;left:36.21px;top:614.78px" class="cls_043"><span class="cls_043">marketing operator, 123</span></div>
<div style="position:absolute;left:287.97px;top:614.78px" class="cls_043"><span class="cls_043">PNP transistors, 92</span></div>
<div style="position:absolute;left:36.21px;top:628.76px" class="cls_043"><span class="cls_043">measuring current, 178</span></div>
<div style="position:absolute;left:287.97px;top:628.76px" class="cls_043"><span class="cls_043">power</span></div>
<div style="position:absolute;left:36.21px;top:642.75px" class="cls_043"><span class="cls_043">measuring resistance, 179</span></div>
<div style="position:absolute;left:299.96px;top:642.75px" class="cls_043"><span class="cls_043">computer-controlled fan (Project 23), 132-133</span></div>
<div style="position:absolute;left:36.21px;top:656.74px" class="cls_043"><span class="cls_043">measuring temperature, 77</span></div>
<div style="position:absolute;left:299.96px;top:656.74px" class="cls_043"><span class="cls_043">hypnotizer (Project 24), 134-138</span></div>
<div style="position:absolute;left:36.21px;top:670.72px" class="cls_043"><span class="cls_043">measuring voltage, 177-178</span></div>
<div style="position:absolute;left:299.96px;top:670.72px" class="cls_043"><span class="cls_043">LCD thermostat (Project 22), 125-131</span></div>
<div style="position:absolute;left:36.21px;top:684.71px" class="cls_043"><span class="cls_043">memory, 15, 19-20</span></div>
<div style="position:absolute;left:299.96px;top:684.71px" class="cls_043"><span class="cls_043">servo-controlled laser (Project 25), 138-143</span></div>
<div style="position:absolute;left:36.21px;top:698.69px" class="cls_043"><span class="cls_043">message board, 102-105</span></div>
<div style="position:absolute;left:287.97px;top:698.69px" class="cls_043"><span class="cls_043">power connections, 16-18</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:160680px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background207.jpg" width=552 height=770></div>
<div style="position:absolute;left:36.12px;top:34.50px" class="cls_017"><span class="cls_017">190</span></div>
<div style="position:absolute;left:82.80px;top:34.50px" class="cls_018"><span class="cls_018">30 Arduino Projects for the Evil Genius</span></div>
<div style="position:absolute;left:36.12px;top:69.31px" class="cls_043"><span class="cls_043">power jumper, 1</span></div>
<div style="position:absolute;left:287.87px;top:69.31px" class="cls_043"><span class="cls_043">random number generation, 55</span></div>
<div style="position:absolute;left:36.12px;top:83.30px" class="cls_043"><span class="cls_043">power supply, 16</span></div>
<div style="position:absolute;left:287.87px;top:83.30px" class="cls_043"><span class="cls_043">randomSeed function, 55</span></div>
<div style="position:absolute;left:36.12px;top:97.28px" class="cls_043"><span class="cls_043">pre-processor directives, 78</span></div>
<div style="position:absolute;left:287.87px;top:97.28px" class="cls_043"><span class="cls_043">reed switches, 159</span></div>
<div style="position:absolute;left:36.12px;top:111.27px" class="cls_043"><span class="cls_043">programs, 8</span></div>
<div style="position:absolute;left:287.87px;top:111.27px" class="cls_043"><span class="cls_043">Reset button, 1</span></div>
<div style="position:absolute;left:36.12px;top:125.26px" class="cls_043"><span class="cls_043">projects</span></div>
<div style="position:absolute;left:287.87px;top:125.25px" class="cls_043"><span class="cls_043">Reset connector, 16-17</span></div>
<div style="position:absolute;left:48.11px;top:139.24px" class="cls_043"><span class="cls_043">computer-controlled fan, 132-133</span></div>
<div style="position:absolute;left:287.87px;top:139.24px" class="cls_043"><span class="cls_043">Reset switch, 20</span></div>
<div style="position:absolute;left:48.11px;top:153.23px" class="cls_043"><span class="cls_043">Evil Genius countdown timer, 163-168</span></div>
<div style="position:absolute;left:287.87px;top:153.23px" class="cls_043"><span class="cls_043">resistance measurement, 179</span></div>
<div style="position:absolute;left:48.11px;top:167.21px" class="cls_043"><span class="cls_043">flashing LED, 8-11</span></div>
<div style="position:absolute;left:287.87px;top:167.21px" class="cls_043"><span class="cls_043">resistors, 10, 172</span></div>
<div style="position:absolute;left:48.11px;top:181.20px" class="cls_043"><span class="cls_043">high-brightness Morse code translator, 35-38</span></div>
<div style="position:absolute;left:299.86px;top:181.20px" class="cls_043"><span class="cls_043">color codes, 172</span></div>
<div style="position:absolute;left:48.11px;top:195.19px" class="cls_043"><span class="cls_043">high-powered strobe light, 52-55</span></div>
<div style="position:absolute;left:299.86px;top:195.18px" class="cls_043"><span class="cls_043">light-dependent resistors, 72</span></div>
<div style="position:absolute;left:48.11px;top:209.17px" class="cls_043"><span class="cls_043">hypnotizer, 134-138</span></div>
<div style="position:absolute;left:299.86px;top:209.17px" class="cls_043"><span class="cls_043">suppliers, 182</span></div>
<div style="position:absolute;left:48.11px;top:223.16px" class="cls_043"><span class="cls_043">ideas, 179-180</span></div>
<div style="position:absolute;left:299.86px;top:223.16px" class="cls_043"><span class="cls_043">values, 19</span></div>
<div style="position:absolute;left:48.11px;top:237.14px" class="cls_043"><span class="cls_043">infrared remote, 153-158</span></div>
<div style="position:absolute;left:299.86px;top:237.14px" class="cls_043"><span class="cls_043">variable resistors, 45, 46, 47, 147</span></div>
<div style="position:absolute;left:48.11px;top:251.13px" class="cls_043"><span class="cls_043">keypad security code, 61-67</span></div>
<div style="position:absolute;left:287.87px;top:251.13px" class="cls_043"><span class="cls_043">rotary encoders, 67, </span><span class="cls_045">68</span></div>
<div style="position:absolute;left:48.11px;top:265.12px" class="cls_043"><span class="cls_043">LCD thermostat, 125-131</span></div>
<div style="position:absolute;left:287.87px;top:265.12px" class="cls_043"><span class="cls_043">Ruby language, installing, 109-110</span></div>
<div style="position:absolute;left:48.11px;top:279.10px" class="cls_043"><span class="cls_043">LED array, 95-101</span></div>
<div style="position:absolute;left:287.87px;top:289.60px" class="cls_044"><span class="cls_044">S</span></div>
<div style="position:absolute;left:48.11px;top:293.09px" class="cls_043"><span class="cls_043">LED dice, 55-59</span></div>
<div style="position:absolute;left:48.11px;top:307.07px" class="cls_043"><span class="cls_043">lie detector, 145-148</span></div>
<div style="position:absolute;left:287.87px;top:307.08px" class="cls_043"><span class="cls_043">S.A.D. light (Project 7), 47-52</span></div>
<div style="position:absolute;left:48.11px;top:321.06px" class="cls_043"><span class="cls_043">light harp, 117-120</span></div>
<div style="position:absolute;left:287.87px;top:321.07px" class="cls_043"><span class="cls_043">schematic diagrams, 169-171</span></div>
<div style="position:absolute;left:48.11px;top:335.05px" class="cls_043"><span class="cls_043">Lilypad clock, 159-162</span></div>
<div style="position:absolute;left:305.63px;top:335.55px" class="cls_045"><span class="cls_045">See also individual projects</span></div>
<div style="position:absolute;left:48.11px;top:349.03px" class="cls_043"><span class="cls_043">magnetic door lock, 148-153</span></div>
<div style="position:absolute;left:287.87px;top:349.04px" class="cls_043"><span class="cls_043">semiconductors, suppliers, 183</span></div>
<div style="position:absolute;left:48.11px;top:363.02px" class="cls_043"><span class="cls_043">model traffic signal, 41-44</span></div>
<div style="position:absolute;left:287.87px;top:363.02px" class="cls_043"><span class="cls_043">sensors</span></div>
<div style="position:absolute;left:48.11px;top:377.00px" class="cls_043"><span class="cls_043">model traffic signal using a rotary encoder,</span></div>
<div style="position:absolute;left:299.86px;top:377.01px" class="cls_043"><span class="cls_043">keypad security code (Project 10), 61-67</span></div>
<div style="position:absolute;left:60.10px;top:390.99px" class="cls_043"><span class="cls_043">68-72</span></div>
<div style="position:absolute;left:299.86px;top:391.00px" class="cls_043"><span class="cls_043">model traffic signal using a rotary encoder</span></div>
<div style="position:absolute;left:48.11px;top:404.98px" class="cls_043"><span class="cls_043">Morse code S.O.S. flasher, 27-29</span></div>
<div style="position:absolute;left:311.85px;top:404.98px" class="cls_043"><span class="cls_043">(Project 11), 68-72</span></div>
<div style="position:absolute;left:48.11px;top:418.96px" class="cls_043"><span class="cls_043">Morse code translator, 31-35</span></div>
<div style="position:absolute;left:299.86px;top:418.97px" class="cls_043"><span class="cls_043">pulse rate monitor (Project 12), 73-77</span></div>
<div style="position:absolute;left:48.11px;top:432.95px" class="cls_043"><span class="cls_043">multicolor light display, 85-89</span></div>
<div style="position:absolute;left:299.86px;top:432.95px" class="cls_043"><span class="cls_043">USB temperature logger (Project 13), 77-83</span></div>
<div style="position:absolute;left:48.11px;top:446.93px" class="cls_043"><span class="cls_043">oscilloscope, 107-111</span></div>
<div style="position:absolute;left:287.87px;top:446.94px" class="cls_043"><span class="cls_043">Serial Monitor, 34-35, 75</span></div>
<div style="position:absolute;left:48.11px;top:460.92px" class="cls_043"><span class="cls_043">pulse rate monitor, 73-77</span></div>
<div style="position:absolute;left:287.87px;top:460.93px" class="cls_043"><span class="cls_043">serial port, settings, 6, </span><span class="cls_045">7</span></div>
<div style="position:absolute;left:48.11px;top:474.91px" class="cls_043"><span class="cls_043">S.A.D. light, 47-52</span></div>
<div style="position:absolute;left:287.87px;top:474.92px" class="cls_043"><span class="cls_043">serial programming connector, 20</span></div>
<div style="position:absolute;left:48.11px;top:488.89px" class="cls_043"><span class="cls_043">servo-controlled laser, 138-143</span></div>
<div style="position:absolute;left:287.87px;top:488.90px" class="cls_043"><span class="cls_043">servo motors, 138</span></div>
<div style="position:absolute;left:48.11px;top:502.88px" class="cls_043"><span class="cls_043">seven-segment LED double dice, 91-95</span></div>
<div style="position:absolute;left:287.87px;top:502.89px" class="cls_043"><span class="cls_043">servo-controlled laser (Project 25), 138-143</span></div>
<div style="position:absolute;left:48.11px;top:516.87px" class="cls_043"><span class="cls_043">strobe light, 44-47</span></div>
<div style="position:absolute;left:287.87px;top:516.87px" class="cls_043"><span class="cls_043">seven-segment LED double dice (Project 15), 91-95</span></div>
<div style="position:absolute;left:48.11px;top:530.85px" class="cls_043"><span class="cls_043">tune player, 112-116</span></div>
<div style="position:absolute;left:287.87px;top:530.86px" class="cls_043"><span class="cls_043">seven-segment LEDs, 89-91</span></div>
<div style="position:absolute;left:48.11px;top:544.84px" class="cls_043"><span class="cls_043">USB message board, 102-105</span></div>
<div style="position:absolute;left:299.86px;top:544.85px" class="cls_045"><span class="cls_045">See also</span><span class="cls_043"> LEDs</span></div>
<div style="position:absolute;left:48.11px;top:558.82px" class="cls_043"><span class="cls_043">USB temperature logger, 77-83</span></div>
<div style="position:absolute;left:287.87px;top:558.83px" class="cls_043"><span class="cls_043">shields, 38-40, 47, 142, 174-175</span></div>
<div style="position:absolute;left:48.11px;top:572.81px" class="cls_043"><span class="cls_043">VU meter, 120-124</span></div>
<div style="position:absolute;left:287.87px;top:572.82px" class="cls_043"><span class="cls_043">Shirriff, Ken, 154</span></div>
<div style="position:absolute;left:36.12px;top:586.80px" class="cls_043"><span class="cls_043">Protoshield circuit boards, 39</span></div>
<div style="position:absolute;left:287.87px;top:586.81px" class="cls_043"><span class="cls_043">sine waves, 111</span></div>
<div style="position:absolute;left:36.12px;top:600.78px" class="cls_043"><span class="cls_043">pulse rate monitor (Project 12), 73-77</span></div>
<div style="position:absolute;left:287.87px;top:600.79px" class="cls_043"><span class="cls_043">sketches, 8</span></div>
<div style="position:absolute;left:36.12px;top:614.77px" class="cls_043"><span class="cls_043">Pulse Width Modulation, 48</span></div>
<div style="position:absolute;left:287.87px;top:614.78px" class="cls_043"><span class="cls_043">snips, 176</span></div>
<div style="position:absolute;left:36.12px;top:628.75px" class="cls_043"><span class="cls_043">PWM, 48</span></div>
<div style="position:absolute;left:287.87px;top:628.76px" class="cls_043"><span class="cls_043">software</span></div>
<div style="position:absolute;left:299.86px;top:642.75px" class="cls_043"><span class="cls_043">Blink sketch, 8-9</span></div>
<div style="position:absolute;left:36.12px;top:653.24px" class="cls_044"><span class="cls_044">R</span></div>
<div style="position:absolute;left:299.86px;top:656.74px" class="cls_043"><span class="cls_043">downloading project software, 6-8</span></div>
<div style="position:absolute;left:36.12px;top:670.72px" class="cls_043"><span class="cls_043">R-2R resistor ladder, 111, </span><span class="cls_045">112</span></div>
<div style="position:absolute;left:299.86px;top:670.72px" class="cls_043"><span class="cls_043">installing, 3-6</span></div>
<div style="position:absolute;left:36.12px;top:684.71px" class="cls_043"><span class="cls_043">RAM, 15</span></div>
<div style="position:absolute;left:287.87px;top:684.71px" class="cls_043"><span class="cls_043">soldering, 176-177</span></div>
<div style="position:absolute;left:36.12px;top:698.70px" class="cls_043"><span class="cls_043">random function, 55</span></div>
<div style="position:absolute;left:287.87px;top:698.69px" class="cls_043"><span class="cls_043">solenoid, 148-150, 153</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-276px;top:161460px;width:552px;height:770px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="54d17622-7eb4-11e9-9d71-0cc47a792c0a_id_54d17622-7eb4-11e9-9d71-0cc47a792c0a_files/background208.jpg" width=552 height=770></div>
<div style="position:absolute;left:445.10px;top:34.50px" class="cls_018"><span class="cls_018">Index</span></div>
<div style="position:absolute;left:500.70px;top:34.50px" class="cls_017"><span class="cls_017">191</span></div>
<div style="position:absolute;left:36.21px;top:69.31px" class="cls_043"><span class="cls_043">sound</span></div>
<div style="position:absolute;left:287.97px;top:69.31px" class="cls_043"><span class="cls_043">transistors, 173-174</span></div>
<div style="position:absolute;left:48.20px;top:83.30px" class="cls_043"><span class="cls_043">generation, 111-112</span></div>
<div style="position:absolute;left:299.96px;top:83.29px" class="cls_043"><span class="cls_043">bipolar transistors, 90-91</span></div>
<div style="position:absolute;left:48.20px;top:97.28px" class="cls_043"><span class="cls_043">light harp (Project 20), 117-120</span></div>
<div style="position:absolute;left:299.96px;top:97.28px" class="cls_043"><span class="cls_043">datasheet, 174</span></div>
<div style="position:absolute;left:48.20px;top:111.27px" class="cls_043"><span class="cls_043">oscilloscope (Project 18), 107-111</span></div>
<div style="position:absolute;left:299.96px;top:111.26px" class="cls_043"><span class="cls_043">FETs, 48, 96</span></div>
<div style="position:absolute;left:48.20px;top:125.26px" class="cls_043"><span class="cls_043">tune player (Project 19), 112-116</span></div>
<div style="position:absolute;left:299.96px;top:125.25px" class="cls_043"><span class="cls_043">MOSFETs, 135-136</span></div>
<div style="position:absolute;left:48.20px;top:139.24px" class="cls_043"><span class="cls_043">VU meter (Project 21), 120-124</span></div>
<div style="position:absolute;left:299.96px;top:139.24px" class="cls_043"><span class="cls_043">NPN bipolar transistor, 36</span></div>
<div style="position:absolute;left:36.21px;top:153.23px" class="cls_043"><span class="cls_043">square waves, 111</span></div>
<div style="position:absolute;left:299.96px;top:153.22px" class="cls_043"><span class="cls_043">PNP transistors, 92</span></div>
<div style="position:absolute;left:36.21px;top:167.21px" class="cls_043"><span class="cls_043">Stanley, Mark, 64</span></div>
<div style="position:absolute;left:299.96px;top:167.21px" class="cls_043"><span class="cls_043">used in this book, 173</span></div>
<div style="position:absolute;left:36.21px;top:181.20px" class="cls_043"><span class="cls_043">starter kit of components, 185</span></div>
<div style="position:absolute;left:287.97px;top:181.19px" class="cls_043"><span class="cls_043">Transistor-Transistor Logic, 16</span></div>
<div style="position:absolute;left:36.21px;top:195.19px" class="cls_043"><span class="cls_043">Strings, 24</span></div>
<div style="position:absolute;left:287.97px;top:195.18px" class="cls_043"><span class="cls_043">TTL, 16</span></div>
<div style="position:absolute;left:36.21px;top:209.17px" class="cls_043"><span class="cls_043">strobe light (high-powered—Project 8), 52-55</span></div>
<div style="position:absolute;left:287.97px;top:209.17px" class="cls_043"><span class="cls_043">tune player (Project 19), 112-116</span></div>
<div style="position:absolute;left:36.21px;top:223.16px" class="cls_043"><span class="cls_043">strobe light (Project 6), 44-46</span></div>
<div style="position:absolute;left:287.97px;top:233.65px" class="cls_044"><span class="cls_044">U</span></div>
<div style="position:absolute;left:48.20px;top:237.14px" class="cls_043"><span class="cls_043">making a shield for, 47</span></div>
<div style="position:absolute;left:36.21px;top:251.13px" class="cls_043"><span class="cls_043">suppliers, 181-184</span></div>
<div style="position:absolute;left:287.97px;top:251.13px" class="cls_043"><span class="cls_043">updates, 3</span></div>
<div style="position:absolute;left:287.97px;top:265.12px" class="cls_043"><span class="cls_043">USB drivers, installing, 3-4</span></div>
<div style="position:absolute;left:36.21px;top:275.61px" class="cls_044"><span class="cls_044">T</span></div>
<div style="position:absolute;left:287.97px;top:279.11px" class="cls_043"><span class="cls_043">USB interface chip, 20</span></div>
<div style="position:absolute;left:36.21px;top:293.09px" class="cls_043"><span class="cls_043">temperature</span></div>
<div style="position:absolute;left:287.97px;top:293.09px" class="cls_043"><span class="cls_043">USB lead, type A-to-type B, 1</span></div>
<div style="position:absolute;left:48.20px;top:307.08px" class="cls_043"><span class="cls_043">LCD thermostat, 125-131</span></div>
<div style="position:absolute;left:287.97px;top:307.08px" class="cls_043"><span class="cls_043">USB message board (Project 17), 102-105</span></div>
<div style="position:absolute;left:48.20px;top:321.07px" class="cls_043"><span class="cls_043">measuring, 77</span></div>
<div style="position:absolute;left:287.97px;top:321.06px" class="cls_043"><span class="cls_043">USB temperature logger (Project 13), 77-83</span></div>
<div style="position:absolute;left:48.20px;top:335.05px" class="cls_043"><span class="cls_043">temperature logger, 77-83</span></div>
<div style="position:absolute;left:287.97px;top:345.54px" class="cls_044"><span class="cls_044">V</span></div>
<div style="position:absolute;left:36.21px;top:349.04px" class="cls_043"><span class="cls_043">Theremin, 117</span></div>
<div style="position:absolute;left:36.21px;top:363.02px" class="cls_043"><span class="cls_043">thermistors, 77</span></div>
<div style="position:absolute;left:287.97px;top:363.02px" class="cls_043"><span class="cls_043">variable resistors, 45, 46, 47, 147</span></div>
<div style="position:absolute;left:48.20px;top:377.01px" class="cls_043"><span class="cls_043">USB temperature logger (Project 13),</span></div>
<div style="position:absolute;left:287.97px;top:377.01px" class="cls_043"><span class="cls_043">variables, 22, 23</span></div>
<div style="position:absolute;left:60.19px;top:391.00px" class="cls_043"><span class="cls_043">77-83</span></div>
<div style="position:absolute;left:287.97px;top:391.00px" class="cls_043"><span class="cls_043">voltage, measuring, 177-178</span></div>
<div style="position:absolute;left:36.21px;top:404.98px" class="cls_043"><span class="cls_043">thermostat, 125-131</span></div>
<div style="position:absolute;left:287.97px;top:404.98px" class="cls_043"><span class="cls_043">voltage regulator, 16</span></div>
<div style="position:absolute;left:36.21px;top:418.97px" class="cls_043"><span class="cls_043">timer, 163-168</span></div>
<div style="position:absolute;left:287.97px;top:418.97px" class="cls_043"><span class="cls_043">VU meter (Project 21), 120-124</span></div>
<div style="position:absolute;left:36.21px;top:432.95px" class="cls_043"><span class="cls_043">tools, 175</span></div>
<div style="position:absolute;left:287.97px;top:443.45px" class="cls_044"><span class="cls_044">W</span></div>
<div style="position:absolute;left:48.20px;top:446.94px" class="cls_043"><span class="cls_043">component box, 175</span></div>
<div style="position:absolute;left:48.20px;top:460.93px" class="cls_043"><span class="cls_043">multimeter, 177-179</span></div>
<div style="position:absolute;left:287.97px;top:460.93px" class="cls_043"><span class="cls_043">web color chart, 87</span></div>
<div style="position:absolute;left:48.20px;top:474.91px" class="cls_043"><span class="cls_043">oscilloscopes, 179</span></div>
<div style="position:absolute;left:287.97px;top:474.92px" class="cls_043"><span class="cls_043">website, 2</span></div>
<div style="position:absolute;left:48.20px;top:488.90px" class="cls_043"><span class="cls_043">snips and pliers, 176</span></div>
<div style="position:absolute;left:287.97px;top:488.90px" class="cls_043"><span class="cls_043">Windows, installing software on, 2-4</span></div>
<div style="position:absolute;left:48.20px;top:502.88px" class="cls_043"><span class="cls_043">soldering, 176-177</span></div>
<div style="position:absolute;left:287.97px;top:502.89px" class="cls_043"><span class="cls_043">wire stripper, 176</span></div>
</div>

</body>
</html>
